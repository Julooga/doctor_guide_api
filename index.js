"use strict";var hU=Object.create;var Vc=Object.defineProperty;var yU=Object.getOwnPropertyDescriptor;var gU=Object.getOwnPropertyNames;var vU=Object.getPrototypeOf,_U=Object.prototype.hasOwnProperty;var T=(t,e)=>()=>(t&&(e=t(t=0)),e);var E=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),$r=(t,e)=>{for(var r in e)Vc(t,r,{get:e[r],enumerable:!0})},K_=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gU(e))!_U.call(t,i)&&i!==r&&Vc(t,i,{get:()=>e[i],enumerable:!(n=yU(e,i))||n.enumerable});return t};var P=(t,e,r)=>(r=t!=null?hU(vU(t)):{},K_(e||!t||!t.__esModule?Vc(r,"default",{value:t,enumerable:!0}):r,t)),X=t=>K_(Vc({},"__esModule",{value:!0}),t);var Ib=E((wge,fq)=>{fq.exports={name:"dotenv",version:"16.5.0",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard",pretest:"npm run lint && npm run dts-check",test:"tap run --allow-empty-coverage --disable-coverage --timeout=60000","test:coverage":"tap run --show-full-coverage --timeout=60000 --coverage-report=lcov",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},homepage:"https://github.com/motdotla/dotenv#readme",funding:"https://dotenvx.com",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@types/node":"^18.11.3",decache:"^4.6.2",sinon:"^14.0.1",standard:"^17.0.0","standard-version":"^9.5.0",tap:"^19.2.0",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var Rb=E((Ige,yn)=>{var cf=require("fs"),lf=require("path"),hq=require("os"),yq=require("crypto"),gq=Ib(),Pb=gq.version,vq=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function _q(t){let e={},r=t.toString();r=r.replace(/\r\n?/mg,`
`);let n;for(;(n=vq.exec(r))!=null;){let i=n[1],s=n[2]||"";s=s.trim();let o=s[0];s=s.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),o==='"'&&(s=s.replace(/\\n/g,`
`),s=s.replace(/\\r/g,"\r")),e[i]=s}return e}function bq(t){let e=Ob(t),r=ht.configDotenv({path:e});if(!r.parsed){let o=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw o.code="MISSING_DATA",o}let n=Ab(t).split(","),i=n.length,s;for(let o=0;o<i;o++)try{let a=n[o].trim(),c=Sq(r,a);s=ht.decrypt(c.ciphertext,c.key);break}catch(a){if(o+1>=i)throw a}return ht.parse(s)}function Eq(t){console.log(`[dotenv@${Pb}][WARN] ${t}`)}function aa(t){console.log(`[dotenv@${Pb}][DEBUG] ${t}`)}function Ab(t){return t&&t.DOTENV_KEY&&t.DOTENV_KEY.length>0?t.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Sq(t,e){let r;try{r=new URL(e)}catch(a){if(a.code==="ERR_INVALID_URL"){let c=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenvx.com/vault/.env.vault?environment=development");throw c.code="INVALID_DOTENV_KEY",c}throw a}let n=r.password;if(!n){let a=new Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let i=r.searchParams.get("environment");if(!i){let a=new Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let s=`DOTENV_VAULT_${i.toUpperCase()}`,o=t.parsed[s];if(!o){let a=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${s} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:o,key:n}}function Ob(t){let e=null;if(t&&t.path&&t.path.length>0)if(Array.isArray(t.path))for(let r of t.path)cf.existsSync(r)&&(e=r.endsWith(".vault")?r:`${r}.vault`);else e=t.path.endsWith(".vault")?t.path:`${t.path}.vault`;else e=lf.resolve(process.cwd(),".env.vault");return cf.existsSync(e)?e:null}function Tb(t){return t[0]==="~"?lf.join(hq.homedir(),t.slice(1)):t}function Cq(t){!!(t&&t.debug)&&aa("Loading env from encrypted .env.vault");let r=ht._parseVault(t),n=process.env;return t&&t.processEnv!=null&&(n=t.processEnv),ht.populate(n,r,t),{parsed:r}}function xq(t){let e=lf.resolve(process.cwd(),".env"),r="utf8",n=!!(t&&t.debug);t&&t.encoding?r=t.encoding:n&&aa("No encoding is specified. UTF-8 is used by default");let i=[e];if(t&&t.path)if(!Array.isArray(t.path))i=[Tb(t.path)];else{i=[];for(let c of t.path)i.push(Tb(c))}let s,o={};for(let c of i)try{let l=ht.parse(cf.readFileSync(c,{encoding:r}));ht.populate(o,l,t)}catch(l){n&&aa(`Failed to load ${c} ${l.message}`),s=l}let a=process.env;return t&&t.processEnv!=null&&(a=t.processEnv),ht.populate(a,o,t),s?{parsed:o,error:s}:{parsed:o}}function wq(t){if(Ab(t).length===0)return ht.configDotenv(t);let e=Ob(t);return e?ht._configVault(t):(Eq(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),ht.configDotenv(t))}function Iq(t,e){let r=Buffer.from(e.slice(-64),"hex"),n=Buffer.from(t,"base64"),i=n.subarray(0,12),s=n.subarray(-16);n=n.subarray(12,-16);try{let o=yq.createDecipheriv("aes-256-gcm",r,i);return o.setAuthTag(s),`${o.update(n)}${o.final()}`}catch(o){let a=o instanceof RangeError,c=o.message==="Invalid key length",l=o.message==="Unsupported state or unable to authenticate data";if(a||c){let d=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw d.code="INVALID_DOTENV_KEY",d}else if(l){let d=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw d.code="DECRYPTION_FAILED",d}else throw o}}function Tq(t,e,r={}){let n=!!(r&&r.debug),i=!!(r&&r.override);if(typeof e!="object"){let s=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw s.code="OBJECT_REQUIRED",s}for(let s of Object.keys(e))Object.prototype.hasOwnProperty.call(t,s)?(i===!0&&(t[s]=e[s]),n&&aa(i===!0?`"${s}" is already defined and WAS overwritten`:`"${s}" is already defined and was NOT overwritten`)):t[s]=e[s]}var ht={configDotenv:xq,_configVault:Cq,_parseVault:bq,config:wq,decrypt:Iq,parse:_q,populate:Tq};yn.exports.configDotenv=ht.configDotenv;yn.exports._configVault=ht._configVault;yn.exports._parseVault=ht._parseVault;yn.exports.config=ht.config;yn.exports.decrypt=ht.decrypt;yn.exports.parse=ht.parse;yn.exports.populate=ht.populate;yn.exports=ht});var kb=E((Tge,Nb)=>{var Ls={};process.env.DOTENV_CONFIG_ENCODING!=null&&(Ls.encoding=process.env.DOTENV_CONFIG_ENCODING);process.env.DOTENV_CONFIG_PATH!=null&&(Ls.path=process.env.DOTENV_CONFIG_PATH);process.env.DOTENV_CONFIG_DEBUG!=null&&(Ls.debug=process.env.DOTENV_CONFIG_DEBUG);process.env.DOTENV_CONFIG_OVERRIDE!=null&&(Ls.override=process.env.DOTENV_CONFIG_OVERRIDE);process.env.DOTENV_CONFIG_DOTENV_KEY!=null&&(Ls.DOTENV_KEY=process.env.DOTENV_CONFIG_DOTENV_KEY);Nb.exports=Ls});var Mb=E((Pge,Db)=>{var Pq=/^dotenv_config_(encoding|path|debug|override|DOTENV_KEY)=(.+)$/;Db.exports=function(e){return e.reduce(function(r,n){let i=n.match(Pq);return i&&(r[i[1]]=i[2]),r},{})}});var Vt=E((_ve,fE)=>{var ZG={pk:"pk",sk:"sk"},QG={raw:"raw",includeKeys:"includeKeys",attributes:"attributes"},XG={batch:"batch",concurrent:"concurrent"},eH={keys:"keys",attributes:"attributes",v2:"v2"},tH={and:"and",gte:"gte",gt:"gt",lte:"lte",lt:"lt",eq:"eq",begins:"begins",between:"between",collection:"collection",clustered_collection:"clustered_collection",is:"is"},qt={check:"check",put:"put",get:"get",query:"query",scan:"scan",update:"update",delete:"delete",remove:"remove",patch:"patch",create:"create",batchGet:"batchGet",batchWrite:"batchWrite",upsert:"upsert",transactWrite:"transactWrite",transactGet:"transactGet"},rH={transactWrite:qt.transactWrite,transactGet:qt.transactGet},nH={[qt.get]:"Get",[qt.check]:"ConditionCheck",[qt.put]:"Put",[qt.create]:"Put",[qt.upsert]:"Update",[qt.update]:"Update",[qt.patch]:"Update",[qt.remove]:"Delete",[qt.delete]:"Delete"},iH={put:"put",get:"get",query:"query",scan:"scan",update:"update",delete:"delete",remove:"delete",patch:"update",create:"put",batchGet:"batchGet",batchWrite:"batchWrite",upsert:"update",transactWrite:"transactWrite",transactGet:"transactGet"},sH={isolated:"isolated",clustered:"clustered"},oH={lte:"<=",lt:"<",gte:">=",gt:">"},aH={lt:"<",gte:">=",gt:">=",lte:"<"},cH=["string","number"],pE={string:"string",number:"number",boolean:"boolean",enum:"enum",map:"map",set:"set",list:"list",any:"any",custom:"custom",static:"static"},lH={...pE,item:"item"},dH={ConditionExpression:"ConditionExpression",FilterExpression:"FilterExpression"},uH={entity:Symbol("entity"),service:Symbol("service"),electro:Symbol("electro")},pH={electro:"electro",service:"service",entity:"entity",model:"model"},mH={beta:"beta",v1:"v1",v2:"v2"},fH={v1:"v1"},hH={v1:"v1"},yH={[qt.batchGet]:100,[qt.batchWrite]:25},gH={get:"get",set:"set"},vH={raw:"raw",named:"named",item:"item",cursor:"cursor"},_H={raw:"raw",item:"item"},bH="*",EH={set:"set",delete:"delete",remove:"remove",add:"add",subtract:"subtract",append:"append",ifNotExists:"ifNotExists"},SH={set:"set",add:"add",subtract:"subtract",append:"append",ifNotExists:"ifNotExists"},CH=Symbol("attribute_proxy"),xH=Symbol("transaction_commit"),wH={update:"update",filter:"filter"},IH={string:"string",boolean:"boolean",number:"number",array:"array",set:"set",aws_set:"aws_set",object:"object",map:"map",null:"null",undefined:"undefined",unknown:"unknown"},TH={readonly:"readonly",required:"required",getters:"getters",setters:"setters"},PH={default:"default",none:"none",all_old:"all_old",updated_old:"updated_old",all_new:"all_new",updated_new:"updated_new"},AH={none:"NONE",default:"NONE",all_old:"ALL_OLD",updated_old:"UPDATED_OLD",all_new:"ALL_NEW",updated_new:"UPDATED_NEW"},OH="",mE={none:"none",upper:"upper",lower:"lower",default:"default"},RH=mE.lower,NH=["query","results"],kH={go:"go",page:"page"},DH="all",MH={asc:!0,desc:!1},FH="ScanIndexForward",jH=Object.entries({string:"S",stringSet:"SS",number:"N",numberSet:"NS",binary:"B",binarySet:"BS",boolean:"BOOL",null:"NULL",list:"L",map:"M"}).reduce((t,[e,r])=>(t[e]=r,t[r]=r,t),{}),LH={string:"string",number:"number"};fE.exports={Pager:vH,KeyTypes:ZG,CastTypes:cH,KeyCasing:mE,PathTypes:lH,IndexTypes:sH,QueryTypes:tH,ValueTypes:IH,TableIndex:OH,MethodTypes:qt,DataOptions:QG,Comparisons:oH,BuilderTypes:wH,ReturnValues:PH,MaxBatchItems:yH,ModelVersions:mH,ItemOperations:EH,AttributeTypes:pE,EntityVersions:fH,CastKeyOptions:LH,ComparisonTypes:eH,ServiceVersions:hH,ExpressionTypes:dH,ElectroInstance:uH,TraverserIndexes:TH,UnprocessedTypes:_H,AttributeWildCard:bH,TerminalOperation:kH,FormatToReturnValues:AH,AttributeProxySymbol:CH,ElectroInstanceTypes:pH,MethodTypeTranslation:iH,EventSubscriptionTypes:NH,DynamoDBAttributeTypes:jH,KeyAttributesComparisons:aH,AttributeMutationMethods:gH,AllPages:DH,ResultOrderOption:MH,ResultOrderParam:FH,TransactionCommitSymbol:xH,TransactionOperations:nH,TransactionMethods:rH,UpsertOperations:SH,BatchWriteTypes:XG,DefaultKeyCasing:RH}});var ur=E((bve,yE)=>{function $H(t){return t=t||"unknown-error-5001",`https://electrodb.dev/en/reference/errors/#${t}`}var ae=Symbol("error-code"),fa={NoClientDefined:{code:1001,section:"no-client-defined-on-model",name:"NoClientDefined",sym:ae},InvalidIdentifier:{code:1002,section:"invalid-identifier",name:"InvalidIdentifier",sym:ae},InvalidKeyCompositeAttributeTemplate:{code:1003,section:"invalid-key-composite-attribute-template",name:"InvalidKeyCompositeAttributeTemplate",sym:ae},DuplicateIndexes:{code:1004,section:"duplicate-indexes",name:"DuplicateIndexes",sym:ae},CollectionNoSK:{code:1005,section:"collection-without-an-sk",name:"CollectionNoSK",sym:ae},DuplicateCollections:{code:1006,section:"duplicate-collections",name:"DuplicateCollections",sym:ae},MissingPrimaryIndex:{code:1007,section:"missing-primary-index",name:"MissingPrimaryIndex",sym:ae},InvalidAttributeDefinition:{code:1008,section:"invalid-attribute-definition",name:"InvalidAttributeDefinition",sym:ae},InvalidModel:{code:1009,section:"invalid-model",name:"InvalidModel",sym:ae},InvalidOptions:{code:1010,section:"invalid-options",name:"InvalidOptions",sym:ae},InvalidFilter:{code:1011,section:"filters",name:"InvalidFilter",sym:ae},InvalidWhere:{code:1012,section:"where",name:"InvalidWhere",sym:ae},InvalidJoin:{code:1013,section:"join",name:"InvalidJoin",sym:ae},DuplicateIndexFields:{code:1014,section:"duplicate-index-fields",name:"DuplicateIndexField",sym:ae},DuplicateIndexCompositeAttributes:{code:1015,section:"duplicate-index-composite-attributes",name:"DuplicateIndexCompositeAttributes",sym:ae},InvalidAttributeWatchDefinition:{code:1016,section:"invalid-attribute-watch-definition",name:"InvalidAttributeWatchDefinition",sym:ae},IncompatibleKeyCompositeAttributeTemplate:{code:1017,section:"incompatible-key-composite-attribute-template",name:"IncompatibleKeyCompositeAttributeTemplate",sym:ae},InvalidIndexWithAttributeName:{code:1018,section:"invalid-index-with-attribute-name",name:"InvalidIndexWithAttributeName",sym:ae},InvalidCollectionOnIndexWithAttributeFieldNames:{code:1019,section:"invalid-collection-on-index-with-attribute-field-names",name:"InvalidIndexCompositeWithAttributeName",sym:ae},IncompatibleKeyCasing:{code:1020,section:"incompatible-key-casing",name:"IncompatibleKeyCasing",sym:ae},InvalidListenerProvided:{code:1020,section:"invalid-listener-provided",name:"InvalidListenerProvided",sym:ae},InvalidLoggerProvided:{code:1020,section:"invalid-listener-provided",name:"InvalidListenerProvided",sym:ae},InvalidClientProvided:{code:1021,section:"invalid-client-provided",name:"InvalidClientProvided",sym:ae},InconsistentIndexDefinition:{code:1022,section:"inconsistent-index-definition",name:"Inconsistent Index Definition",sym:ae},MissingAttribute:{code:2001,section:"missing-attribute",name:"MissingAttribute",sym:ae},IncompleteCompositeAttributes:{code:2002,section:"incomplete-composite-attributes",name:"IncompleteCompositeAttributes",sym:ae},MissingTable:{code:2003,section:"missing-table",name:"MissingTable",sym:ae},InvalidConcurrencyOption:{code:2004,section:"invalid-concurrency-option",name:"InvalidConcurrencyOption",sym:ae},InvalidPagesOption:{code:2005,section:"invalid-pages-option",name:"InvalidPagesOption",sym:ae},InvalidLimitOption:{code:2006,section:"invalid-limit-option",name:"InvalidLimitOption",sym:ae},InvalidConversionKeysProvided:{code:2007,section:"invalid-conversion-values-provided",name:"InvalidConversionKeysProvided",sym:ae},InvalidConversionCursorProvided:{code:2008,section:"invalid-conversion-values-provided",name:"InvalidConversionCursorProvided",sym:ae},InvalidConversionCompositeProvided:{code:2009,section:"invalid-conversion-values-provided",name:"InvalidConversionCompositeProvided",sym:ae},DuplicateUpdateCompositesProvided:{code:2010,section:"duplicate-update-composites-provided",name:"DuplicateUpdateCompositesProvided",sym:ae},InvalidIndexCondition:{code:2011,section:"invalid-index-option",name:"InvalidIndexOption",sym:ae},IncompleteIndexCompositesAttributesProvided:{code:2012,section:"invalid-index-composite-attributes-provided",name:"IncompleteIndexCompositesAttributesProvided",sym:ae},InvalidAttribute:{code:3001,section:"invalid-attribute",name:"InvalidAttribute",sym:ae},AWSError:{code:4001,section:"aws-error",name:"AWSError",sym:ae},UnknownError:{code:5001,section:"unknown-error",name:"UnknownError",sym:ae},GeneralError:{code:5002,section:"",name:"GeneralError",sym:ae},LastEvaluatedKey:{code:5003,section:"invalid-last-evaluated-key",name:"LastEvaluatedKey",sym:ae},NoOwnerForPager:{code:5004,section:"no-owner-for-pager",name:"NoOwnerForPager",sym:ae},NoOwnerForCursor:{code:5004,section:"no-owner-for-pager",name:"NoOwnerForCursor",sym:ae},PagerNotUnique:{code:5005,section:"pager-not-unique",name:"NoOwnerForPager",sym:ae}};function BH(t,e){return`${t} - For more detail on this error reference: ${$H(e)}`}var Ws=class t extends Error{constructor(e,r,n,i=null){super(r,{cause:n});let s=fa.UnknownError;e&&e.sym===ae&&(s=e),this._message=r,this.message=BH(r,s.section),Error.captureStackTrace&&Error.captureStackTrace(this,t),this.name="ElectroError",this.ref=e,this.code=s.code,this.date=Date.now(),this.isElectroError=!0,hE(this,i)}};function hE(t,e=null){Object.defineProperty(t,"params",{enumerable:!1,writable:!0,configurable:!0,value:()=>e})}var If=class extends Ws{constructor(e=[]){let r=[],n=[];for(let s=0;s<e.length;s++){let o=e[s],a=o?o._message||o.message:void 0;n.push(a),o instanceof yl?r.push({field:o.field,index:o.index,reason:a,cause:o.cause,type:"validation"}):o instanceof gl?r.push({field:o.field,index:o.index,reason:a,cause:o.cause||o,type:"validation"}):a&&r.push({field:"",index:o.index,reason:a,cause:o!==void 0?o.cause||o:void 0,type:"fatal"})}let i=n.filter(s=>typeof s=="string"&&s.length).join(", ")||"Invalid value(s) provided";super(fa.InvalidAttribute,i),this.fields=r,this.name="ElectroValidationError"}},yl=class extends Ws{constructor(e,r){let n,i=!1;typeof r=="string"?n=r:r!==void 0&&typeof r._message=="string"&&r._message.length?(n=r._message,i=!0):r!==void 0&&typeof r.message=="string"&&r.message.length?(n=r.message,i=!0):n="Invalid value provided",super(fa.InvalidAttribute,n),this.field=e,this.name="ElectroUserValidationError",i&&(this.cause=r)}},gl=class extends Ws{constructor(e,r){super(fa.InvalidAttribute,r),this.field=e}};yE.exports={ErrorCodes:fa,ElectroError:Ws,applyParamsFn:hE,ElectroValidationError:If,ElectroUserValidationError:yl,ElectroAttributeValidationError:gl}});var Xi=E((pr,_E)=>{"use strict";var vE=require("url"),Tf=pr.ValidationError=function(e,r,n,i,s,o){i&&(this.property=i),e&&(this.message=e),n&&(n.id?this.schema=n.id:this.schema=n),r!==void 0&&(this.instance=r),this.name=s,this.argument=o,this.stack=this.toString()};Tf.prototype.toString=function(){return this.property+" "+this.message};var vl=pr.ValidatorResult=function(e,r,n,i){this.instance=e,this.schema=r,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.disableFormat=n&&n.disableFormat===!0};vl.prototype.addError=function(e){var r;if(typeof e=="string")r=new Tf(e,this.instance,this.schema,this.propertyPath);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");r=new Tf(e.message,this.instance,this.schema,this.propertyPath,e.name,e.argument)}if(this.throwError)throw r;return this.errors.push(r),r};vl.prototype.importErrors=function(e){typeof e=="string"||e&&e.validatorType?this.addError(e):e&&e.errors&&Array.prototype.push.apply(this.errors,e.errors)};function UH(t,e){return e+": "+t.toString()+`
`}vl.prototype.toString=function(e){return this.errors.map(UH).join("")};Object.defineProperty(vl.prototype,"valid",{get:function(){return!this.errors.length}});var gE=pr.SchemaError=function t(e,r){this.message=e,this.schema=r,Error.call(this,e),Error.captureStackTrace(this,t)};gE.prototype=Object.create(Error.prototype,{constructor:{value:gE,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var Pf=pr.SchemaContext=function(e,r,n,i,s){this.schema=e,this.options=r,this.propertyPath=n,this.base=i,this.schemas=s};Pf.prototype.resolve=function(e){return vE.resolve(this.base,e)};Pf.prototype.makeChild=function(e,r){var n=r===void 0?this.propertyPath:this.propertyPath+qH(r),i=vE.resolve(this.base,e.id||""),s=new Pf(e,this.options,n,i,Object.create(this.schemas));return e.id&&!s.schemas[i]&&(s.schemas[i]=e),s};var Ir=pr.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+-.]*:[^\s]*$/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/,"utc-millisec":function(t){return typeof t=="string"&&parseFloat(t)===parseInt(t,10)&&!isNaN(t)},regex:function(t){var e=!0;try{new RegExp(t)}catch{e=!1}return e},style:/\s*(.+?):\s*([^;]+);?/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/};Ir.regexp=Ir.regex;Ir.pattern=Ir.regex;Ir.ipv4=Ir["ip-address"];pr.isFormat=function(e,r,n){if(typeof e=="string"&&Ir[r]!==void 0){if(Ir[r]instanceof RegExp)return Ir[r].test(e);if(typeof Ir[r]=="function")return Ir[r](e)}else if(n&&n.customFormats&&typeof n.customFormats[r]=="function")return n.customFormats[r](e);return!0};var qH=pr.makeSuffix=function(e){return e=e.toString(),!e.match(/[.\s\[\]]/)&&!e.match(/^[\d]/)?"."+e:e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]"};pr.deepCompareStrict=function t(e,r){if(typeof e!=typeof r)return!1;if(Array.isArray(e))return!Array.isArray(r)||e.length!==r.length?!1:e.every(function(s,o){return t(e[o],r[o])});if(typeof e=="object"){if(!e||!r)return e===r;var n=Object.keys(e),i=Object.keys(r);return n.length!==i.length?!1:n.every(function(s){return t(e[s],r[s])})}return e===r};function VH(t,e,r,n){typeof r=="object"?e[n]=Af(t[n],r):t.indexOf(r)===-1&&e.push(r)}function GH(t,e,r){e[r]=t[r]}function HH(t,e,r,n){typeof e[n]!="object"||!e[n]?r[n]=e[n]:t[n]?r[n]=Af(t[n],e[n]):r[n]=e[n]}function Af(t,e){var r=Array.isArray(e),n=r&&[]||{};return r?(t=t||[],n=n.concat(t),e.forEach(VH.bind(null,t,n))):(t&&typeof t=="object"&&Object.keys(t).forEach(GH.bind(null,t,n)),Object.keys(e).forEach(HH.bind(null,t,e,n))),n}_E.exports.deepMerge=Af;pr.objectGetPath=function(e,r){for(var n=r.split("/").slice(1),i;typeof(i=n.shift())=="string";){var s=decodeURIComponent(i.replace(/~0/,"~").replace(/~1/g,"/"));if(!(s in e))return;e=e[s]}return e};function KH(t){return"/"+encodeURIComponent(t).replace(/~/g,"%7E")}pr.encodePath=function(e){return e.map(KH).join("")};pr.getDecimalPlaces=function(e){var r=0;if(isNaN(e))return r;typeof e!="number"&&(e=Number(e));var n=e.toString().split("e");if(n.length===2){if(n[1][0]!=="-")return r;r=Number(n[1].slice(1))}var i=n[0].split(".");return i.length===2&&(r+=i[1].length),r}});var xE=E((Eve,CE)=>{"use strict";var Yn=Xi(),Ne=Yn.ValidatorResult,ha=Yn.SchemaError,Of={};Of.ignoreProperties={id:!0,default:!0,description:!0,title:!0,exclusiveMinimum:!0,exclusiveMaximum:!0,additionalItems:!0,$schema:!0,$ref:!0,extends:!0};var ke=Of.validators={};ke.type=function(e,r,n,i){if(e===void 0)return null;var s=new Ne(e,r,n,i),o=Array.isArray(r.type)?r.type:[r.type];if(!o.some(this.testType.bind(this,e,r,n,i))){var a=o.map(function(c){return c.id&&"<"+c.id+">"||c+""});s.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return s};function bE(t,e,r,n,i){var s=e.throwError;e.throwError=!1;var o=this.validateSchema(t,i,e,r);return e.throwError=s,!o.valid&&n instanceof Function&&n(o),o.valid}ke.anyOf=function(e,r,n,i){if(e===void 0)return null;var s=new Ne(e,r,n,i),o=new Ne(e,r,n,i);if(!Array.isArray(r.anyOf))throw new ha("anyOf must be an array");if(!r.anyOf.some(bE.bind(this,e,n,i,function(c){o.importErrors(c)}))){var a=r.anyOf.map(function(c,l){return c.id&&"<"+c.id+">"||c.title&&JSON.stringify(c.title)||c.$ref&&"<"+c.$ref+">"||"[subschema "+l+"]"});n.nestedErrors&&s.importErrors(o),s.addError({name:"anyOf",argument:a,message:"is not any of "+a.join(",")})}return s};ke.allOf=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.allOf))throw new ha("allOf must be an array");var s=new Ne(e,r,n,i),o=this;return r.allOf.forEach(function(a,c){var l=o.validateSchema(e,a,n,i);if(!l.valid){var d=a.id&&"<"+a.id+">"||a.title&&JSON.stringify(a.title)||a.$ref&&"<"+a.$ref+">"||"[subschema "+c+"]";s.addError({name:"allOf",argument:{id:d,length:l.errors.length,valid:l},message:"does not match allOf schema "+d+" with "+l.errors.length+" error[s]:"}),s.importErrors(l)}}),s};ke.oneOf=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.oneOf))throw new ha("oneOf must be an array");var s=new Ne(e,r,n,i),o=new Ne(e,r,n,i),a=r.oneOf.filter(bE.bind(this,e,n,i,function(l){o.importErrors(l)})).length,c=r.oneOf.map(function(l,d){return l.id&&"<"+l.id+">"||l.title&&JSON.stringify(l.title)||l.$ref&&"<"+l.$ref+">"||"[subschema "+d+"]"});return a!==1&&(n.nestedErrors&&s.importErrors(o),s.addError({name:"oneOf",argument:c,message:"is not exactly one from "+c.join(",")})),s};ke.properties=function(e,r,n,i){if(this.types.object(e)){var s=new Ne(e,r,n,i),o=r.properties||{};for(var a in o){typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,a,o[a],n,i);var c=Object.hasOwnProperty.call(e,a)?e[a]:void 0,l=this.validateSchema(c,o[a],n,i.makeChild(o[a],a));l.instance!==s.instance[a]&&(s.instance[a]=l.instance),s.importErrors(l)}return s}};function EE(t,e,r,n,i,s){if(this.types.object(t)&&!(e.properties&&e.properties[i]!==void 0))if(e.additionalProperties===!1)s.addError({name:"additionalProperties",argument:i,message:"additionalProperty "+JSON.stringify(i)+" exists in instance when not allowed"});else{var o=e.additionalProperties||{};typeof r.preValidateProperty=="function"&&r.preValidateProperty(t,i,o,r,n);var a=this.validateSchema(t[i],o,r,n.makeChild(o,i));a.instance!==s.instance[i]&&(s.instance[i]=a.instance),s.importErrors(a)}}ke.patternProperties=function(e,r,n,i){if(this.types.object(e)){var s=new Ne(e,r,n,i),o=r.patternProperties||{};for(var a in e){var c=!0;for(var l in o){var d=new RegExp(l,"u");if(d.test(a)){c=!1,typeof n.preValidateProperty=="function"&&n.preValidateProperty(e,a,o[l],n,i);var m=this.validateSchema(e[a],o[l],n,i.makeChild(o[l],a));m.instance!==s.instance[a]&&(s.instance[a]=m.instance),s.importErrors(m)}}c&&EE.call(this,e,r,n,i,a,s)}return s}};ke.additionalProperties=function(e,r,n,i){if(this.types.object(e)){if(r.patternProperties)return null;var s=new Ne(e,r,n,i);for(var o in e)EE.call(this,e,r,n,i,o,s);return s}};ke.minProperties=function(e,r,n,i){if(this.types.object(e)){var s=new Ne(e,r,n,i),o=Object.keys(e);return o.length>=r.minProperties||s.addError({name:"minProperties",argument:r.minProperties,message:"does not meet minimum property length of "+r.minProperties}),s}};ke.maxProperties=function(e,r,n,i){if(this.types.object(e)){var s=new Ne(e,r,n,i),o=Object.keys(e);return o.length<=r.maxProperties||s.addError({name:"maxProperties",argument:r.maxProperties,message:"does not meet maximum property length of "+r.maxProperties}),s}};ke.items=function(e,r,n,i){var s=this;if(this.types.array(e)&&r.items){var o=new Ne(e,r,n,i);return e.every(function(a,c){var l=Array.isArray(r.items)?r.items[c]||r.additionalItems:r.items;if(l===void 0)return!0;if(l===!1)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var d=s.validateSchema(a,l,n,i.makeChild(l,c));return d.instance!==o.instance[c]&&(o.instance[c]=d.instance),o.importErrors(d),!0}),o}};ke.minimum=function(e,r,n,i){if(this.types.number(e)){var s=new Ne(e,r,n,i),o=!0;return r.exclusiveMinimum&&r.exclusiveMinimum===!0?o=e>r.minimum:o=e>=r.minimum,o||s.addError({name:"minimum",argument:r.minimum,message:"must have a minimum value of "+r.minimum}),s}};ke.maximum=function(e,r,n,i){if(this.types.number(e)){var s=new Ne(e,r,n,i),o;return r.exclusiveMaximum&&r.exclusiveMaximum===!0?o=e<r.maximum:o=e<=r.maximum,o||s.addError({name:"maximum",argument:r.maximum,message:"must have a maximum value of "+r.maximum}),s}};var SE=function(e,r,n,i,s,o){if(this.types.number(e)){var a=r[s];if(a==0)throw new ha(s+" cannot be zero");var c=new Ne(e,r,n,i),l=Yn.getDecimalPlaces(e),d=Yn.getDecimalPlaces(a),m=Math.max(l,d),f=Math.pow(10,m);return Math.round(e*f)%Math.round(a*f)!==0&&c.addError({name:s,argument:a,message:o+JSON.stringify(a)}),c}};ke.multipleOf=function(e,r,n,i){return SE.call(this,e,r,n,i,"multipleOf","is not a multiple of (divisible by) ")};ke.divisibleBy=function(e,r,n,i){return SE.call(this,e,r,n,i,"divisibleBy","is not divisible by (multiple of) ")};ke.required=function(e,r,n,i){var s=new Ne(e,r,n,i);return e===void 0&&r.required===!0?s.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(r.required)&&r.required.forEach(function(o){e[o]===void 0&&s.addError({name:"required",argument:o,message:"requires property "+JSON.stringify(o)})}),s};ke.pattern=function(e,r,n,i){if(this.types.string(e)){var s=new Ne(e,r,n,i),o=new RegExp(r.pattern,"u");return e.match(o)||s.addError({name:"pattern",argument:r.pattern,message:"does not match pattern "+JSON.stringify(r.pattern.toString())}),s}};ke.format=function(e,r,n,i){if(e!==void 0){var s=new Ne(e,r,n,i);return!s.disableFormat&&!Yn.isFormat(e,r.format,this)&&s.addError({name:"format",argument:r.format,message:"does not conform to the "+JSON.stringify(r.format)+" format"}),s}};ke.minLength=function(e,r,n,i){if(this.types.string(e)){var s=new Ne(e,r,n,i),o=e.match(/[\uDC00-\uDFFF]/g),a=e.length-(o?o.length:0);return a>=r.minLength||s.addError({name:"minLength",argument:r.minLength,message:"does not meet minimum length of "+r.minLength}),s}};ke.maxLength=function(e,r,n,i){if(this.types.string(e)){var s=new Ne(e,r,n,i),o=e.match(/[\uDC00-\uDFFF]/g),a=e.length-(o?o.length:0);return a<=r.maxLength||s.addError({name:"maxLength",argument:r.maxLength,message:"does not meet maximum length of "+r.maxLength}),s}};ke.minItems=function(e,r,n,i){if(this.types.array(e)){var s=new Ne(e,r,n,i);return e.length>=r.minItems||s.addError({name:"minItems",argument:r.minItems,message:"does not meet minimum length of "+r.minItems}),s}};ke.maxItems=function(e,r,n,i){if(this.types.array(e)){var s=new Ne(e,r,n,i);return e.length<=r.maxItems||s.addError({name:"maxItems",argument:r.maxItems,message:"does not meet maximum length of "+r.maxItems}),s}};function zH(t,e,r){var n,i=r.length;for(n=e+1,i;n<i;n++)if(Yn.deepCompareStrict(t,r[n]))return!1;return!0}ke.uniqueItems=function(e,r,n,i){if(r.uniqueItems===!0&&this.types.array(e)){var s=new Ne(e,r,n,i);return e.every(zH)||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}};ke.dependencies=function(e,r,n,i){if(this.types.object(e)){var s=new Ne(e,r,n,i);for(var o in r.dependencies)if(e[o]!==void 0){var a=r.dependencies[o],c=i.makeChild(a,o);if(typeof a=="string"&&(a=[a]),Array.isArray(a))a.forEach(function(d){e[d]===void 0&&s.addError({name:"dependencies",argument:c.propertyPath,message:"property "+d+" not found, required by "+c.propertyPath})});else{var l=this.validateSchema(e,a,n,c);s.instance!==l.instance&&(s.instance=l.instance),l&&l.errors.length&&(s.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),s.importErrors(l))}}return s}};ke.enum=function(e,r,n,i){if(e===void 0)return null;if(!Array.isArray(r.enum))throw new ha("enum expects an array",r);var s=new Ne(e,r,n,i);return r.enum.some(Yn.deepCompareStrict.bind(null,e))||s.addError({name:"enum",argument:r.enum,message:"is not one of enum values: "+r.enum.map(String).join(",")}),s};ke.const=function(e,r,n,i){if(e===void 0)return null;var s=new Ne(e,r,n,i);return Yn.deepCompareStrict(r.const,e)||s.addError({name:"const",argument:r.const,message:"does not exactly match expected constant: "+r.const}),s};ke.not=ke.disallow=function(e,r,n,i){var s=this;if(e===void 0)return null;var o=new Ne(e,r,n,i),a=r.not||r.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach(function(c){if(s.testType(e,r,n,i,c)){var l=c&&c.id&&"<"+c.id+">"||c;o.addError({name:"not",argument:l,message:"is of prohibited type "+l})}}),o):null};CE.exports=Of});var _l=E((Sve,Rf)=>{"use strict";var wE=require("url"),WH=Xi();Rf.exports.SchemaScanResult=IE;function IE(t,e){this.id=t,this.ref=e}Rf.exports.scan=function(e,r){function n(c,l){if(!(!l||typeof l!="object")){if(l.$ref){var d=wE.resolve(c,l.$ref);a[d]=a[d]?a[d]+1:0;return}var m=l.id?wE.resolve(c,l.id):c;if(m){if(m.indexOf("#")<0&&(m+="#"),o[m]){if(!WH.deepCompareStrict(o[m],l))throw new Error("Schema <"+l+"> already exists with different definition");return o[m]}o[m]=l,m[m.length-1]=="#"&&(o[m.substring(0,m.length-1)]=l)}i(m+"/items",Array.isArray(l.items)?l.items:[l.items]),i(m+"/extends",Array.isArray(l.extends)?l.extends:[l.extends]),n(m+"/additionalItems",l.additionalItems),s(m+"/properties",l.properties),n(m+"/additionalProperties",l.additionalProperties),s(m+"/definitions",l.definitions),s(m+"/patternProperties",l.patternProperties),s(m+"/dependencies",l.dependencies),i(m+"/disallow",l.disallow),i(m+"/allOf",l.allOf),i(m+"/anyOf",l.anyOf),i(m+"/oneOf",l.oneOf),n(m+"/not",l.not)}}function i(c,l){if(Array.isArray(l))for(var d=0;d<l.length;d++)n(c+"/"+d,l[d])}function s(c,l){if(!(!l||typeof l!="object"))for(var d in l)n(c+"/"+d,l[d])}var o={},a={};return n(e,r),new IE(o,a)}});var DE=E((Cve,kE)=>{"use strict";var TE=require("url"),PE=xE(),Js=Xi(),AE=_l().scan,JH=Js.ValidatorResult,bl=Js.SchemaError,OE=Js.SchemaContext,RE="/",yt=function t(){this.customFormats=Object.create(t.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(Kr),this.attributes=Object.create(PE.validators)};yt.prototype.customFormats={};yt.prototype.schemas=null;yt.prototype.types=null;yt.prototype.attributes=null;yt.prototype.unresolvedRefs=null;yt.prototype.addSchema=function(e,r){var n=this;if(!e)return null;var i=AE(r||RE,e),s=r||e.id;for(var o in i.id)this.schemas[o]=i.id[o];for(var o in i.ref)this.unresolvedRefs.push(o);return this.unresolvedRefs=this.unresolvedRefs.filter(function(a){return typeof n.schemas[a]>"u"}),this.schemas[s]};yt.prototype.addSubSchemaArray=function(e,r){if(Array.isArray(r))for(var n=0;n<r.length;n++)this.addSubSchema(e,r[n])};yt.prototype.addSubSchemaObject=function(e,r){if(!(!r||typeof r!="object"))for(var n in r)this.addSubSchema(e,r[n])};yt.prototype.setSchemas=function(e){this.schemas=e};yt.prototype.getSchema=function(e){return this.schemas[e]};yt.prototype.validate=function(e,r,n,i){n||(n={});var s=n.propertyName||"instance",o=TE.resolve(n.base||RE,r.id||"");if(!i){i=new OE(r,n,s,o,Object.create(this.schemas)),i.schemas[o]||(i.schemas[o]=r);var a=AE(o,r);for(var c in a.id){var l=a.id[c];i.schemas[c]=l}}if(r){var d=this.validateSchema(e,r,n,i);if(!d)throw new Error("Result undefined");return d}throw new bl("no schema specified",r)};function NE(t){var e=typeof t=="string"?t:t.$ref;return typeof e=="string"?e:!1}yt.prototype.validateSchema=function(e,r,n,i){var s=new JH(e,r,n,i);if(typeof r=="boolean")r===!0?r={}:r===!1&&(r={type:[]});else if(!r)throw new Error("schema is undefined");if(r.extends)if(Array.isArray(r.extends)){var o={schema:r,ctx:i};r.extends.forEach(this.schemaTraverser.bind(this,o)),r=o.schema,o.schema=null,o.ctx=null,o=null}else r=Js.deepMerge(r,this.superResolve(r.extends,i));var a=NE(r);if(a){var c=this.resolve(r,a,i),l=new OE(c.subschema,n,i.propertyPath,c.switchSchema,i.schemas);return this.validateSchema(e,c.subschema,n,l)}var d=n&&n.skipAttributes||[];for(var m in r)if(!PE.ignoreProperties[m]&&d.indexOf(m)<0){var f=null,h=this.attributes[m];if(h)f=h.call(this,e,r,n,i);else if(n.allowUnknownAttributes===!1)throw new bl("Unsupported attribute: "+m,r);f&&s.importErrors(f)}if(typeof n.rewrite=="function"){var y=n.rewrite.call(this,e,r,n,i);s.instance=y}return s};yt.prototype.schemaTraverser=function(e,r){e.schema=Js.deepMerge(e.schema,this.superResolve(r,e.ctx))};yt.prototype.superResolve=function(e,r){var n=NE(e);return n?this.resolve(e,n,r).subschema:e};yt.prototype.resolve=function(e,r,n){if(r=n.resolve(r),n.schemas[r])return{subschema:n.schemas[r],switchSchema:r};var i=TE.parse(r),s=i&&i.hash,o=s&&s.length&&r.substr(0,r.length-s.length);if(!o||!n.schemas[o])throw new bl("no such schema <"+r+">",e);var a=Js.objectGetPath(n.schemas[o],s.substr(1));if(a===void 0)throw new bl("no such schema "+s+" located in <"+o+">",e);return{subschema:a,switchSchema:r}};yt.prototype.testType=function(e,r,n,i,s){if(typeof this.types[s]=="function")return this.types[s].call(this,e);if(s&&typeof s=="object"){var o=this.validateSchema(e,s,n,i);return o===void 0||!(o&&o.errors.length)}return!0};var Kr=yt.prototype.types={};Kr.string=function(e){return typeof e=="string"};Kr.number=function(e){return typeof e=="number"&&isFinite(e)};Kr.integer=function(e){return typeof e=="number"&&e%1===0};Kr.boolean=function(e){return typeof e=="boolean"};Kr.array=function(e){return Array.isArray(e)};Kr.null=function(e){return e===null};Kr.date=function(e){return e instanceof Date};Kr.any=function(e){return!0};Kr.object=function(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof Date)};kE.exports=yt});var ME=E((xve,Zn)=>{"use strict";var YH=Zn.exports.Validator=DE();Zn.exports.ValidatorResult=Xi().ValidatorResult;Zn.exports.ValidationError=Xi().ValidationError;Zn.exports.SchemaError=Xi().SchemaError;Zn.exports.SchemaScanResult=_l().SchemaScanResult;Zn.exports.scan=_l().scan;Zn.exports.validate=function(t,e,r){var n=new YH;return n.validate(t,e,r)}});var In=E((wve,LE)=>{var FE=ur(),{KeyCasing:ya}=Vt(),El=ME().Validator;El.prototype.customFormats.isFunction=function(t){return typeof t=="function"};El.prototype.customFormats.isFunctionOrString=function(t){return typeof t=="function"||typeof t=="string"};El.prototype.customFormats.isFunctionOrRegexp=function(t){return typeof t=="function"||t instanceof RegExp};var es=new El,ZH={id:"/Attribute",type:["object","string","array"],required:["type"],properties:{type:{type:["string","array"]},field:{type:"string"},hidden:{type:"boolean"},watch:{type:["array","string"],items:{type:"string"}},label:{type:"string"},readOnly:{type:"boolean"},required:{type:"boolean"},cast:{type:"string",enum:["string","number"]},default:{type:"any"},validate:{type:"any",format:"isFunctionOrRegexp"},get:{type:"any",format:"isFunction"},set:{type:"any",format:"isFunction"},padding:{type:"object",required:["length","char"],properties:{length:{type:"number"},char:{type:"string"}}}}},QH={id:"/Index",type:"object",properties:{pk:{type:"object",required:!0,properties:{field:{type:"string",required:!0},facets:{type:["array","string"],items:{type:"string"},required:!1},composite:{type:["array"],items:{type:"string"},required:!1},template:{type:"string",required:!1},casing:{type:"string",enum:["upper","lower","none","default"],required:!1},cast:{type:"string",enum:["string","number"],required:!1},scope:{type:"string",required:!1}}},sk:{type:"object",required:["field"],properties:{field:{type:"string",required:!0},facets:{type:["array","string"],required:!1,items:{type:"string"}},composite:{type:["array"],required:!1,items:{type:"string"}},template:{type:"string",required:!1},casing:{type:"string",enum:["upper","lower","none","default"],required:!1},cast:{type:"string",enum:["string","number"],required:!1}}},index:{type:"string"},collection:{type:["array","string"]},type:{type:"string",enum:["clustered","isolated"],required:!1},condition:{type:"any",required:!1,format:"isFunction"}}},XH={type:"object",required:!0,properties:{model:{type:"object",required:!0,properties:{entity:{type:"string",required:!0},version:{type:"string",required:!0},service:{type:"string",required:!0}}},table:{type:"string"},attributes:{type:"object",patternProperties:{".":{$ref:"/Attribute"}}},indexes:{type:"object",minProperties:1,patternProperties:{".":{$ref:"/Index"}}},filters:{$ref:"/Filters"}},required:["model","attributes","indexes"]},e2={type:"object",required:!0,properties:{service:{type:"string",required:!0},entity:{type:"string",required:!0},table:{type:"string"},version:{type:"string"},attributes:{type:"object",patternProperties:{".":{$ref:"/Attribute"}}},indexes:{type:"object",minProperties:1,patternProperties:{".":{$ref:"/Index"}}},filters:{$ref:"/Filters"}},required:["attributes","indexes"]},t2={id:"/Filters",type:"object",patternProperties:{".":{type:"any",format:"isFunction",message:"Requires function"}}};es.addSchema(ZH,"/Attribute");es.addSchema(QH,"/Index");es.addSchema(t2,"/Filters");es.addSchema(e2,"/ModelBeta");es.addSchema(XH,"/Modelv1");function jE(t={}){if(es.validate(t,"/ModelBeta").errors.length){let r=es.validate(t,"/Modelv1").errors;if(r.length)throw new FE.ElectroError(FE.ErrorCodes.InvalidModel,r.map(n=>{let i=`${n.property}`;switch(n.argument){case"isFunction":return`${i} must be a function`;case"isFunctionOrString":return`${i} must be either a function or string`;case"isFunctionOrRegexp":return`${i} must be either a function or Regexp`;default:return`${i} ${n.message}`}}).join(", "))}}function r2(t){let e=!1,r="";try{jE(t),e=!0}catch(n){r=n.message}return[e,r]}function mr(t){return typeof t=="string"&&t.length>0}function Sl(t){return typeof t=="object"&&Object.keys(t).length>0}function n2(t){return Array.isArray(t)&&t.length>0}function i2(t){return Sl(t)&&Object.values(t).find(e=>e._instance!==void 0)}function s2(t){return Sl(t)&&Object.values(t).find(e=>e.model&&mr(e.model.entity)&&mr(e.model.version)&&mr(e.model.service))}function o2(t){return Sl(t)&&(mr(t.service)||mr(t.name))&&mr(t.version)}function a2(t){return typeof t=="function"}function c2(t,e){let n=Array.isArray(t)&&Array.isArray(e)&&t.length===e.length;for(let i=0;i<t.length&&n;i++)n=mr(t[i])&&t[i]===e[i];return n}function l2(t,e){let r=[ya.default,ya.lower];if(mr(t)&&mr(e)){let n=ya[t.toLowerCase()]!==void 0,i=t===e,s=[t,e].every(o=>o===ya.lower||o===ya.default);return n&&(i||s)}else return mr(t)?r.includes(t.toLowerCase()):mr(e)?r.includes(e.toLowerCase()):t===void 0&&e===void 0}LE.exports={testModel:r2,isFunction:a2,stringArrayMatch:c2,isMatchingCasing:l2,isArrayHasLength:n2,isStringHasLength:mr,isObjectHasLength:Sl,isBetaServiceConfig:o2,isNameModelRecordType:s2,isNameEntityRecordType:i2,model:jE}});var rs=E((Ive,UE)=>{var De=Vt(),ts=In();function d2(t=""){if(typeof t!="string")throw new Error("Path must be a string");return t=t.replace(/\[/g,"."),t=t.replace(/\]/g,""),t.split(".").filter(e=>e!=="")}function u2(t=""){return t.replace(/\[\d+\]/g,"[*]")}function p2(t={}){let[e,r]=ts.testModel(t);return!t||Object.keys(t).length===0?"":e?De.ElectroInstanceTypes.model:t._instance===De.ElectroInstance.entity?De.ElectroInstanceTypes.entity:t._instance===De.ElectroInstance.service?De.ElectroInstanceTypes.service:t._instance===De.ElectroInstance.electro?De.ElectroInstanceTypes.electro:""}function $E(t={}){let e=t&&ts.isStringHasLength(t.entity);return t&&t.model&&ts.isStringHasLength(t.model.entity)?De.ModelVersions.v1:e?De.ModelVersions.beta:""}function m2(t={},{service:e="",version:r="",table:n=""}={}){if($E(t)!==De.ModelVersions.beta)throw new Error("Invalid model");let s=Object.assign({},t);return ts.isStringHasLength(e)&&(s.service=e),ts.isStringHasLength(r)&&(s.version=r),ts.isStringHasLength(n)&&(s.table=n),s}function f2(t=[],e){if(isNaN(e))throw new Error("Batch size must be of type number");let r=[];for(let n=0;n<t.length;n++){let i=Math.floor(n/e);r[i]=r[i]||[],r[i].push(t[n])}return r}function h2(t=[],e='"',r='"'){return t.map(n=>`${e}${n}${r}`).join(", ")}function BE(t,e,r){if(typeof t!="string")return t;let n=r;switch(ts.isStringHasLength(e)&&typeof De.KeyCasing[e]=="string"&&(n=De.KeyCasing.default===e?r:De.KeyCasing[e]),n){case De.KeyCasing.upper:return t.toUpperCase();case De.KeyCasing.none:return t;case De.KeyCasing.lower:return t.toLowerCase();case De.KeyCasing.default:default:return t}}function y2(t){switch(t){case De.KeyCasing.upper:return De.KeyCasing.upper;case De.KeyCasing.none:return De.KeyCasing.none;case De.KeyCasing.lower:return De.KeyCasing.lower;case De.KeyCasing.default:case void 0:return De.DefaultKeyCasing;default:throw new Error(`Unknown casing option: ${t}`)}}function g2(t,e){return BE(t,e,De.DefaultKeyCasing)}function v2(t,e){return BE(t,e,De.KeyCasing.none)}function _2(t){return t||"(Primary Index)"}var Nf=class{constructor({table:e,enabled:r,keyFormatter:n}){this.table=e,this.enabled=r,this.keyFormatter=n,this.batchIndexMap=new Map,this.currentSlot=0}getSize(){return this.batchIndexMap.size}getOrder(e){let r=this.keyFormatter(e),n=this.batchIndexMap.get(r);return n===void 0?-1:n}defineOrder(e=[]){if(this.enabled)for(let r=0;r<e.length;r++){let n=e[r],i=n&&n.RequestItems&&n.RequestItems[this.table]&&n.RequestItems[this.table].Keys||[];for(let s of i){let o=this.keyFormatter(s);this.batchIndexMap.set(o,this.currentSlot++)}}}};function b2(t,e){return Array.from(new Set([...t,...e]))}var E2={serialize:t=>{if(t)typeof val!="string"&&(t=JSON.stringify(t));else return null;return Buffer.from(t).toString("base64url")},deserialize:t=>{if(t){if(typeof t!="string")throw new Error(`Invalid cursor provided, expected type 'string' recieved: ${JSON.stringify(t)}`)}else return;try{return JSON.parse(Buffer.from(t,"base64url").toString("utf8"))}catch{throw new Error("Unable to parse cursor")}}};function S2({prefix:t="",postfix:e="",value:r=""}={}){let n=r.toLowerCase().startsWith(t.toLowerCase())?t.length:0,i=r.length-(r.toLowerCase().endsWith(e.toLowerCase())?e.length:0),s="";for(let o=n;o<i;o++)s+=r[o];return s}function C2({padding:t={},value:e=""}={}){return e.padStart(t.length,t.char)}function x2({padding:t={},value:e=""}={}){if(!t.length||e.length>=t.length)return e;let r="",n=!1;for(let i=0;i<e.length;i++){let s=e[i];n||i>=t.length?r+=s:s!==t.char&&(r+=s,n=!0)}return r}function w2(t="",e){let r="";for(let n=0;n<t.length;n++){let i=n===t.length-1,s=t[n];i&&(s=String.fromCodePoint(s.codePointAt(0)+e)),r+=s}return r}function I2(...t){return t.find(e=>e!==void 0)}function T2(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}UE.exports={getUnique:b2,batchItems:f2,addPadding:C2,regexpEscape:T2,removePadding:x2,removeFixings:S2,parseJSONPath:d2,shiftSortOrder:w2,getFirstDefined:I2,getInstanceType:p2,getModelVersion:$E,formatKeyCasing:g2,cursorFormatter:E2,toKeyCasingOption:y2,genericizeJSONPath:u2,commaSeparatedString:h2,formatAttributeCasing:v2,applyBetaModelOverrides:m2,formatIndexNameForDisplay:_2,BatchGetOrderMaintainer:Nf}});var GE=E((Tve,VE)=>{var qE={String:"String",Number:"Number",NumberValue:"Number",Binary:"Binary",string:"String",number:"Number"},kf=class{constructor(e,r){this.wrapperName="Set",this.type=qE[r],this.type===void 0&&new Error(`Invalid Set type: ${r}`),this.values=Array.from(new Set([].concat(e)))}initialize(e,r){}detectType(){return qE[typeof this.values[0]]}validate(){}toJSON(){return this.values}};VE.exports={DynamoDBSet:kf}});var jf=E((Pve,YE)=>{var{CastTypes:Df,ValueTypes:Pe,KeyCasing:Cl,AttributeTypes:ne,AttributeMutationMethods:HE,AttributeWildCard:P2,PathTypes:KE,TableIndex:A2,ItemOperations:O2,DataOptions:R2}=Vt(),zE=Object.keys(ne),WE=[ne.string,ne.number,ne.boolean,ne.enum],G=ur(),Gt=rs(),JE=In(),{DynamoDBSet:N2}=GE();function zr(t){return t===void 0?Pe.undefined:t===null?Pe.null:typeof t=="string"?Pe.string:typeof t=="number"?Pe.number:typeof t=="boolean"?Pe.boolean:Array.isArray(t)?Pe.array:t.wrapperName==="Set"?Pe.aws_set:t.constructor.name==="Set"?Pe.set:t.constructor.name==="Map"?Pe.map:t.constructor.name==="Object"?Pe.object:Pe.unknown}var xl=class t{constructor(e){e instanceof t?(this.parent=e,this.paths=this.parent.paths):(this.parent=null,this.paths=new Map),this.children=new Map}setChild(e,r){this.children.set(e,r)}asChild(e,r){this.parent&&this.parent.setChild(e,r)}setPath(e,r){this.parent&&this.parent.setPath(e,r),this.paths.set(e,r)}getPath(e){return e=Gt.genericizeJSONPath(e),this.parent?this.parent.getPath(e):this.paths.get(e)}getChild(e){return this.children.get(e)}getAllChildren(){return this.children.entries()}getAll(){return this.parent?this.parent.getAll():this.paths.entries()}},Wr=class t{constructor(e={}){this.name=e.name,this.field=e.field||e.name,this.label=e.label,this.readOnly=!!e.readOnly,this.hidden=!!e.hidden,this.required=!!e.required,this.cast=this._makeCast(e.name,e.cast),this.default=this._makeDefault(e.default),this.validate=this._makeValidate(e.validate),this.isKeyField=!!e.isKeyField,this.unformat=this._makeDestructureKey(e),this.format=this._makeStructureKey(e),this.padding=e.padding,this.applyFixings=this._makeApplyFixings(e),this.applyPadding=this._makePadding(e),this.indexes=[...e.indexes||[]];let{isWatched:r,isWatcher:n,watchedBy:i,watching:s,watchAll:o}=t._destructureWatcher(e);this._isWatched=r,this._isWatcher=n,this.watchedBy=i,this.watching=s,this.watchAll=o;let{type:a,enumArray:c}=this._makeType(this.name,e);this.type=a,this.enumArray=c,this.parentType=e.parentType,this.parentPath=e.parentPath;let l=this.getPathType(this.type,this.parentType),d=t.buildPath(this.name,l,this.parentPath),m=t.buildPath(this.field,l,this.parentType);this.path=d,this.fieldPath=m,this.traverser=new xl(e.traverser),this.traverser.setPath(this.path,this),this.traverser.setPath(this.fieldPath,this),this.traverser.asChild(this.name,this),this.parent={parentType:this.type,parentPath:this.path},this.get=this._makeGet(e.get),this.set=this._makeSet(e.set),this.getClient=e.getClient}static buildChildAttributes(e,r,n){let i,s;return e===ne.list?i=t.buildChildListItems(r,n):e===ne.set?i=t.buildChildSetItems(r,n):e===ne.map&&(s=t.buildChildMapProperties(r,n)),{items:i,properties:s}}static buildChildListItems(e,r){let{items:n,getClient:i}=e,s={...n,...r};return Ys.normalizeAttributes({"*":s},{},{getClient:i,traverser:r.traverser,parent:r}).attributes["*"]}static buildChildSetItems(e,r){let{items:n,getClient:i}=e,s=[ne.string,ne.boolean,ne.number,ne.enum];if(!Array.isArray(n)&&!s.includes(n))throw new G.ElectroError(G.ErrorCodes.InvalidAttributeDefinition,`Invalid "items" definition for Set attribute: "${e.path}". Acceptable item types include ${Gt.commaSeparatedString(s)}`);let o={type:n,...r};return Ys.normalizeAttributes({prop:o},{},{getClient:i,traverser:r.traverser,parent:r}).attributes.prop}static buildChildMapProperties(e,r){let{properties:n,getClient:i}=e;if(!n||typeof n!="object")throw new G.ElectroError(G.ErrorCodes.InvalidAttributeDefinition,`Invalid "properties" definition for Map attribute: "${e.path}". The "properties" definition must describe the attributes that the Map will accept`);let s={};for(let o of Object.keys(n))s[o]={...n[o],...r};return Ys.normalizeAttributes(s,{},{getClient:i,traverser:r.traverser,parent:r})}static buildPath(e,r,n){if(!n)return e;switch(r){case ne.string:case ne.number:case ne.boolean:case ne.map:case ne.set:case ne.list:case ne.enum:return`${n}.${e}`;case KE.item:return`${n}[*]`;case ne.any:default:return`${n}.*`}}static _destructureWatcher(e){let r=!!e.watchAll,n=r?[]:[...e.watching||[]],i=[...e.watchedBy||[]],s=i.length>0,o=n.length>0,a={},c={};for(let l of i)a[l]=l;for(let l of n)c[l]=l;return{watchAll:r,watching:c,watchedBy:a,isWatched:s,isWatcher:o}}_makeGet(e){this._checkGetSet(e,"get");let r=e||(n=>n);return(n,i)=>{if(!this.hidden)return n=this.unformat(n),r(n,i)}}_makeSet(e){return this._checkGetSet(e,"set"),e||(r=>r)}_makeApplyFixings({prefix:e="",postfix:r="",casing:n=Cl.none}={}){return i=>{if(i!==void 0)return[ne.string,ne.enum].includes(this.type)&&(i=`${e}${i}${r}`),Gt.formatAttributeCasing(i,n)}}_makeStructureKey(){return e=>this.applyPadding(e)}_isPaddingEligible(e={}){return!!e&&e.length&&JE.isStringHasLength(e.char)}_makePadding({padding:e={}}){return r=>typeof r!="string"?r:this._isPaddingEligible(e)?Gt.addPadding({padding:e,value:r}):r}_makeRemoveFixings({prefix:e="",postfix:r="",casing:n=Cl.none}={}){return i=>{let s="";if(![ne.string,ne.enum].includes(this.type)||typeof i!="string")s=i;else if(e.length>0&&i.length>e.length)for(let o=e.length;o<i.length-r.length;o++)s+=i[o];else s=i;return s}}_makeDestructureKey({prefix:e="",postfix:r="",casing:n=Cl.none,padding:i={}}={}){return s=>{let o="";return![ne.string,ne.enum].includes(this.type)||typeof s!="string"?s:(s.length>e.length?o=Gt.removeFixings({prefix:e,postfix:r,value:s}):o=s,o)}}acceptable(e){return e!==void 0}getPathType(e,r){return r===ne.list||r===ne.set?KE.item:e}getAttribute(e){return this.traverser.getPath(e)}getChild(e){return this.type===ne.any?this:!isNaN(e)&&(this.type===ne.list||this.type===ne.set)?this.traverser.getChild("*"):this.traverser.getChild(e)}_checkGetSet(e,r){if(typeof e!="function"&&e!==void 0)throw new G.ElectroError(G.ErrorCodes.InvalidAttributeDefinition,`Invalid "${r}" property for attribute ${this.path}. Please ensure value is a function or undefined.`)}_makeCast(e,r){if(r!==void 0&&!Df.includes(r))throw new G.ElectroError(G.ErrorCodes.InvalidAttributeDefinition,`Invalid "cast" property for attribute: "${e}". Acceptable types include ${Df.join(", ")}`);return r===ne.string?n=>{if(n===void 0)throw new Error(`Attribute ${e} is undefined and cannot be cast to type ${r}`);return typeof n=="string"?n:JSON.stringify(n)}:r===ne.number?n=>{if(n===void 0)throw new Error(`Attribute ${e} is undefined and cannot be cast to type ${r}`);if(typeof n=="number")return n;{let i=Number(n);if(isNaN(i))throw new Error(`Attribute ${e} cannot be cast to type ${r}. Doing so results in NaN`);return i}}:n=>n}_makeValidate(e){return typeof e=="function"?r=>{try{let n=!!e(r);return[n,n?[]:[new G.ElectroUserValidationError(this.path,"Invalid value provided")]]}catch(n){return[!1,[new G.ElectroUserValidationError(this.path,n)]]}}:e instanceof RegExp?r=>{if(r===void 0)return[!0,[]];let n=e.test(r),i=[];return n||i.push(new G.ElectroUserValidationError(this.path,`Invalid value for attribute "${this.path}": Failed model defined regex`)),[n,i]}:()=>[!0,[]]}_makeDefault(e){return typeof e=="function"?()=>e():()=>e}_makeType(e,r){let n="",i=[];if(Array.isArray(r.type)?(n=ne.enum,i=[...r.type]):n=r.type||"string",!zE.includes(n))throw new G.ElectroError(G.ErrorCodes.InvalidAttributeDefinition,`Invalid "type" property for attribute: "${e}". Acceptable types include ${zE.join(", ")}`);return{type:n,enumArray:i}}isWatcher(){return this._isWatcher}isWatched(){return this._isWatched}isWatching(e){return this.watching[e]!==void 0}isWatchedBy(e){return this.watchedBy[e]!==void 0}_isType(e){if(e===void 0){let i=[];return this.required&&i.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Value is required.`)),[!this.required,i]}let r=!1,n=[];switch(this.type){case ne.enum:r=this.enumArray.includes(e),r||n.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Value not found in set of acceptable values: ${Gt.commaSeparatedString(this.enumArray)}`));break;case ne.any:case ne.static:case ne.custom:r=!0;break;case ne.string:case ne.number:case ne.boolean:default:r=typeof e===this.type,r||n.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Received value of type "${typeof e}", expected value of type "${this.type}"`));break}return[r,n]}isValid(e){try{let[r,n]=this._isType(e),[i,s]=r?this.validate(e):[!1,[]],o=[...n,...s].filter(a=>a!==void 0);return[r&&i,o]}catch(r){return[!1,[r]]}}val(e){return e=this.cast(e),e===void 0&&(e=this.default()),e}getValidate(e){e=this.val(e);let[r,n]=this.isValid(e);if(!r)throw new G.ElectroValidationError(n);return e}},Mf=class extends Wr{constructor(e){super(e);let r=Wr.buildChildMapProperties(e,{parentType:this.type,parentPath:this.path,traverser:this.traverser});this.properties=r,this.isRoot=!!e.isRoot,this.get=this._makeGet(e.get,r),this.set=this._makeSet(e.set,r)}_makeGet(e,r){this._checkGetSet(e,"get");let n=e||(i=>{let s=!i||Object.keys(i).length===0,o=!this.required,a=this.default===void 0,c=this.isRoot;if(!(s&&c&&o&&a))return i});return(i,s)=>{let o={};if(!this.hidden){if(i===void 0)return e?n(o,s):void 0;for(let a of Object.keys(r.attributes)){let c=r.attributes[a];if(i[c.field]!==void 0){let l=c.get(i[c.field],{...i});l!==void 0&&(o[a]=l)}}return n(o,s)}}}_makeSet(e,r){this._checkGetSet(e,"set");let n=e||(i=>{let s=!i||Object.keys(i).length===0,o=!this.required,a=this.default===void 0,c=this.default===i,l=this.isRoot;return c?i:s&&l&&o&&a?void 0:i});return(i,s)=>{let o={};if(i===void 0)return e?n(i,s):void 0;for(let a of Object.keys(r.attributes)){let c=r.attributes[a];if(i[a]!==void 0){let l=c.set(i[a],{...i});l!==void 0&&(o[c.field]=l)}}return n(o,s)}}_isType(e){if(e===void 0){let o=[];return this.required&&o.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Value is required.`)),[!this.required,o]}let r=zr(e);if(r!==Pe.object)return[!1,[new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path "${this.path}. Received value of type "${r}", expected value of type "object"`)]];let n=[],[i,s]=this._validateChildren(e);return i||(n=s),[i,n]}_validateChildren(e){let r=zr(e),n=this.properties.attributes,i=[];if(r===Pe.object)for(let s of Object.keys(n)){let[o,a]=n[s].isValid(e===void 0?e:e[s]);o||(i=[...i,...a])}else r!==Pe.object?i.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Expected value to be an object to fulfill attribute type "${this.type}"`)):this.properties.hasRequiredAttributes&&i.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Map attribute requires at least the properties ${Gt.commaSeparatedString(Object.keys(n))}`));return[i.length===0,i]}val(e){let r=e===void 0,n=!1,i;e===void 0?(i=this.default(),i!==void 0&&(n=!0)):i=e;let s=zr(i);if(i===void 0)return i;if(s!=="object")throw new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Expected value to be an object to fulfill attribute type "${this.type}"`);let o={};for(let a of Object.keys(this.properties.attributes)){let c=this.properties.attributes[a],l=c.val(i[c.name]);l!==void 0&&(o[a]=l)}if(!(Object.keys(o).length===0&&!n&&this.isRoot&&!this.required&&r))return o}},Ff=class extends Wr{constructor(e){super(e);let r=Wr.buildChildListItems(e,{parentType:this.type,parentPath:this.path,traverser:this.traverser});this.items=r,this.get=this._makeGet(e.get,r),this.set=this._makeSet(e.set,r)}_makeGet(e,r){this._checkGetSet(e,"get");let n=e||(i=>i);return(i,s)=>{let o=[];if(!this.hidden){if(i===void 0)return n(o,s);for(let a of i){let c=r.get(a,[...i]);c!==void 0&&o.push(c)}return n(o,s)}}}_makeSet(e,r){this._checkGetSet(e,"set");let n=e||(i=>i);return(i,s)=>{let o=[];if(i===void 0)return n(i,s);for(let a of i){let c=r.set(a,[...i]);c!==void 0&&o.push(c)}return n(o,s)}}_validateArrayValue(e){let r=[],n=zr(e);return e!==void 0&&n!==Pe.array?[!1,[new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path "${this.path}. Received value of type "${n}", expected value of type "array"`)]]:[!0,[]]}_isType(e){if(e===void 0){let a=[];return this.required&&a.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Value is required.`)),[!this.required,a]}let[r,n]=this._validateArrayValue(e);if(!r)return[r,n];let i=[],[s,o]=this._validateChildren(e);return s||(i=o),[s,i]}_validateChildren(e){let r=zr(e),n=[];if(r===Pe.array)for(let i in e){let[s,o]=this.items.isValid(e[i]);if(!s)for(let a of o)(a instanceof G.ElectroAttributeValidationError||a instanceof G.ElectroUserValidationError)&&(a.index=parseInt(i)),n.push(a)}else n.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Expected value to be an Array to fulfill attribute type "${this.type}"`));return[n.length===0,n]}val(e){let n=e===void 0?(s=>(s=this.cast(s),s===void 0&&(s=this.default()),s))(e):e;if(n===void 0)return n;if(!Array.isArray(n))throw new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path "${this.path}. Received value of type "${zr(e)}", expected value of type "array"`);let i=[];for(let s of n){let o=this.items.val(s);o!==void 0&&i.push(o)}return i}},wl=class extends Wr{constructor(e){super(e);let r=Wr.buildChildSetItems(e,{parentType:this.type,parentPath:this.path,traverser:this.traverser});this.items=r,this.get=this._makeGet(e.get,r),this.set=this._makeSet(e.set,r),this.validate=this._makeSetValidate(e)}_makeSetValidate(e){let r=this._makeValidate(e.validate);return n=>{switch(zr(n)){case Pe.array:return r([...n]);case Pe.aws_set:return r([...n.values]);case Pe.set:return r(Array.from(n));default:return r(n)}}}fromDDBSet(e){switch(zr(e)){case Pe.aws_set:return[...e.values];case Pe.set:return Array.from(e);default:return e}}_createDDBSet(e){let r=this.getClient();return r&&typeof r.createSet=="function"?(e=Array.isArray(e)?Array.from(new Set(e)):e,r.createSet(e,{validate:!0})):new N2(e,this.items.type)}acceptable(e){return Array.isArray(e)?e.length>0:this.items.acceptable(e)}toDDBSet(e){let r=zr(e),n;switch(r){case Pe.set:return n=Array.from(e),this._createDDBSet(n);case Pe.aws_set:return e;case Pe.array:return this._createDDBSet(e);case Pe.string:case Pe.number:return this.items.getValidate(e),this._createDDBSet(e);default:throw new G.ElectroAttributeValidationError(this.path,`Invalid attribute value supplied to "set" attribute "${this.path}". Received value of type "${r}". Set values must be supplied as either Arrays, native JavaScript Set objects, DocumentClient Set objects, strings, or numbers.`)}}_makeGet(e,r){this._checkGetSet(e,"get");let n=e||(i=>i);return(i,s)=>{if(i!==void 0){let c=this.fromDDBSet(i);return n(c,s)}let o=this.fromDDBSet(i),a=n(o,s);if(a!==void 0)return this.fromDDBSet(a)}}_makeSet(e,r){this._checkGetSet(e,"set");let n=e||(i=>i);return(i,s)=>{let o=n(this.fromDDBSet(i),s);if(o!==void 0)return this.toDDBSet(o)}}_isType(e){if(e===void 0){let s=[];return this.required&&s.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at entity path: "${this.path}". Value is required.`)),[!this.required,s]}let r=[],[n,i]=this._validateChildren(e);return n||(r=i),[n,r]}_validateChildren(e){let r=zr(e),n=[],i=[];r===Pe.array?i=e:r===Pe.set?i=Array.from(e):r===Pe.aws_set?i=e.values:n.push(new G.ElectroAttributeValidationError(this.path,`Invalid value type at attribute path: "${this.path}". Expected value to be an Expected value to be an Array, native JavaScript Set objects, or DocumentClient Set objects to fulfill attribute type "${this.type}"`));for(let s of i){let[o,a]=this.items.isValid(s);o||(n=[...n,...a])}return[n.length===0,n]}val(e){if(e===void 0&&(e=this.default()),e!==void 0)return this.toDDBSet(e)}},Ys=class t{constructor(e={},r={},{traverser:n=new xl,getClient:i,parent:s,isRoot:o}={}){this._validateProperties(e,s);let a=t.normalizeAttributes(e,r,{traverser:n,getClient:i,parent:s,isRoot:o});this.getClient=i,this.attributes=a.attributes,this.enums=a.enums,this.translationForTable=a.translationForTable,this.translationForRetrieval=a.translationForRetrieval,this.hiddenAttributes=a.hiddenAttributes,this.readOnlyAttributes=a.readOnlyAttributes,this.requiredAttributes=a.requiredAttributes,this.translationForWatching=this._formatWatchTranslations(this.attributes),this.traverser=n,this.isRoot=!!o}static normalizeAttributes(e={},r={},{traverser:n,getClient:i,parent:s,isRoot:o}={}){let a=!!s,c=[],l={},d={},m={},f={},h={},y={},v=new Set,g=new Set,_=new Set,b={};for(let D in e){let C=e[D];(typeof C===ne.string||Array.isArray(C))&&(C={type:C});let O=C.field||D,U=!1,Oe="",it="",Tt=Cl.none;if(r.byField&&r.byField[O]!==void 0)for(let oe of Object.keys(r.byField[O])){let he=r.byField[O][oe];if(he.facets.length>1)throw new G.ElectroError(G.ErrorCodes.InvalidIndexWithAttributeName,`Invalid definition for "${he.type}" field on index "${Gt.formatIndexNameForDisplay(oe)}". The ${he.type} field "${he.field}" shares a field name with an attribute defined on the Entity, and therefore is not allowed to contain composite references to other attributes. Please either change the field name of the attribute, or redefine the index to use only the single attribute "${he.field}".`);if(he.isCustom){let Uc=r.labels[oe][he.type].labels;if(Uc.length>2)throw new G.ElectroError(G.ErrorCodes.InvalidIndexWithAttributeName,`Unexpected definition for "${he.type}" field on index "${Gt.formatIndexNameForDisplay(oe)}". The ${he.type} field "${he.field}" shares a field name with an attribute defined on the Entity, and therefore is not possible to have more than two labels as part of it's template. Please either change the field name of the attribute, or reformat the key template to reduce all pre-fixing or post-fixing text around the attribute reference to two.`);U=!0,Tt=he.casing;for(let hn of Uc)hn.name===O?Oe=hn.label||"":it=hn.label||"";if(C.type!==ne.string&&!Array.isArray(C.type)&&(Oe.length>0||it.length>0))throw new G.ElectroError(G.ErrorCodes.InvalidIndexWithAttributeName,`definition for "${he.type}" field on index "${Gt.formatIndexNameForDisplay(oe)}". Index templates may only have prefix or postfix values on "string" or "enum" type attributes. The ${he.type} field "${O}" is type "${C.type}", and therefore cannot be used with prefixes or postfixes. Please either remove the prefixed or postfixed values from the template or change the field name of the attribute.`)}else throw new G.ElectroError(G.ErrorCodes.InvalidIndexCompositeWithAttributeName,`Unexpected definition for "${he.type}" field on index "${Gt.formatIndexNameForDisplay(oe)}". The ${he.type} field "${he.field}" shares a field name with an attribute defined on the Entity, and therefore must be defined with a template. Please either change the field name of the attribute, or add a key template to the "${he.type}" field on index "${Gt.formatIndexNameForDisplay(oe)}" with the value: "\${${he.field}}"`);if(he.inCollection)throw new G.ElectroError(G.ErrorCodes.InvalidCollectionOnIndexWithAttributeFieldNames,`Invalid use of a collection on index "${Gt.formatIndexNameForDisplay(oe)}". The ${he.type} field "${he.field}" shares a field name with an attribute defined on the Entity, and therefore the index is not allowed to participate in a Collection. Please either change the field name of the attribute, or remove all collection(s) from the index.`);if(he.field===O&&C.padding!==void 0)throw new G.ElectroError(G.ErrorCodes.InvalidAttributeDefinition,`Invalid padding definition for the attribute "${D}". Padding is not currently supported for attributes that are also defined as table indexes.`)}let Bt=!!r.byIndex&&r.byIndex[A2].all.find(oe=>oe.name===D),te={name:D,field:O,getClient:i,casing:Tt,prefix:Oe,postfix:it,traverser:n,isKeyField:U||Bt,isRoot:!!o,label:C.label,required:!!C.required,default:C.default,validate:C.validate,readOnly:!!C.readOnly||Bt,hidden:!!C.hidden,indexes:r.byAttr&&r.byAttr[D]||[],type:C.type,get:C.get,set:C.set,watching:Array.isArray(C.watch)?C.watch:[],items:C.items,properties:C.properties,parentPath:C.parentPath,parentType:C.parentType,padding:C.padding};if(te.type===ne.custom&&(te.type=ne.any),C.watch!==void 0)if(C.watch===P2)te.watchAll=!0,te.watching=[];else if(Array.isArray(C.watch))te.watching=C.watch;else throw new G.ElectroError(G.ErrorCodes.InvalidAttributeWatchDefinition,`Attribute Validation Error. The attribute '${D}' is defined to "watch" an invalid value of: '${C.watch}'. The watch property must either be a an array of attribute names, or the single string value of "${WatchAll}".`);else te.watching=[];if(te.readOnly&&_.add(D),te.hidden&&g.add(D),te.required&&v.add(D),r.byAttr&&r.byAttr[te.name]!==void 0&&!WE.includes(te.type)&&!Array.isArray(te.type)){let oe=r.byAttr[D].map(he=>he.index===""?"Table Index":he.index);throw new G.ElectroError(G.ErrorCodes.InvalidAttributeDefinition,`Invalid composite attribute definition: Composite attributes must be one of the following: ${WE.join(", ")}. The attribute "${D}" is defined as being type "${C.type}" but is a composite attribute of the following indexes: ${oe.join(", ")}`)}d[te.field]||d[D]?c.push({name:D,property:"field",value:te.field,expected:`Unique field property, already used by attribute ${d[te.field]}`}):d[te.field]=te.name,f[te.name]=te.field,h[te.field]=te.name;for(let oe of te.watching)y[oe]=y[oe]||[],y[oe].push(D);b[D]=te}for(let D of Object.keys(b)){let C=b[D];switch(C.watchedBy=Array.isArray(y[D])?y[D]:[],C.type){case ne.map:l[D]=new Mf(C);break;case ne.list:l[D]=new Ff(C);break;case ne.set:l[D]=new wl(C);break;default:l[D]=new Wr(C)}}let S=[],N=[];for(let D of Object.keys(y))if(l[D]===void 0)for(let C of y[D])N.push({attribute:C,watched:D});else if(l[D].isWatcher())for(let C of y[D])S.push({attribute:C,watched:D});if(N.length>0)throw new G.ElectroError(G.ErrorCodes.InvalidAttributeWatchDefinition,`Attribute Validation Error. The following attributes are defined to "watch" invalid/unknown attributes: ${N.map(({watched:D,attribute:C})=>`"${C}"->"${D}"`).join(", ")}.`);if(S.length>0)throw new G.ElectroError(G.ErrorCodes.InvalidAttributeWatchDefinition,`Attribute Validation Error. Attributes may only "watch" other attributes also watch attributes. The following attributes are defined with ineligible attributes to watch: ${S.map(({attribute:D,watched:C})=>`"${D}"->"${C}"`).join(", ")}.`);let Q=Array.isArray(r.attributes)?r.attributes.filter(({name:D})=>!l[D]).map(D=>`"${D.type}: ${D.name}"`):[];if(Q.length>0)throw new G.ElectroError(G.ErrorCodes.InvalidKeyCompositeAttributeTemplate,`Invalid key composite attribute template. The following composite attribute attributes were described in the key composite attribute template but were not included model's attributes: ${Q.join(", ")}`);if(c.length>0){let D=c.map(C=>`Schema Validation Error. Attribute "${C.name}" property "${C.property}". Received: "${C.value}", Expected: "${C.expected}"`);throw new G.ElectroError(G.ErrorCodes.InvalidAttributeDefinition,D)}else return{enums:m,hiddenAttributes:g,readOnlyAttributes:_,requiredAttributes:v,translationForTable:f,translationForRetrieval:h,attributes:l}}_validateProperties(){}_formatWatchTranslations(e){let r={},n={},i={},s=!1;for(let o of Object.keys(e))e[o].isWatcher()?(s=!0,r[o]=e[o].watching):e[o].watchAll?(s=!0,i[o]=o):(n[o]=n[o]||{},n[o]=e[o].watchedBy);return{hasWatchers:s,watchAllAttributes:i,watchersToAttributes:r,attributesToWatchers:n}}getAttribute(e){return this.traverser.getPath(e)}getLabels(){let e={};for(let r of Object.keys(this.attributes)){let n=this.attributes[r].label;n!==void 0&&(e[r]=n)}return e}getLabels(){let e={};for(let r of Object.keys(this.attributes)){let n=this.attributes[r].label;n!==void 0&&(e[r]=n)}return e}_applyAttributeMutation(e,r,n,i){let s={...i};for(let o of Object.keys(r)){let a=this.getAttribute(o);a!==void 0&&n[o]===void 0&&(s[o]=a[e](i[o],{...i}))}return s}_fulfillAttributeMutationMethod(e,r){let n={},i={...this.translationForWatching.watchersToAttributes,...this.translationForWatching.watchAllAttributes},s=this._applyAttributeMutation(e,r,i,r);if(!this.translationForWatching.hasWatchers)return s;for(let a of Object.keys(s)){let c=this.translationForWatching.attributesToWatchers[a];c!==void 0&&(n={...n,...c})}let o={...s,...n,...this.translationForWatching.watchAllAttributes};return this._applyAttributeMutation(e,o,this.translationForWatching.attributesToWatchers,s)}applyAttributeGetters(e={}){return this._fulfillAttributeMutationMethod(HE.get,e)}applyAttributeSetters(e={}){return this._fulfillAttributeMutationMethod(HE.set,e)}translateFromFields(e={},r={}){let n={},i=this.translationForRetrieval;for(let[s,o]of Object.entries(e)){let a=i[s];a?n[a]=o:r.data===R2.includeKeys&&(n[s]=o)}return n}translateToFields(e={}){let r={};for(let[n,i]of Object.entries(e)){let s=this.getFieldName(n);i!==void 0&&(r[s]=i)}return r}getFieldName(e){if(typeof e=="string")return this.translationForTable[e]}checkCreate(e={}){let r={};for(let n of Object.values(this.attributes)){let i=e[n.name];r[n.name]=n.getValidate(i)}return r}checkRemove(e=[]){for(let r of e){let n=this.traverser.getPath(r);if(n){if(n.readOnly)throw new G.ElectroAttributeValidationError(n.path,`Attribute "${n.path}" is Read-Only and cannot be removed`);if(n.required)throw new G.ElectroAttributeValidationError(n.path,`Attribute "${n.path}" is Required and cannot be removed`)}else throw new G.ElectroAttributeValidationError(r,`Attribute "${r}" does not exist on model.`)}return e}checkOperation(e,r,n){if(e.required&&r===O2.remove)throw new G.ElectroAttributeValidationError(e.path,`Attribute "${e.path}" is Required and cannot be removed`);if(e.readOnly)throw new G.ElectroAttributeValidationError(e.path,`Attribute "${e.path}" is Read-Only and cannot be updated`);return n===void 0?void 0:e.getValidate(n)}checkUpdate(e={},{allowReadOnly:r}={}){let n={};for(let[i,s]of Object.entries(e)){let o=this.traverser.paths.get(i);if(o!==void 0){if(o.readOnly&&!r)throw new G.ElectroAttributeValidationError(o.path,`Attribute "${o.path}" is Read-Only and cannot be updated`);n[i]=o.getValidate(s)}}return n}getReadOnly(){return Array.from(this.readOnlyAttributes)}getRequired(){return Array.from(this.requiredAttributes)}formatItemForRetrieval(e,r){let n=new Set(r.attributes||[]),i=n.size>0,s=this.translateFromFields(e,r),o=this._fulfillAttributeMutationMethod("get",s);if(this.hiddenAttributes.size>0||i)for(let a of Object.keys(o))this.hiddenAttributes.has(a)&&delete o[a],i&&!n.has(a)&&delete o[a];return o}};function k2(t={}){return{...t,type:"custom"}}function D2(t){let e=["string","number","boolean","any"];if(!e.includes(t))throw new Error(`OpaquePrimitiveType only supports base types: ${Gt.commaSeparatedString(e)}`);return t}function M2(t){return JE.model(t),t}YE.exports={Schema:Ys,Attribute:Wr,CastTypes:Df,SetAttribute:wl,createSchema:M2,CustomAttributeType:D2,createCustomAttribute:k2}});var $f=E((Ave,XE)=>{var ZE=ur(),{MethodTypes:ns,ExpressionTypes:QE}=Vt(),Lf=class{constructor(e={},r={}){this.attributes={...e},this.filters={...r}}getExpressionType(e){switch(e){case ns.put:case ns.create:case ns.update:case ns.patch:case ns.delete:case ns.get:case ns.upsert:return QE.ConditionExpression;default:return QE.FilterExpression}}_buildFilterAttributes(e,r){let n={};for(let[i,s]of Object.entries(this.attributes)){let o={};for(let[a,{template:c}]of Object.entries(this.filters))Object.defineProperty(o,a,{get:()=>(...l)=>{let{prop:d}=e({},i,s.field),m=[];for(let h of l)c.length>1&&m.push(r(i,h,i));return c({},s,d,...m).trim()}});n[i]=o}return n}buildClause(e){return(r,n,...i)=>{let s=this.getExpressionType(n.query.method),o=n.query.filter[s],a=(m,f,h)=>o.setName(m,f,h),c=(m,f,h)=>o.setValue(m,f,h),l=this._buildFilterAttributes(a,c),d=e(l,...i);if(typeof d!="string")throw new ZE.ElectroError(ZE.ErrorCodes.InvalidFilter,"Invalid filter response. Expected result to be of type string");return o.add(d),n}}injectFilterClauses(e={},r={}){let n={...e},i=Object.entries(n).filter(a=>{let[c,{children:l}]=a;return l.find(d=>["go","commit"].includes(d))}).map(([a])=>a),s=Object.keys(r),o=[];for(let[a,c]of Object.entries(r))o.push(a),n[a]={name:a,action:this.buildClause(c),children:["params","go","commit","filter",...s]};o.push("filter"),n.filter={name:"filter",action:(a,c,l)=>this.buildClause(l)(a,c),children:["params","go","commit","filter",...s]};for(let a of i)n[a]={...n[a]},n[a].children=[...o,...n[a].children];return n}};XE.exports={FilterFactory:Lf}});var Bf=E((Ove,tS)=>{var{AttributeTypes:Re,ItemOperations:Jr}=Vt(),eS={canNest:!1,template:function(e,r,n,i){let s="",o="";switch(r.type){case Re.any:case Re.set:s=Jr.delete,o=`${n} ${i}`;break;default:throw new Error('Invalid Update Attribute Operation: "DELETE" Operation can only be performed on attributes with type "set" or "any".')}return{operation:s,expression:o}}},F2={ifNotExists:{template:function(e,r,n,i){let s=Jr.set,o=`${n} = if_not_exists(${n}, ${i})`;return{operation:s,expression:o}}},name:{canNest:!0,template:function(e,r,n){return n}},value:{canNest:!0,template:function(t,e,r,n){return n}},append:{canNest:!1,template:function(e,r,n,i){let s="",o="";switch(r.type){case Re.any:case Re.list:let a=e.createValue("default_value",[]);o=`${n} = list_append(if_not_exists(${n}, ${a}), ${i})`,s=Jr.set;break;default:throw new Error('Invalid Update Attribute Operation: "APPEND" Operation can only be performed on attributes with type "list" or "any".')}return{operation:s,expression:o}}},add:{canNest:!1,template:function(e,r,n,i,s){let o="",a="",c=r.type;switch(c===Re.any&&(c=typeof i=="number"?Re.number:Re.any),c){case Re.any:case Re.set:{o=Jr.add,a=`${n} ${i}`;break}case Re.number:{e.nestedValue?(o=Jr.set,a=`${n} = ${n} + ${i}`):s!==void 0?(o=Jr.set,a=`${n} = (if_not_exists(${n}, ${s}) + ${i})`):(o=Jr.add,a=`${n} ${i}`);break}default:throw new Error('Invalid Update Attribute Operation: "ADD" Operation can only be performed on attributes with type "number", "set", or "any".')}return{operation:o,expression:a}}},subtract:{canNest:!1,template:function(e,r,n,i,s=0){let o="",a="";switch(r.type){case Re.any:case Re.number:{let c;typeof s=="string"&&s.startsWith(":")?c=s:s!==void 0?c=e.createValue("default_value",s):c=e.createValue("default_value",0),o=Jr.set,a=`${n} = (if_not_exists(${n}, ${c}) - ${i})`;break}default:throw new Error('Invalid Update Attribute Operation: "SUBTRACT" Operation can only be performed on attributes with type "number" or "any".')}return{operation:o,expression:a}}},set:{canNest:!1,template:function(e,r,n,i){let s="",o="";switch(r.type){case Re.set:case Re.list:case Re.map:case Re.enum:case Re.string:case Re.number:case Re.boolean:case Re.any:s=Jr.set,o=`${n} = ${i}`;break;default:throw new Error('Invalid Update Attribute Operation: "SET" Operation can only be performed on attributes with type "list", "map", "string", "number", "boolean", or "any".')}return{operation:s,expression:o}}},remove:{canNest:!1,template:function(e,r,...n){let i="",s="";switch(r.type){case Re.set:case Re.any:case Re.list:case Re.map:case Re.string:case Re.number:case Re.boolean:case Re.enum:i=Jr.remove,s=n.join(", ");break;default:throw new Error('Invalid Update Attribute Operation: "REMOVE" Operation can only be performed on attributes with type "map", "list", "string", "number", "boolean", or "any".')}return{operation:i,expression:s}}},del:eS,delete:eS};tS.exports={UpdateOperations:F2}});var nS=E((Rve,rS)=>{var j2={escape:{template:function(e,r){return`${r}`},rawValue:!0},size:{template:function(e,r,n){return`size(${n})`},strict:!1},type:{template:function(e,r,n,i){return`attribute_type(${n}, ${i})`},strict:!1},ne:{template:function(e,r,n,i){return`${n} <> ${i}`},strict:!1},eq:{template:function(e,r,n,i){return`${n} = ${i}`},strict:!1},gt:{template:function(e,r,n,i){return`${n} > ${i}`},strict:!1},lt:{template:function(e,r,n,i){return`${n} < ${i}`},strict:!1},gte:{template:function(e,r,n,i){return`${n} >= ${i}`},strict:!1},lte:{template:function(e,r,n,i){return`${n} <= ${i}`},strict:!1},between:{template:function(e,r,n,i,s){return`(${n} between ${i} and ${s})`},strict:!1},begins:{template:function(e,r,n,i){return`begins_with(${n}, ${i})`},strict:!1},exists:{template:function(e,r,n){return`attribute_exists(${n})`},strict:!1},notExists:{template:function(e,r,n){return`attribute_not_exists(${n})`},strict:!1},contains:{template:function(e,r,n,i){return`contains(${n}, ${i})`},strict:!1},notContains:{template:function(e,r,n,i){return`not contains(${n}, ${i})`},strict:!1},value:{template:function(t,e,r,n){return n},strict:!1,canNest:!0},name:{template:function(t,e,r){return r},strict:!1,canNest:!0},eqOrNotExists:{template:function(e,r,n,i){return`(${n} = ${i} OR attribute_not_exists(${n}))`},strict:!1},field:{template:function(t,e,r){return r!==void 0?`${r}`:""},strict:!1,canNest:!0,rawField:!0}};rS.exports={FilterOperations:j2}});var Zs=E((Nve,lS)=>{var{AttributeTypes:L2,ItemOperations:$2,AttributeProxySymbol:iS,BuilderTypes:sS}=Vt(),{UpdateOperations:aS}=Bf(),{FilterOperations:cS}=nS(),Il=ur(),oS=rs(),Uf=class{constructor({prefix:e}={}){this.names={},this.values={},this.paths={},this.counts={},this.impacted={},this.expression="",this.prefix=e||"",this.refs={},this.formattedNameToOriginalNameMap=new Map}incrementName(e){return this.counts[e]===void 0&&(this.counts[e]=0),`${this.prefix}${this.counts[e]++}`}formatName(e=""){let r=isNaN(e),n=`${e}`,i=n.replaceAll(/[^\w]/g,"");i.length===0?i="p":r!==isNaN(i)&&(i=`p${i}`);let s=i,o=1;for(;this.formattedNameToOriginalNameMap.has(i)&&this.formattedNameToOriginalNameMap.get(i)!==n;)i=`${s}_${++o}`;return this.formattedNameToOriginalNameMap.set(i,n),i}setName(e,r,n){r=this.formatName(r);let i="",s="",o=`#${r}`;return Object.keys(e).length===0?(i=`${r}`,s=`${o}`,this.names[o]=n):isNaN(r)?(i=`${e.json}.${r}`,s=`${e.expression}.${o}`,this.names[o]=n):(i=`${e.json}[${r}]`,s=`${e.expression}[${r}]`),{json:i,expression:s,prop:o}}getNames(){return this.names}setValue(e,r){e=this.formatName(e);let n=this.incrementName(e),i=`:${e}${n}`;return this.values[i]=r,i}updateValue(e,r){this.values[e]=r}getValues(){return this.values}setPath(e,r){this.paths[e]=r}setExpression(e){this.expression=e}getExpression(){return this.expression}setImpacted(e,r,n){this.impacted[r]=e,this.refs[r]=n}},qf=class t{constructor({builder:e,attributes:r={},operations:n={}}){this.ref={attributes:r,operations:n},this.attributes=t.buildAttributes(e,r),this.operations=t.buildOperations(e,n)}invokeCallback(e,...r){return e(this.attributes,this.operations,...r)}performOperation({operation:e,path:r,value:n,force:i=!1}){if(n===void 0)return;let s=oS.parseJSONPath(r),o=this.attributes;for(let a of s)o=o[a];if(o){this.operations[e](o,n);let{target:a}=o();if(a.readOnly&&!i)throw new Error(`Attribute "${a.path}" is Read-Only and cannot be updated`)}}fromObject(e,r){for(let n of Object.keys(r))this.performOperation({operation:e,path:n,value:r[n]})}fromArray(e,r){for(let n of r){let i=oS.parseJSONPath(n),s=this.attributes;for(let o of i)s=s[o];if(s){this.operations[e](s);let{target:o}=s();if(o.readOnly)throw new Error(`Attribute "${o.path}" is Read-Only and cannot be updated`);if(e===$2.remove&&o.required)throw new Error(`Attribute "${o.path}" is Required and cannot be removed`)}}}static buildOperations(e,r){let n={},i=new Map;for(let s of Object.keys(r)){let{template:o,canNest:a,rawValue:c,rawField:l}=r[s];Object.defineProperty(n,s,{get:()=>(d,...m)=>{if(d===void 0)throw new Il.ElectroError(Il.ErrorCodes.InvalidWhere,`Invalid/Unknown property passed in where clause passed to operation: '${s}'`);if(d[iS]){let{commit:f,target:h}=d(),y=m.map(O=>h.applyFixings(O)).filter(O=>O!==void 0),v=e.type===sS.filter,g=o.length>3,_=y.every(O=>{let U=i.get(O);return U?U.every(Oe=>h.acceptable(Oe)):h.acceptable(O)});if(!(v||!g||g&&_&&y.length>0))return"";let S=f(),N=[],Q=!1;for(let O of y)if(i.has(O))N.push(O),Q=!0;else{let U=e.setValue(h.name,O);e.setPath(S.json,{value:O,name:U}),N.push(U)}let C=o({nestedValue:Q,createValue:(O,U)=>e.setValue(`${h.name}_${O}`,U)},h,S.expression,...N);return e.setImpacted(s,S.json,h),a&&(i.set(S.expression,N),i.set(C,N)),e.type===sS.update&&C&&typeof C.operation=="string"&&typeof C.expression=="string"?(e.add(C.operation,C.expression),C.expression):C}else if(c){let f=e.setValue(d,d);e.setPath(d,{value:d,name:f});let h=o({},f);return i.set(f,[d]),i.set(h,[d]),h}else if(l){let{prop:f,expression:h}=e.setName({},d,d),y=o({},null,f);return i.set(h,[d]),i.set(y,[d]),y}else throw new Il.ElectroError(Il.ErrorCodes.InvalidWhere,`Invalid Attribute in where clause passed to operation '${s}'. Use injected attributes only.`)}})}return n}static pathProxy(e){return new Proxy(()=>e(),{get:(r,n,i)=>n===iS?!0:t.pathProxy(()=>{let{commit:s,root:o,target:a,builder:c}=e(),l=a.getChild(n),d=l.type===L2.any&&l.name!==n,m;if(l===void 0)throw new Error(`Invalid attribute "${n}" at path "${a.path}.${n}"`);return d?m=n:m=l.field,{root:o,builder:c,nestedAny:d,target:l,commit:()=>{let f=s();return c.setName(f,n,m)}}})})}static buildAttributes(e,r){let n={};for(let[i,s]of Object.entries(r))Object.defineProperty(n,i,{get:()=>t.pathProxy(()=>({root:s,target:s,builder:e,commit:()=>e.setName({},s.name,s.field)}))});return n}},B2=Object.keys(cS).reduce((t,e)=>(t[e]=e,t),{}),U2=Object.keys(aS).reduce((t,e)=>(t[e]=e,t),{});lS.exports={UpdateOperations:aS,UpdateOperationNames:U2,FilterOperations:cS,FilterOperationNames:B2,ExpressionState:Uf,AttributeOperationProxy:qf}});var Pl=E((kve,uS)=>{var{MethodTypes:Tn,ExpressionTypes:dS,BuilderTypes:q2}=Vt(),{AttributeOperationProxy:V2,ExpressionState:G2,FilterOperations:H2}=Zs(),Tl=ur(),Vf=class extends G2{constructor(e){super(e),this.expression="",this.type=q2.filter}_trim(e){return typeof e=="string"&&e.length>0?e.replace(/\n|\r/g,"").trim():""}_isEmpty(e){if(typeof e!="string")throw new Error("Invalid expression value type. Expected type string.");return!e.replace(/\n|\r|\w/g,"").trim()}add(e,r={}){let n=!!r.asPrefix,i="",s=this.expression;if(typeof s=="string"&&s.length>0){if(e=this._trim(e),this._isEmpty(e))return s;!n&&!s.startsWith("(")&&!s.endsWith(")")&&(s=`(${s})`),n?i=`(${e}) AND ${s}`:i=`${s} AND ${e}`}else i=this._trim(e);this.expression=i}unsafeSet(e,r,n,...i){let{template:s}=H2[r]||{};if(s===void 0)throw new Error(`Invalid operation: "${r}". Please report this issue via a bug ticket.`);let o=this.setName({},n,n),a=i.map(l=>this.setValue(n,l)),c=s({},o.expression,o.prop,...a);this.add(c,e)}build(){return this.expression}},Gf=class{constructor(e={},r={}){this.attributes={...e},this.operations={...r}}getExpressionType(e){switch(e){case Tn.put:case Tn.create:case Tn.update:case Tn.patch:case Tn.delete:case Tn.remove:case Tn.upsert:case Tn.get:case Tn.check:return dS.ConditionExpression;default:return dS.FilterExpression}}buildClause(e){if(typeof e!="function")throw new Tl.ElectroError(Tl.ErrorCodes.InvalidWhere,'Where callback must be of type "function"');return(r,n,...i)=>{let s=this.getExpressionType(n.query.method),o=n.query.filter[s],c=new V2({builder:o,attributes:this.attributes,operations:this.operations}).invokeCallback(e,...i);if(typeof c!="string")throw new Tl.ElectroError(Tl.ErrorCodes.InvalidWhere,"Invalid response from where clause callback. Expected return result to be of type string");return o.add(c),n}}injectWhereClauses(e={},r={}){let n={...e},i=Object.entries(n).filter(a=>{let[c,{children:l}]=a;return l.find(d=>["go","commit"].includes(d))}).map(([a])=>a),s=Object.keys(r),o=[];for(let[a,c]of Object.entries(r))o.push(a),n[a]={name:a,action:this.buildClause(c),children:["params","go","commit","where",...s]};o.push("where"),n.where={name:"where",action:(a,c,l)=>this.buildClause(l)(a,c),children:["params","go","commit","where",...s]};for(let a of i)n[a]={...n[a]},n[a].children=[...o,...n[a].children];return n}};uS.exports={WhereFactory:Gf,FilterExpression:Vf}});var mS=E((Mve,pS)=>{var{UpdateOperations:Dve}=Bf(),{AttributeOperationProxy:K2,ExpressionState:z2}=Zs(),{ItemOperations:ga,BuilderTypes:W2}=Vt(),Hf=class extends z2{constructor(e={}){super({...e}),this.operations={set:new Set,remove:new Set,add:new Set,subtract:new Set,delete:new Set},this.composites={},this.seen=new Map,this.type=W2.update}addComposite(e,r){return r!==void 0&&(this.composites[e]===void 0||this.composites[e]===r)?(this.composites[e]=r,!0):!1}add(e,r){this.operations[e].add(r)}unadd(e,r){this.operations[e].delete(r)}set(e,r,n=ga.set,i){let s=n;n===ga.ifNotExists&&(s=ga.set);let o=this.seen.get(e),a,c;o?(a=o.name,c=o.value,this.unadd(s,o.expression)):(a=this.setName({},e,e),c=this.setValue(e,r));let l=`${a.prop} = ${c}`;n===ga.ifNotExists&&(l=`${a.prop} = if_not_exists(${a.prop}, ${c})`),this.seen.set(e,{name:a,value:c,expression:l}),this.add(s,l)}remove(e){let r=this.setName({},e,e);this.add(ga.remove,`${r.prop}`)}build(){let e=[];for(let r of Object.keys(this.operations)){let n=this.operations[r];n.size>0&&e.push(`${r.toUpperCase()} ${Array.from(n).join(", ")}`)}return e.join(" ")}},Kf=class{constructor(e={},r={}){this.attributes={...e},this.operations={...r}}buildCallbackHandler(e,r){let n=new K2({builder:r.query.update,attributes:this.attributes,operations:this.operations});return(i,...s)=>{if(typeof i!="function")throw new Error('Update Callback must be of type "function"');n.invokeCallback(i,...s)}}};pS.exports={UpdateEntity:Kf,UpdateExpression:Hf}});var Jf=E((jve,yS)=>{var{QueryTypes:ot,MethodTypes:Ve,ItemOperations:is,ExpressionTypes:as,TransactionCommitSymbol:J2,TransactionOperations:Y2,TerminalOperation:Z2,KeyTypes:fS,IndexTypes:Q2,UpsertOperations:Yr,ComparisonTypes:Qt}=Vt(),{AttributeOperationProxy:X2,UpdateOperations:eK,FilterOperationNames:Qe,UpdateOperationNames:Fve}=Zs(),{UpdateExpression:tK}=mS(),{FilterExpression:hS}=Pl(),Al=In(),ss=ur(),rK=rs(),st={upsert:["upsertSet","upsertAppend","upsertAdd","go","params","upsertSubtract","commit","upsertIfNotExists","where"],update:["data","set","append","add","updateRemove","updateDelete","go","params","subtract","commit","composite","ifNotExists","where"],put:["where","params","go","commit"],del:["where","params","go","commit"]};function zf(t,e,r,n,i){if(n.getError()!==null)return n;try{n.setMethod(e);for(let s of i){let o=t(r,n.createSubState(),s);if(o.getError()!==null)throw o.getError()}return n}catch(s){return n.setError(s),n}}var os={index:{name:"index",children:["check","get","delete","update","query","upsert","put","scan","collection","clusteredCollection","create","remove","patch","batchPut","batchDelete","batchGet"]},clusteredCollection:{name:"clusteredCollection",action(t,e,r="",n={}){if(e.getError()!==null)return e;try{let{pk:i,sk:s}=e.getCompositeAttributes();return e.setType(ot.clustered_collection).setMethod(Ve.query).setCollection(r).setPK(t._expectFacets(n,i)).ifSK(()=>{let{composites:o,unused:a}=e.identifyCompositeAttributes(n,s,i);e.setSK(o),e.beforeBuildParams(({options:c,state:l})=>{let d=t.model.translations.indexes.fromIndexToAccessPattern[l.query.index];(c.compare===Qt.attributes||c.compare===Qt.v2)&&!t.model.indexes[d].sk.isFieldRef&&s.length>1&&l.filterProperties(Qe.eq,{...a,...o})})}).whenOptions(({options:o,state:a})=>{!o.ignoreOwnership&&!a.getParams()&&(a.query.options.expressions.names={...a.query.options.expressions.names,...a.query.options.identifiers.names},a.query.options.expressions.values={...a.query.options.expressions.values,...a.query.options.identifiers.values},a.query.options.expressions.expression=a.query.options.expressions.expression.length>1?`(${a.query.options.expressions.expression}) AND ${a.query.options.identifiers.expression}`:`${a.query.options.identifiers.expression}`)})}catch(i){return e.setError(i),e}},children:["between","gte","gt","lte","lt","begins","params","go"]},collection:{name:"collection",action(t,e,r="",n={}){if(e.getError()!==null)return e;try{let{pk:i,sk:s}=e.getCompositeAttributes();return e.setType(ot.collection).setMethod(Ve.query).setCollection(r).setPK(t._expectFacets(n,i)).whenOptions(({options:o,state:a})=>{!o.ignoreOwnership&&!a.getParams()&&(a.query.options.expressions.names={...a.query.options.expressions.names,...a.query.options.identifiers.names},a.query.options.expressions.values={...a.query.options.expressions.values,...a.query.options.identifiers.values},a.query.options.expressions.expression=a.query.options.expressions.expression.length>1?`(${a.query.options.expressions.expression}) AND ${a.query.options.identifiers.expression}`:`${a.query.options.identifiers.expression}`)})}catch(i){return e.setError(i),e}},children:["params","go"]},scan:{name:"scan",action(t,e,r){if(e.getError()!==null)return e;try{return e.setMethod(Ve.scan).whenOptions(({state:n,options:i})=>{!i.ignoreOwnership&&!n.getParams()&&(n.unsafeApplyFilter({},Qe.eq,t.identifiers.entity,t.getName()),n.unsafeApplyFilter({},Qe.eq,t.identifiers.version,t.getVersion()))})}catch(n){return e.setError(n),e}},children:["params","go"]},get:{name:"get",action(t,e,r={}){if(e.getError()!==null)return e;try{let{pk:n,sk:i}=e.getCompositeAttributes(),{composites:s}=e.identifyCompositeAttributes(r,i,n);return e.setMethod(Ve.get).setType(ot.eq).setPK(t._expectFacets(r,n)).ifSK(()=>{t._expectFacets(r,i),e.setSK(s)})}catch(n){return e.setError(n),e}},children:["params","go","commit"]},check:{name:"check",action(...t){return os.get.action(...t).setMethod(Ve.check)},children:["commit"]},batchGet:{name:"batchGet",action:(t,e,r)=>zf(os.get.action,Ve.batchGet,t,e,r),children:["params","go"]},batchDelete:{name:"batchDelete",action:(t,e,r)=>zf(os.delete.action,Ve.batchWrite,t,e,r),children:["params","go"]},delete:{name:"delete",action(t,e,r={}){if(e.getError()!==null)return e;try{let{pk:n,sk:i}=e.getCompositeAttributes(),s=t._expectFacets(r,n);return e.addOption("_includeOnResponseItem",s),e.setMethod(Ve.delete).setType(ot.eq).setPK(s).ifSK(()=>{t._expectFacets(r,i);let o=e.buildQueryComposites(r,i);e.setSK(o),e.addOption("_includeOnResponseItem",{...o,...s})})}catch(n){return e.setError(n),e}},children:["where","params","go","commit"]},remove:{name:"remove",action(t,e,r={}){if(e.getError()!==null)return e;try{let n=e.getCompositeAttributes(),i=e.query.filter[as.ConditionExpression],{pk:s,sk:o}=t._getPrimaryIndexFieldNames();i.unsafeSet({},Qe.exists,s),o&&i.unsafeSet({},Qe.exists,o);let a=t._expectFacets(r,n.pk);return e.addOption("_includeOnResponseItem",a),e.setMethod(Ve.delete).setType(ot.eq).setPK(a).ifSK(()=>{t._expectFacets(r,n.sk);let c=e.buildQueryComposites(r,n.sk);e.setSK(c),e.addOption("_includeOnResponseItem",{...c,...a})})}catch(n){return e.setError(n),e}},children:st.del},upsert:{name:"upsert",action(t,e,r={}){if(e.getError()!==null)return e;try{return e.setMethod(Ve.upsert).setType(ot.eq).applyUpsert(Yr.set,r).beforeBuildParams(({state:n})=>{let{upsert:i,update:s,updateProxy:o}=n.query;n.query.update.set(t.identifiers.entity,t.getName()),n.query.update.set(t.identifiers.version,t.getVersion());let a={},c={},l={};for(let C in i.data){let{operation:O,value:U}=i.data[C];l[C]=U,O===Yr.set?a[C]=U:c[C]=U}let d=t.model.schema.checkCreate({...l}),m=n.getCompositeAttributes(),f=t._expectFacets(d,m.pk);n.addOption("_includeOnResponseItem",f).setPK(f).ifSK(()=>{t._expectFacets(d,m.sk);let C=t._buildQueryFacets(d,m.sk);n.setSK(C),n.addOption("_includeOnResponseItem",{...C,...f})});let h=t.model.schema.applyAttributeSetters({...d}),y={},v={};for(let C in h){let O=h[C],U=a[C]!==void 0,Oe=l[C]===void 0,it=h[C]!==void 0;(U||Oe)&&it?y[C]=O:v[C]=O}let{pk:g}=n.query.keys,_=n.query.keys.sk[0],{updatedKeys:b,setAttributes:S,indexKey:N,deletedKeys:Q=[]}=t._getPutKeys(g,_&&_.facets,y);for(let C of Q)n.query.update.remove(C);i.indexKey=N;let D=Object.entries(t.model.schema.translateToFields(S));for(let C in b){let O=b[C];N[C]===void 0&&D.push([C,O])}t._maybeApplyUpsertUpdate({fields:D,operation:Yr.set,updateProxy:o,update:s});for(let C in c){let O=h[C];if(O===void 0||i.data[C]===void 0)continue;let{operation:U}=i.data[C],Oe=t.model.schema.translateToFields({[C]:O});t._maybeApplyUpsertUpdate({fields:Object.entries(Oe),updateProxy:o,operation:U,update:s})}})}catch(n){return e.setError(n),e}},children:st.upsert},put:{name:"put",action(t,e,r={}){if(e.getError()!==null)return e;try{let n=t.model.schema.checkCreate({...r}),i=e.getCompositeAttributes();return e.setMethod(Ve.put).setType(ot.eq).applyPut(n).setPK(t._expectFacets(n,i.pk)).ifSK(()=>{t._expectFacets(n,i.sk),e.setSK(e.buildQueryComposites(n,i.sk))})}catch(n){return e.setError(n),e}},children:st.put},batchPut:{name:"batchPut",action:(t,e,r)=>zf(os.put.action,Ve.batchWrite,t,e,r),children:["params","go"]},create:{name:"create",action(t,e,r){if(e.getError()!==null)return e;try{let n=t.model.schema.checkCreate({...r}),i=e.getCompositeAttributes(),s=e.query.filter[as.ConditionExpression],{pk:o,sk:a}=t._getPrimaryIndexFieldNames();return s.unsafeSet({},Qe.notExists,o),a&&s.unsafeSet({},Qe.notExists,a),e.setMethod(Ve.put).setType(ot.eq).applyPut(n).setPK(t._expectFacets(n,i.pk)).ifSK(()=>{t._expectFacets(n,i.sk),e.setSK(e.buildQueryComposites(n,i.sk))})}catch(n){return e.setError(n),e}},children:st.put},patch:{name:"patch",action(t,e,r){if(e.getError()!==null)return e;try{let n=e.getCompositeAttributes(),i=e.query.filter[as.ConditionExpression],{pk:s,sk:o}=t._getPrimaryIndexFieldNames();i.unsafeSet({},Qe.exists,s),o&&i.unsafeSet({},Qe.exists,o);let a=t._expectFacets(r,n.pk);return e.addOption("_includeOnResponseItem",a),e.setMethod(Ve.update).setType(ot.eq).setPK(a).ifSK(()=>{t._expectFacets(r,n.sk);let c=e.buildQueryComposites(r,n.sk);e.setSK(c),e.addOption("_includeOnResponseItem",{...c,...a})})}catch(n){return e.setError(n),e}},children:st.update},update:{name:"update",action(t,e,r){if(e.getError()!==null)return e;try{let n=e.getCompositeAttributes(),i=t._expectFacets(r,n.pk);return e.addOption("_includeOnResponseItem",i),e.setMethod(Ve.update).setType(ot.eq).setPK(i).ifSK(()=>{t._expectFacets(r,n.sk);let s=e.buildQueryComposites(r,n.sk);e.setSK(s),e.addOption("_includeOnResponseItem",{...i,...s})})}catch(n){return e.setError(n),e}},children:st.update},data:{name:"data",action(t,e,r){if(e.getError()!==null)return e;try{e.query.updateProxy.invokeCallback(r);for(let n of Object.keys(e.query.update.refs)){let i=e.query.update.impacted[n],s=e.query.update.refs[n],o=e.query.update.paths[n]||{};if(!s)throw new ss.ElectroAttributeValidationError(n,`Attribute "${n}" does not exist on model.`);t.model.schema.checkOperation(s,i,o.value)}return e}catch(n){return e.setError(n),e}},children:st.update},set:{name:"set",action(t,e,r){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r),e.query.updateProxy.fromObject(is.set,r),e}catch(n){return e.setError(n),e}},children:st.update},upsertSet:{name:"set",action(t,e,r){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r,{allowReadOnly:!0}),e.query.upsert.addData(Yr.set,r),e}catch(n){return e.setError(n),e}},children:st.upsert},composite:{name:"composite",action(t,e,r={}){if(e.getError()!==null)return e;try{for(let n in r)if(t.model.facets.byAttr[n]){if(!e.query.update.addComposite(n,r[n]))throw new ss.ElectroError(ss.ErrorCodes.DuplicateUpdateCompositesProvided,`The composite attribute ${n} has been provided more than once with different values. Remove the duplication before running again`);e.applyCondition(Qe.eq,n,r[n])}return e}catch(n){return e.setError(n),e}},children:st.update},append:{name:"append",action(t,e,r={}){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r),e.query.updateProxy.fromObject(is.append,r),e}catch(n){return e.setError(n),e}},children:st.update},ifNotExists:{name:"ifNotExists",action(t,e,r={}){return t.model.schema.checkUpdate(r),e.query.updateProxy.fromObject(is.ifNotExists,r),e},children:st.update},upsertIfNotExists:{name:"ifNotExists",action(t,e,r={}){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r,{allowReadOnly:!0}),e.query.upsert.addData(Yr.ifNotExists,r),e}catch(n){return e.setError(n),e}},children:st.upsert},upsertAppend:{name:"append",action(t,e,r={}){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r,{allowReadOnly:!0}),e.query.upsert.addData(Yr.append,r),e}catch(n){return e.setError(n),e}},children:st.upsert},updateRemove:{name:"remove",action(t,e,r){if(e.getError()!==null)return e;try{if(!Array.isArray(r))throw new Error("Update method 'remove' expects type Array");return t.model.schema.checkRemove(r),e.query.updateProxy.fromArray(is.remove,r),e}catch(n){return e.setError(n),e}},children:st.update},updateDelete:{name:"delete",action(t,e,r){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r),e.query.updateProxy.fromObject(is.delete,r),e}catch(n){return e.setError(n),e}},children:st.update},add:{name:"add",action(t,e,r){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r),e.query.updateProxy.fromObject(is.add,r),e}catch(n){return e.setError(n),e}},children:st.update},upsertAdd:{name:"add",action(t,e,r){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r,{allowReadOnly:!0}),e.query.upsert.addData(Yr.add,r),e}catch(n){return e.setError(n),e}},children:st.upsert},upsertSubtract:{name:"subtract",action(t,e,r){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r,{allowReadOnly:!0}),e.query.upsert.addData(Yr.subtract,r),e}catch(n){return e.setError(n),e}},children:st.upsert},subtract:{name:"subtract",action(t,e,r){if(e.getError()!==null)return e;try{return t.model.schema.checkUpdate(r),e.query.updateProxy.fromObject(is.subtract,r),e}catch(n){return e.setError(n),e}},children:st.update},query:{name:"query",action(t,e,r,n={}){if(e.getError()!==null)return e;try{e.addOption("_isPagination",!0);let{pk:i,sk:s}=e.getCompositeAttributes();return e.setMethod(Ve.query).setType(ot.is).setPK(t._expectFacets(r,i)).ifSK(()=>{let{composites:o,unused:a}=e.identifyCompositeAttributes(r,s,i);e.setSK(e.buildQueryComposites(r,s)),e.whenOptions(({options:c,state:l})=>{(c.compare===Qt.attributes||c.compare===Qt.v2)&&s.length>1&&l.filterProperties(Qe.eq,{...a,...o}),l.query.options.indexType===Q2.clustered&&Object.keys(o).length<s.length&&!c.ignoreOwnership&&!l.getParams()&&l.unsafeApplyFilter({},Qe.eq,t.identifiers.entity,t.getName()).unsafeApplyFilter({},Qe.eq,t.identifiers.version,t.getVersion())})})}catch(i){return e.setError(i),e}},children:["between","gte","gt","lte","lt","begins","params","go"]},between:{name:"between",action(t,e,r={},n={}){if(e.getError()!==null)return e;try{let{pk:i,sk:s}=e.getCompositeAttributes(),o=e.identifyCompositeAttributes(n,s,i),a=e.identifyCompositeAttributes(r,s,i),c=t.model.translations.indexes.fromIndexToAccessPattern[e.query.index];return e.setType(ot.and).setSK(o.composites).setType(ot.between).setSK(a.composites).beforeBuildParams(({options:l,state:d})=>{(l.compare===Qt.attributes||l.compare===Qt.v2)&&(t.model.indexes[c].sk.isFieldRef||d.filterProperties(Qe.lte,o.composites,{asPrefix:!0}),l.compare===Qt.attributes&&(t.model.indexes[c].sk.isFieldRef||d.filterProperties(Qe.gte,a.composites,{asPrefix:!0})))})}catch(i){return e.setError(i),e}},children:["go","params"]},begins:{name:"begins",action(t,e,r={}){if(e.getError()!==null)return e;try{return e.setType(ot.begins).ifSK(n=>{let i=n.getCompositeAttributes();n.setSK(n.buildQueryComposites(r,i.sk))})}catch(n){return e.setError(n),e}},children:["go","params"]},gt:{name:"gt",action(t,e,r={}){if(e.getError()!==null)return e;try{return e.setType(ot.gt).ifSK(n=>{let{pk:i,sk:s}=n.getCompositeAttributes(),{composites:o}=n.identifyCompositeAttributes(r,s,i);n.setSK(o),n.beforeBuildParams(({options:a,state:c})=>{if(a.compare===Qt.attributes||a.compare===Qt.v2){let l=t.model.translations.indexes.fromIndexToAccessPattern[c.query.index];t.model.indexes[l].sk.isFieldRef||c.filterProperties(Qe.gt,o,{asPrefix:!0})}})})}catch(n){return e.setError(n),e}},children:["go","params"]},gte:{name:"gte",action(t,e,r={}){if(e.getError()!==null)return e;try{return e.setType(ot.gte).ifSK(n=>{let i=n.getCompositeAttributes();n.setSK(n.buildQueryComposites(r,i.sk)),n.beforeBuildParams(({options:s,state:o})=>{let{composites:a}=o.identifyCompositeAttributes(r,i.sk,i.pk);if(s.compare===Qt.attributes){let c=t.model.translations.indexes.fromIndexToAccessPattern[o.query.index];!t.model.indexes[c].sk.isFieldRef&&i.sk.length>1&&o.filterProperties(Qe.gte,a,{asPrefix:!0})}})})}catch(n){return e.setError(n),e}},children:["go","params"]},lt:{name:"lt",action(t,e,r={}){if(e.getError()!==null)return e;try{return e.setType(ot.lt).ifSK(n=>{let{pk:i,sk:s}=n.getCompositeAttributes(),{composites:o}=n.identifyCompositeAttributes(r,s,i);n.setSK(o),n.beforeBuildParams(({options:a,state:c})=>{if(a.compare===Qt.attributes){let l=t.model.translations.indexes.fromIndexToAccessPattern[c.query.index];t.model.indexes[l].sk.isFieldRef||c.filterProperties(Qe.lt,o,{asPrefix:!0})}})})}catch(n){return e.setError(n),e}},children:["go","params"]},lte:{name:"lte",action(t,e,r={}){if(e.getError()!==null)return e;try{return e.setType(ot.lte).ifSK(n=>{let{pk:i,sk:s}=n.getCompositeAttributes(),{composites:o}=n.identifyCompositeAttributes(r,s,i);n.setSK(o),n.beforeBuildParams(({options:a,state:c})=>{if(a.compare===Qt.attributes||a.compare===Qt.v2){let l=t.model.translations.indexes.fromIndexToAccessPattern[c.query.index];t.model.indexes[l].sk.isFieldRef||c.filterProperties(Qe.lte,o,{asPrefix:!0})}})})}catch(n){return e.setError(n),e}},children:["go","params"]},commit:{name:"commit",action(t,e,r){if(e.getError()!==null)throw e.error;let n=os.params.action(t,e,{...r,_returnOptions:!0,_isTransaction:!0}),i=Y2[e.query.method];if(!i)throw new Error("Invalid commit method");return{[i]:n.params,[J2]:()=>({entity:t})}},children:[]},params:{name:"params",action(t,e,r={}){if(e.getError()!==null)throw e.error;try{if(!Al.isStringHasLength(r.table)&&!Al.isStringHasLength(t.getTableName()))throw new ss.ElectroError(ss.ErrorCodes.MissingTable,"Table name not defined. Table names must be either defined on the model, instance configuration, or as a query option.");let n=e.getMethod(),i=t._normalizeExecutionOptions({provided:[e.getOptions(),e.query.options,r],context:{operation:r._isTransaction?Ve.transactWrite:void 0}});e.applyWithOptions(i),e.applyBeforeBuildParams(i);let s;switch(n){case Ve.query:{s=t._queryParams(e,i);break}case Ve.batchWrite:{s=t._batchWriteParams(e,i);break}case Ve.batchGet:{s=t._batchGetParams(e,i);break}default:{s=t._params(e,i);break}}return n===Ve.update&&s.ExpressionAttributeValues&&Object.keys(s.ExpressionAttributeValues).length===0&&delete s.ExpressionAttributeValues,r._returnOptions&&(s={params:s,options:i}),e.setParams(s),s}catch(n){throw n}},children:[]},go:{name:"go",action(t,e,r={}){if(e.getError()!==null)return Promise.reject(e.error);try{if(t.client===void 0)throw new ss.ElectroError(ss.ErrorCodes.NoClientDefined,"No client defined on model");r.terminalOperation=Z2.go;let n=os.params.action(t,e,{...r,_returnOptions:!0});return t.go(e.getMethod(),n.params,n.options)}catch(n){return Promise.reject(n)}},children:[]}},Wf=class t{constructor({index:e="",compositeAttributes:r={},attributes:n={},hasSortKey:i=!1,options:s={},parentState:o=null}={}){let a=new tK({prefix:"_u"});this.parentState=o,this.error=null,this.attributes=n,this.query={collection:"",index:e,type:"",method:"",facets:{...r},update:a,updateProxy:new X2({builder:a,attributes:n,operations:eK}),put:{data:{}},upsert:{data:{},indexKey:null,addData(c=Yr.set,l={}){for(let d of Object.keys(l)){let m=l[d];this.data[d]={operation:c,value:m}}},getData(c){let l={};for(let d in this.data){let{operation:m,value:f}=this.data[d];(!c||c===m)&&(l[d]=f)}return l}},keys:{provided:[],pk:{},sk:[]},filter:{[as.ConditionExpression]:new hS,[as.FilterExpression]:new hS},options:s},this.subStates=[],this.hasSortKey=i,this.prev=null,this.self=null,this.params=null,this.applyAfterOptions=[],this.beforeBuildParamsOperations=[],this.beforeBuildParamsHasRan=!1}getParams(){return this.params}setParams(e){e&&(this.params=e)}init(e,r,n){let i={};for(let s of n.children){let o=r[s].name;i[o]=(...a)=>{this.prev=this.self,this.self=s;let c=r[s].action(e,this,...a);return r[s].children.length?this.init(e,r,r[s]):c}}return i}getMethod(){return this.query.method}getOptions(){return this.query.options}addOption(e,r){return this.query.options[e]=r,this}_appendProvided(e,r){let n=Object.keys(r).map(i=>({type:e,attribute:i}));return rK.getUnique(this.query.keys.provided,n)}setPK(e){return this.query.keys.pk=e,this.query.keys.provided=this._appendProvided(fS.pk,e),this}ifSK(e){return this.hasSortKey&&e(this),this}getCompositeAttributes(){return this.query.facets}buildQueryComposites(e,r){return r.map(n=>[n,e[n]]).reduce((n,[i,s])=>(s!==void 0&&(n[i]=s),n),{})}identifyCompositeAttributes(e,r,n){let i={},s={},o=new Set(r||[]),a=new Set(n||[]);for(let c of Object.keys(e)){let l=e[c];if(o.has(c))i[c]=l;else{if(a.has(c))continue;s[c]=l}}return{composites:i,unused:s}}applyFilter(e,r,n,i){if(Qe[e]!==void 0&&r!==void 0&&n!==void 0){let s=this.attributes[r];s!==void 0&&this.unsafeApplyFilter(i,e,s.field,n)}return this}applyCondition(e,r,...n){if(Qe[e]!==void 0&&r!==void 0&&n.length>0){let i=this.attributes[r];i!==void 0&&this.query.filter[as.ConditionExpression].unsafeSet({},e,i.field,...n)}return this}unsafeApplyFilter(e={},r,n,i){return Qe[r]!==void 0&n!==void 0&&i!==void 0&&this.query.filter[as.FilterExpression].unsafeSet(e,r,n,i),this}filterProperties(e,r={},n={}){for(let i in r){let s=r[i];s!==void 0&&this.applyFilter(e,i,s,n)}return this}setSK(e,r=this.query.type){return this.hasSortKey&&(this.query.keys.sk.push({type:r,facets:e}),this.query.keys.provided=this._appendProvided(fS.sk,e)),this}setType(e){if(!ot[e])throw new Error(`Invalid query type: "${e}"`);return this.query.type=ot[e],this}setMethod(e){if(!Ve[e])throw new Error(`Invalid method type: "${e}"`);return this.query.method=Ve[e],this}setCollection(e){return this.query.collection=e,this}createSubState(){let e=new t({parentState:this,index:this.query.index,attributes:this.attributes,hasSortKey:this.hasSortKey,options:this.query.options,compositeAttributes:this.query.facets});return this.subStates.push(e),e}getError(){return this.error}setError(e){this.error=e,this.parentState&&this.parentState.setError(e)}applyUpsert(e=Yr.set,r={}){return this.query.upsert.addData(e,r),this}applyPut(e={}){return this.query.put.data={...this.query.put.data,...e},this}whenOptions(e){return Al.isFunction(e)&&this.applyAfterOptions.push(r=>{e({options:r,state:this})}),this}applyWithOptions(e={}){this.applyAfterOptions.forEach(r=>r(e))}beforeBuildParams(e){return Al.isFunction(e)&&this.beforeBuildParamsOperations.push(r=>{e({options:r,state:this})}),this}applyBeforeBuildParams(e={}){this.beforeBuildParamsHasRan||(this.beforeBuildParamsHasRan=!0,this.beforeBuildParamsOperations.forEach(r=>r(e)))}};yS.exports={clauses:os,ChainState:Wf}});var vS=E((Lve,gS)=>{var Qs=ur(),nK=In(),Yf=class t{static createSafeListener(e){if(e!==void 0){if(nK.isFunction(e))return(...r)=>{try{e(...r)}catch(n){console.error("Error invoking user supplied listener",n)}};throw new Qs.ElectroError(Qs.ErrorCodes.InvalidListenerProvided,"Provided listener is not of type 'function'")}}static normalizeListeners(e=[]){if(!Array.isArray(e))throw new Qs.ElectroError(Qs.ErrorCodes.InvalidListenerProvided,"Listeners must be provided as an array of functions");return e.map(r=>t.createSafeListener(r)).filter(r=>{switch(typeof r){case"function":return!0;case"undefined":return!1;default:throw new Qs.ElectroError(Qs.ErrorCodes.InvalidListenerProvided,"Provided listener is not of type 'function")}})}constructor({listeners:e=[]}={}){this.listeners=t.normalizeListeners(e)}add(e=[]){Array.isArray(e)||(e=[e]),this.listeners=this.listeners.concat(t.normalizeListeners(e))}trigger(e,r=[]){let n=[...this.listeners,...t.normalizeListeners(r)];for(let i of n)i(e)}};gS.exports={EventManager:Yf}});var Tr=E(($ve,TS)=>{var Ol=Object.defineProperty,iK=Object.getOwnPropertyDescriptor,sK=Object.getOwnPropertyNames,oK=Object.prototype.hasOwnProperty,Rl=(t,e)=>Ol(t,"name",{value:e,configurable:!0}),aK=(t,e)=>{for(var r in e)Ol(t,r,{get:e[r],enumerable:!0})},cK=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sK(e))!oK.call(t,i)&&i!==r&&Ol(t,i,{get:()=>e[i],enumerable:!(n=iK(e,i))||n.enumerable});return t},lK=t=>cK(Ol({},"__esModule",{value:!0}),t),_S={};aK(_S,{AlgorithmId:()=>CS,EndpointURLScheme:()=>SS,FieldPosition:()=>xS,HttpApiKeyAuthLocation:()=>ES,HttpAuthLocation:()=>bS,IniSectionType:()=>wS,RequestHandlerProtocol:()=>IS,SMITHY_CONTEXT_KEY:()=>fK,getDefaultClientConfiguration:()=>pK,resolveDefaultRuntimeConfig:()=>mK});TS.exports=lK(_S);var bS=(t=>(t.HEADER="header",t.QUERY="query",t))(bS||{}),ES=(t=>(t.HEADER="header",t.QUERY="query",t))(ES||{}),SS=(t=>(t.HTTP="http",t.HTTPS="https",t))(SS||{}),CS=(t=>(t.MD5="md5",t.CRC32="crc32",t.CRC32C="crc32c",t.SHA1="sha1",t.SHA256="sha256",t))(CS||{}),dK=Rl(t=>{let e=[];return t.sha256!==void 0&&e.push({algorithmId:()=>"sha256",checksumConstructor:()=>t.sha256}),t.md5!=null&&e.push({algorithmId:()=>"md5",checksumConstructor:()=>t.md5}),{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},"getChecksumConfiguration"),uK=Rl(t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},"resolveChecksumRuntimeConfig"),pK=Rl(t=>dK(t),"getDefaultClientConfiguration"),mK=Rl(t=>uK(t),"resolveDefaultRuntimeConfig"),xS=(t=>(t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER",t))(xS||{}),fK="__smithy_context",wS=(t=>(t.PROFILE="profile",t.SSO_SESSION="sso-session",t.SERVICES="services",t))(wS||{}),IS=(t=>(t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0",t))(IS||{})});var Xt=E((Bve,RS)=>{var Nl=Object.defineProperty,hK=Object.getOwnPropertyDescriptor,yK=Object.getOwnPropertyNames,gK=Object.prototype.hasOwnProperty,AS=(t,e)=>Nl(t,"name",{value:e,configurable:!0}),vK=(t,e)=>{for(var r in e)Nl(t,r,{get:e[r],enumerable:!0})},_K=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yK(e))!gK.call(t,i)&&i!==r&&Nl(t,i,{get:()=>e[i],enumerable:!(n=hK(e,i))||n.enumerable});return t},bK=t=>_K(Nl({},"__esModule",{value:!0}),t),OS={};vK(OS,{getSmithyContext:()=>EK,normalizeProvider:()=>SK});RS.exports=bK(OS);var PS=Tr(),EK=AS(t=>t[PS.SMITHY_CONTEXT_KEY]||(t[PS.SMITHY_CONTEXT_KEY]={}),"getSmithyContext"),SK=AS(t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e},"normalizeProvider")});function Xs(t){return NS.includes(t)}var va,NS,kl=T(()=>{va="preferred",NS=["disabled","preferred","required"]});var kS,CK,DS=T(()=>{kS=P(Xt());kl();CK=t=>{let{accountIdEndpointMode:e}=t,r=(0,kS.normalizeProvider)(e??va);return Object.assign(t,{accountIdEndpointMode:async()=>{let n=await r();if(!Xs(n))throw new Error(`Invalid value for accountIdEndpointMode: ${n}. Valid values are: "required", "preferred", "disabled".`);return n}})}});var MS,FS,jS,LS,xK,$S=T(()=>{kl();MS="Invalid AccountIdEndpointMode value",FS=t=>{throw new Error(t)},jS="AWS_ACCOUNT_ID_ENDPOINT_MODE",LS="account_id_endpoint_mode",xK={environmentVariableSelector:t=>{let e=t[jS];return e&&!Xs(e)&&FS(MS),e},configFileSelector:t=>{let e=t[LS];return e&&!Xs(e)&&FS(MS),e},default:va}});var Zf={};$r(Zf,{ACCOUNT_ID_ENDPOINT_MODE_VALUES:()=>NS,CONFIG_ACCOUNT_ID_ENDPOINT_MODE:()=>LS,DEFAULT_ACCOUNT_ID_ENDPOINT_MODE:()=>va,ENV_ACCOUNT_ID_ENDPOINT_MODE:()=>jS,NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS:()=>xK,resolveAccountIdEndpointModeConfig:()=>CK,validateAccountIdEndpointMode:()=>Xs});var Qf=T(()=>{DS();kl();$S()});var $e=E((Jve,GS)=>{var Dl=Object.defineProperty,wK=Object.getOwnPropertyDescriptor,IK=Object.getOwnPropertyNames,TK=Object.prototype.hasOwnProperty,Qn=(t,e)=>Dl(t,"name",{value:e,configurable:!0}),PK=(t,e)=>{for(var r in e)Dl(t,r,{get:e[r],enumerable:!0})},AK=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of IK(e))!TK.call(t,i)&&i!==r&&Dl(t,i,{get:()=>e[i],enumerable:!(n=wK(e,i))||n.enumerable});return t},OK=t=>AK(Dl({},"__esModule",{value:!0}),t),BS={};PK(BS,{Field:()=>kK,Fields:()=>DK,HttpRequest:()=>MK,HttpResponse:()=>FK,IHttpRequest:()=>US.HttpRequest,getHttpHandlerExtensionConfiguration:()=>RK,isValidHostname:()=>VS,resolveHttpHandlerRuntimeConfig:()=>NK});GS.exports=OK(BS);var RK=Qn(t=>({setHttpHandler(e){t.httpHandler=e},httpHandler(){return t.httpHandler},updateHttpClientConfig(e,r){t.httpHandler?.updateHttpClientConfig(e,r)},httpHandlerConfigs(){return t.httpHandler.httpHandlerConfigs()}}),"getHttpHandlerExtensionConfiguration"),NK=Qn(t=>({httpHandler:t.httpHandler()}),"resolveHttpHandlerRuntimeConfig"),US=Tr(),kK=class{static{Qn(this,"Field")}constructor({name:t,kind:e=US.FieldPosition.HEADER,values:r=[]}){this.name=t,this.kind=e,this.values=r}add(t){this.values.push(t)}set(t){this.values=t}remove(t){this.values=this.values.filter(e=>e!==t)}toString(){return this.values.map(t=>t.includes(",")||t.includes(" ")?`"${t}"`:t).join(", ")}get(){return this.values}},DK=class{constructor({fields:t=[],encoding:e="utf-8"}){this.entries={},t.forEach(this.setField.bind(this)),this.encoding=e}static{Qn(this,"Fields")}setField(t){this.entries[t.name.toLowerCase()]=t}getField(t){return this.entries[t.toLowerCase()]}removeField(t){delete this.entries[t.toLowerCase()]}getByType(t){return Object.values(this.entries).filter(e=>e.kind===t)}},MK=class Xf{static{Qn(this,"HttpRequest")}constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){let r=new Xf({...e,headers:{...e.headers}});return r.query&&(r.query=qS(r.query)),r}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){return Xf.clone(this)}};function qS(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}Qn(qS,"cloneQuery");var FK=class{static{Qn(this,"HttpResponse")}constructor(t){this.statusCode=t.statusCode,this.reason=t.reason,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let e=t;return typeof e.statusCode=="number"&&typeof e.headers=="object"}};function VS(t){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(t)}Qn(VS,"isValidHostname")});var KS=E((Xve,HS)=>{function Pn(t){Object.defineProperty(this,"_next",{writable:!1,enumerable:!1,value:t}),this.done=!1}Pn.prototype.next=function(){if(this.done)return{done:!0};var t=this._next();return t.done&&(this.done=!0),t};typeof Symbol<"u"&&(Pn.prototype[Symbol.iterator]=function(){return this});Pn.of=function(){var t=arguments,e=t.length,r=0;return new Pn(function(){return r>=e?{done:!0}:{done:!1,value:t[r++]}})};Pn.empty=function(){var t=new Pn(null);return t.done=!0,t};Pn.is=function(t){return t instanceof Pn?!0:typeof t=="object"&&t!==null&&typeof t.next=="function"};HS.exports=Pn});var eh=E((e_e,YS)=>{var zS=typeof ArrayBuffer<"u",WS=typeof Symbol<"u";function JS(t,e){var r,n,i,s,o;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||zS&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(i=0,s=t.length;i<s;i++)e(t[i],i);return}if(typeof t.forEach=="function"){t.forEach(e);return}if(WS&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,i=0;o=r.next(),o.done!==!0;)e(o.value,i),i++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)}JS.forEachWithNullKeys=function(t,e){var r,n,i,s,o;if(!t)throw new Error("obliterator/forEachWithNullKeys: invalid iterable.");if(typeof e!="function")throw new Error("obliterator/forEachWithNullKeys: expecting a callback.");if(Array.isArray(t)||zS&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(i=0,s=t.length;i<s;i++)e(t[i],null);return}if(t instanceof Set){t.forEach(function(a){e(a,null)});return}if(typeof t.forEach=="function"){t.forEach(e);return}if(WS&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(r=t,i=0;o=r.next(),o.done!==!0;)e(o.value,null),i++;return}for(n in t)t.hasOwnProperty(n)&&e(t[n],n)};YS.exports=JS});var th=E(Zr=>{var jK=Math.pow(2,8)-1,LK=Math.pow(2,16)-1,$K=Math.pow(2,32)-1,BK=Math.pow(2,7)-1,UK=Math.pow(2,15)-1,qK=Math.pow(2,31)-1;Zr.getPointerArray=function(t){var e=t-1;return e<=jK?Uint8Array:e<=LK?Uint16Array:e<=$K?Uint32Array:Float64Array};Zr.getSignedPointerArray=function(t){var e=t-1;return e<=BK?Int8Array:e<=UK?Int16Array:e<=qK?Int32Array:Float64Array};Zr.getNumberType=function(t){return t===(t|0)?Math.sign(t)===-1?t<=127&&t>=-128?Int8Array:t<=32767&&t>=-32768?Int16Array:Int32Array:t<=255?Uint8Array:t<=65535?Uint16Array:Uint32Array:Float64Array};var VK={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};Zr.getMinimalRepresentation=function(t,e){var r=null,n=0,i,s,o,a,c;for(a=0,c=t.length;a<c;a++)o=e?e(t[a]):t[a],s=Zr.getNumberType(o),i=VK[s.name],i>n&&(n=i,r=s);return r};Zr.isTypedArray=function(t){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(t)};Zr.concat=function(){var t=0,e,r,n;for(e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=new arguments[0].constructor(t);for(e=0,r=0;e<n;e++)i.set(arguments[e],r),r+=arguments[e].length;return i};Zr.indices=function(t){for(var e=Zr.getPointerArray(t),r=new e(t),n=0;n<t;n++)r[n]=n;return r}});var XS=E(_a=>{var ZS=eh(),QS=th();function GK(t){return Array.isArray(t)||QS.isTypedArray(t)}function rh(t){if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size}function HK(t){var e=rh(t),r=typeof e=="number"?new Array(e):[],n=0;return ZS(t,function(i){r[n++]=i}),r}function KK(t){var e=rh(t),r=typeof e=="number"?QS.getPointerArray(e):Array,n=typeof e=="number"?new Array(e):[],i=typeof e=="number"?new r(e):[],s=0;return ZS(t,function(o){n[s]=o,i[s]=s++}),[n,i]}_a.isArrayLike=GK;_a.guessLength=rh;_a.toArray=HK;_a.toArrayWithIndices=KK});var tC=E((n_e,eC)=>{var nh=KS(),zK=eh(),WK=th(),JK=XS();function at(t,e,r){if(arguments.length<2&&(r=t,t=null,e=null),this.capacity=r,typeof this.capacity!="number"||this.capacity<=0)throw new Error("mnemonist/lru-cache: capacity should be positive number.");var n=WK.getPointerArray(r);this.forward=new n(r),this.backward=new n(r),this.K=typeof t=="function"?new t(r):new Array(r),this.V=typeof e=="function"?new e(r):new Array(r),this.size=0,this.head=0,this.tail=0,this.items={}}at.prototype.clear=function(){this.size=0,this.head=0,this.tail=0,this.items={}};at.prototype.splayOnTop=function(t){var e=this.head;if(this.head===t)return this;var r=this.backward[t],n=this.forward[t];return this.tail===t?this.tail=r:this.backward[n]=r,this.forward[r]=n,this.backward[e]=t,this.head=t,this.forward[t]=e,this};at.prototype.set=function(t,e){var r=this.items[t];if(typeof r<"u"){this.splayOnTop(r),this.V[r]=e;return}this.size<this.capacity?r=this.size++:(r=this.tail,this.tail=this.backward[r],delete this.items[this.K[r]]),this.items[t]=r,this.K[r]=t,this.V[r]=e,this.forward[r]=this.head,this.backward[this.head]=r,this.head=r};at.prototype.setpop=function(t,e){var r=null,n=null,i=this.items[t];return typeof i<"u"?(this.splayOnTop(i),r=this.V[i],this.V[i]=e,{evicted:!1,key:t,value:r}):(this.size<this.capacity?i=this.size++:(i=this.tail,this.tail=this.backward[i],r=this.V[i],n=this.K[i],delete this.items[this.K[i]]),this.items[t]=i,this.K[i]=t,this.V[i]=e,this.forward[i]=this.head,this.backward[this.head]=i,this.head=i,n?{evicted:!0,key:n,value:r}:null)};at.prototype.has=function(t){return t in this.items};at.prototype.get=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.splayOnTop(e),this.V[e]};at.prototype.peek=function(t){var e=this.items[t];if(!(typeof e>"u"))return this.V[e]};at.prototype.forEach=function(t,e){e=arguments.length>1?e:this;for(var r=0,n=this.size,i=this.head,s=this.K,o=this.V,a=this.forward;r<n;)t.call(e,o[i],s[i],this),i=a[i],r++};at.prototype.keys=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.forward;return new nh(function(){if(t>=e)return{done:!0};var s=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:s}})};at.prototype.values=function(){var t=0,e=this.size,r=this.head,n=this.V,i=this.forward;return new nh(function(){if(t>=e)return{done:!0};var s=n[r];return t++,t<e&&(r=i[r]),{done:!1,value:s}})};at.prototype.entries=function(){var t=0,e=this.size,r=this.head,n=this.K,i=this.V,s=this.forward;return new nh(function(){if(t>=e)return{done:!0};var o=n[r],a=i[r];return t++,t<e&&(r=s[r]),{done:!1,value:[o,a]}})};typeof Symbol<"u"&&(at.prototype[Symbol.iterator]=at.prototype.entries);at.prototype.inspect=function(){for(var t=new Map,e=this.entries(),r;r=e.next(),!r.done;)t.set(r.value[0],r.value[1]);return Object.defineProperty(t,"constructor",{value:at,enumerable:!1}),t};typeof Symbol<"u"&&(at.prototype[Symbol.for("nodejs.util.inspect.custom")]=at.prototype.inspect);at.from=function(t,e,r,n){if(arguments.length<2){if(n=JK.guessLength(t),typeof n!="number")throw new Error("mnemonist/lru-cache.from: could not guess iterable length. Please provide desired capacity as last argument.")}else arguments.length===2&&(n=e,e=null,r=null);var i=new at(e,r,n);return zK(t,function(s,o){i.set(o,s)}),i};eC.exports=at});var sC=E((i_e,iC)=>{"use strict";var YK=Object.create,ba=Object.defineProperty,ZK=Object.getOwnPropertyDescriptor,QK=Object.getOwnPropertyNames,XK=Object.getPrototypeOf,ez=Object.prototype.hasOwnProperty,tz=(t,e)=>ba(t,"name",{value:e,configurable:!0}),rz=(t,e)=>{for(var r in e)ba(t,r,{get:e[r],enumerable:!0})},rC=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of QK(e))!ez.call(t,i)&&i!==r&&ba(t,i,{get:()=>e[i],enumerable:!(n=ZK(e,i))||n.enumerable});return t},nz=(t,e,r)=>(r=t!=null?YK(XK(t)):{},rC(e||!t||!t.__esModule?ba(r,"default",{value:t,enumerable:!0}):r,t)),iz=t=>rC(ba({},"__esModule",{value:!0}),t),nC={};rz(nC,{EndpointCache:()=>oz});iC.exports=iz(nC);var sz=nz(tC()),oz=class{static{tz(this,"EndpointCache")}cache;constructor(t){this.cache=new sz.default(t)}getEndpoint(t){let e=this.get(t);if(!e||e.length===0)return;let r=e.map(n=>n.Address);return r[Math.floor(Math.random()*r.length)]}get(t){if(!this.has(t))return;let e=this.cache.get(t);if(!e)return;let r=Date.now(),n=e.filter(i=>r<i.Expires);if(n.length===0){this.delete(t);return}return n}set(t,e){let r=Date.now();this.cache.set(t,e.map(({Address:n,CachePeriodInMinutes:i})=>({Address:n,Expires:r+i*60*1e3})))}delete(t){this.cache.set(t,[])}has(t){if(!this.cache.has(t))return!1;let e=this.cache.peek(t);return e?e.length>0:!1}clear(){this.cache.clear()}}});var oh=E((o_e,dC)=>{"use strict";var Ml=Object.defineProperty,az=Object.getOwnPropertyDescriptor,cz=Object.getOwnPropertyNames,lz=Object.prototype.hasOwnProperty,er=(t,e)=>Ml(t,"name",{value:e,configurable:!0}),dz=(t,e)=>{for(var r in e)Ml(t,r,{get:e[r],enumerable:!0})},uz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cz(e))!lz.call(t,i)&&i!==r&&Ml(t,i,{get:()=>e[i],enumerable:!(n=az(e,i))||n.enumerable});return t},pz=t=>uz(Ml({},"__esModule",{value:!0}),t),lC={};dz(lC,{NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS:()=>mz,endpointDiscoveryMiddlewareOptions:()=>Fl,getEndpointDiscoveryOptionalPlugin:()=>vz,getEndpointDiscoveryPlugin:()=>yz,getEndpointDiscoveryRequiredPlugin:()=>gz,resolveEndpointDiscoveryConfig:()=>bz});dC.exports=pz(lC);var oC=["AWS_ENABLE_ENDPOINT_DISCOVERY","AWS_ENDPOINT_DISCOVERY_ENABLED"],ih="endpoint_discovery_enabled",aC=er(t=>["false","0"].indexOf(t)>=0,"isFalsy"),mz={environmentVariableSelector:er(t=>{for(let e=0;e<oC.length;e++){let r=oC[e];if(r in t){let n=t[r];if(n==="")throw Error(`Environment variable ${r} can't be empty of undefined, got "${n}"`);return!aC(n)}}},"environmentVariableSelector"),configFileSelector:er(t=>{if(ih in t){let e=t[ih];if(e===void 0)throw Error(`Shared config entry ${ih} can't be undefined, got "${e}"`);return!aC(e)}},"configFileSelector"),default:void 0},fz=$e(),hz=er(async(t,e,r)=>{let{accessKeyId:n}=await e.credentials(),{identifiers:i}=r;return JSON.stringify({...n&&{accessKeyId:n},...i&&{commandName:t,identifiers:Object.entries(i).sort().reduce((s,[o,a])=>({...s,[o]:a}),{})}})},"getCacheKey"),An={},cC=er(async(t,e)=>new Promise((r,n)=>{let{endpointCache:i}=t,{cacheKey:s,commandName:o,identifiers:a}=e,c=i.get(s);if(c&&c.length===1&&c[0].Address==="")e.isDiscoveredEndpointRequired?(An[s]||(An[s]=[]),An[s].push({resolve:r,reject:n})):r();else if(c&&c.length>0)r();else{let l=[{Address:"",CachePeriodInMinutes:1}];i.set(s,l);let d=new e.endpointDiscoveryCommandCtor({Operation:o.slice(0,-7),Identifiers:a});d.resolveMiddleware(e.clientStack,t,e.options)(d).then(f=>{i.set(s,f.output.Endpoints),An[s]&&(An[s].forEach(({resolve:h})=>{h()}),delete An[s]),r()}).catch(f=>{i.delete(s);let h=Object.assign(new Error("The operation to discover endpoint failed. Please retry, or provide a custom endpoint and disable endpoint discovery to proceed."),{reason:f});An[s]&&(An[s].forEach(({reject:y})=>{y(h)}),delete An[s]),e.isDiscoveredEndpointRequired?n(h):(i.set(s,l),r())})}}),"updateDiscoveredEndpointInCache"),sh=er((t,e)=>(r,n)=>async i=>{if(t.isCustomEndpoint){if(t.isClientEndpointDiscoveryEnabled)throw new Error("Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.");return r(i)}let{endpointDiscoveryCommandCtor:s}=t,{isDiscoveredEndpointRequired:o,identifiers:a}=e,c=n.clientName,l=n.commandName,d=await t.endpointDiscoveryEnabled(),m=await hz(l,t,{identifiers:a});if(o){if(d===!1)throw new Error(`Endpoint Discovery is disabled but ${l} on ${c} requires it. Please check your configurations.`);await cC(t,{...e,commandName:l,cacheKey:m,endpointDiscoveryCommandCtor:s})}else d&&cC(t,{...e,commandName:l,cacheKey:m,endpointDiscoveryCommandCtor:s});let{request:f}=i;if(m&&fz.HttpRequest.isInstance(f)){let h=t.endpointCache.getEndpoint(m);h&&(f.hostname=h)}return r(i)},"endpointDiscoveryMiddleware"),Fl={name:"endpointDiscoveryMiddleware",step:"build",tags:["ENDPOINT_DISCOVERY"],override:!0},yz=er((t,e)=>({applyToStack:er(r=>{r.add(sh(t,e),Fl)},"applyToStack")}),"getEndpointDiscoveryPlugin"),gz=er((t,e)=>({applyToStack:er(r=>{r.add(sh(t,{...e,isDiscoveredEndpointRequired:!0}),Fl)},"applyToStack")}),"getEndpointDiscoveryRequiredPlugin"),vz=er((t,e)=>({applyToStack:er(r=>{r.add(sh(t,{...e,isDiscoveredEndpointRequired:!1}),Fl)},"applyToStack")}),"getEndpointDiscoveryOptionalPlugin"),_z=sC(),bz=er((t,{endpointDiscoveryCommandCtor:e})=>{let{endpointCacheSize:r,endpointDiscoveryEnabled:n,endpointDiscoveryEnabledProvider:i}=t;return Object.assign(t,{endpointDiscoveryCommandCtor:e,endpointCache:new _z.EndpointCache(r??1e3),endpointDiscoveryEnabled:n!==void 0?()=>Promise.resolve(n):i,isClientEndpointDiscoveryEnabled:n!==void 0})},"resolveEndpointDiscoveryConfig")});var eo=E((a_e,hC)=>{"use strict";var Ll=Object.defineProperty,Ez=Object.getOwnPropertyDescriptor,Sz=Object.getOwnPropertyNames,Cz=Object.prototype.hasOwnProperty,jl=(t,e)=>Ll(t,"name",{value:e,configurable:!0}),xz=(t,e)=>{for(var r in e)Ll(t,r,{get:e[r],enumerable:!0})},wz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Sz(e))!Cz.call(t,i)&&i!==r&&Ll(t,i,{get:()=>e[i],enumerable:!(n=Ez(e,i))||n.enumerable});return t},Iz=t=>wz(Ll({},"__esModule",{value:!0}),t),uC={};xz(uC,{getHostHeaderPlugin:()=>Pz,hostHeaderMiddleware:()=>mC,hostHeaderMiddlewareOptions:()=>fC,resolveHostHeaderConfig:()=>pC});hC.exports=Iz(uC);var Tz=$e();function pC(t){return t}jl(pC,"resolveHostHeaderConfig");var mC=jl(t=>e=>async r=>{if(!Tz.HttpRequest.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:i=""}=t.requestHandler.metadata||{};if(i.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]=n.hostname+(n.port?":"+n.port:"");else if(!n.headers.host){let s=n.hostname;n.port!=null&&(s+=`:${n.port}`),n.headers.host=s}return e(r)},"hostHeaderMiddleware"),fC={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Pz=jl(t=>({applyToStack:jl(e=>{e.add(mC(t),fC)},"applyToStack")}),"getHostHeaderPlugin")});var to=E((c_e,_C)=>{"use strict";var $l=Object.defineProperty,Az=Object.getOwnPropertyDescriptor,Oz=Object.getOwnPropertyNames,Rz=Object.prototype.hasOwnProperty,ah=(t,e)=>$l(t,"name",{value:e,configurable:!0}),Nz=(t,e)=>{for(var r in e)$l(t,r,{get:e[r],enumerable:!0})},kz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Oz(e))!Rz.call(t,i)&&i!==r&&$l(t,i,{get:()=>e[i],enumerable:!(n=Az(e,i))||n.enumerable});return t},Dz=t=>kz($l({},"__esModule",{value:!0}),t),yC={};Nz(yC,{getLoggerPlugin:()=>Mz,loggerMiddleware:()=>gC,loggerMiddlewareOptions:()=>vC});_C.exports=Dz(yC);var gC=ah(()=>(t,e)=>async r=>{try{let n=await t(r),{clientName:i,commandName:s,logger:o,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c,overrideOutputFilterSensitiveLog:l}=a,d=c??e.inputFilterSensitiveLog,m=l??e.outputFilterSensitiveLog,{$metadata:f,...h}=n.output;return o?.info?.({clientName:i,commandName:s,input:d(r.input),output:m(h),metadata:f}),n}catch(n){let{clientName:i,commandName:s,logger:o,dynamoDbDocumentClientOptions:a={}}=e,{overrideInputFilterSensitiveLog:c}=a,l=c??e.inputFilterSensitiveLog;throw o?.error?.({clientName:i,commandName:s,input:l(r.input),error:n,metadata:n.$metadata}),n}},"loggerMiddleware"),vC={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Mz=ah(t=>({applyToStack:ah(e=>{e.add(gC(),vC)},"applyToStack")}),"getLoggerPlugin")});var ro=E((l_e,CC)=>{"use strict";var Ul=Object.defineProperty,Fz=Object.getOwnPropertyDescriptor,jz=Object.getOwnPropertyNames,Lz=Object.prototype.hasOwnProperty,Bl=(t,e)=>Ul(t,"name",{value:e,configurable:!0}),$z=(t,e)=>{for(var r in e)Ul(t,r,{get:e[r],enumerable:!0})},Bz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jz(e))!Lz.call(t,i)&&i!==r&&Ul(t,i,{get:()=>e[i],enumerable:!(n=Fz(e,i))||n.enumerable});return t},Uz=t=>Bz(Ul({},"__esModule",{value:!0}),t),bC={};$z(bC,{addRecursionDetectionMiddlewareOptions:()=>SC,getRecursionDetectionPlugin:()=>Hz,recursionDetectionMiddleware:()=>EC});CC.exports=Uz(bC);var qz=$e(),ch="X-Amzn-Trace-Id",Vz="AWS_LAMBDA_FUNCTION_NAME",Gz="_X_AMZN_TRACE_ID",EC=Bl(t=>e=>async r=>{let{request:n}=r;if(!qz.HttpRequest.isInstance(n)||t.runtime!=="node")return e(r);let i=Object.keys(n.headers??{}).find(c=>c.toLowerCase()===ch.toLowerCase())??ch;if(n.headers.hasOwnProperty(i))return e(r);let s=process.env[Vz],o=process.env[Gz],a=Bl(c=>typeof c=="string"&&c.length>0,"nonEmptyString");return a(s)&&a(o)&&(n.headers[ch]=o),e({...r,request:n})},"recursionDetectionMiddleware"),SC={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Hz=Bl(t=>({applyToStack:Bl(e=>{e.add(EC(t),SC)},"applyToStack")}),"getRecursionDetectionPlugin")});var lh,Kz,xC=T(()=>{lh=P(Tr()),Kz=t=>t[lh.SMITHY_CONTEXT_KEY]||(t[lh.SMITHY_CONTEXT_KEY]={})});var wC,IC=T(()=>{wC=(t,e)=>{if(!e||e.length===0)return t;let r=[];for(let n of e)for(let i of t)i.schemeId.split("#")[1]===n&&r.push(i);for(let n of t)r.find(({schemeId:i})=>i===n.schemeId)||r.push(n);return r}});function zz(t){let e=new Map;for(let r of t)e.set(r.schemeId,r);return e}var p_e,TC,Ea,ql=T(()=>{p_e=P(Tr()),TC=P(Xt());IC();Ea=(t,e)=>(r,n)=>async i=>{let s=t.httpAuthSchemeProvider(await e.httpAuthSchemeParametersProvider(t,n,i.input)),o=t.authSchemePreference?await t.authSchemePreference():[],a=wC(s,o),c=zz(t.httpAuthSchemes),l=(0,TC.getSmithyContext)(n),d=[];for(let m of a){let f=c.get(m.schemeId);if(!f){d.push(`HttpAuthScheme \`${m.schemeId}\` was not enabled for this service.`);continue}let h=f.identityProvider(await e.identityProviderConfigProvider(t));if(!h){d.push(`HttpAuthScheme \`${m.schemeId}\` did not have an IdentityProvider configured.`);continue}let{identityProperties:y={},signingProperties:v={}}=m.propertiesExtractor?.(t,n)||{};m.identityProperties=Object.assign(m.identityProperties||{},y),m.signingProperties=Object.assign(m.signingProperties||{},v),l.selectedHttpAuthScheme={httpAuthOption:m,identity:await h(m.identityProperties),signer:f.signer};break}if(!l.selectedHttpAuthScheme)throw new Error(d.join(`
`));return r(i)}});var PC,Sa,AC=T(()=>{ql();PC={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:"endpointV2Middleware"},Sa=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ea(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),PC)}})});var On=E((v_e,FC)=>{var Vl=Object.defineProperty,Wz=Object.getOwnPropertyDescriptor,Jz=Object.getOwnPropertyNames,Yz=Object.prototype.hasOwnProperty,dh=(t,e)=>Vl(t,"name",{value:e,configurable:!0}),Zz=(t,e)=>{for(var r in e)Vl(t,r,{get:e[r],enumerable:!0})},Qz=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Jz(e))!Yz.call(t,i)&&i!==r&&Vl(t,i,{get:()=>e[i],enumerable:!(n=Wz(e,i))||n.enumerable});return t},Xz=t=>Qz(Vl({},"__esModule",{value:!0}),t),OC={};Zz(OC,{deserializerMiddleware:()=>RC,deserializerMiddlewareOption:()=>kC,getSerdePlugin:()=>MC,serializerMiddleware:()=>NC,serializerMiddlewareOption:()=>DC});FC.exports=Xz(OC);var RC=dh((t,e)=>(r,n)=>async i=>{let{response:s}=await r(i);try{let o=await e(s,t);return{response:s,output:o}}catch(o){if(Object.defineProperty(o,"$response",{value:s}),!("$metadata"in o)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";try{o.message+=`
  `+a}catch{!n.logger||n.logger?.constructor?.name==="NoOpLogger"?console.warn(a):n.logger?.warn?.(a)}typeof o.$responseBodyText<"u"&&o.$response&&(o.$response.body=o.$responseBodyText)}throw o}},"deserializerMiddleware"),NC=dh((t,e)=>(r,n)=>async i=>{let s=n.endpointV2?.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!s)throw new Error("No valid endpoint provider available.");let o=await e(i.input,{...t,endpoint:s});return r({...i,request:o})},"serializerMiddleware"),kC={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},DC={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function MC(t,e,r){return{applyToStack:n=>{n.add(RC(t,r),kC),n.add(NC(t,e),DC)}}}dh(MC,"getSerdePlugin")});var jC,LC,eW,$C=T(()=>{jC=P(On());ql();LC={step:"serialize",tags:["HTTP_AUTH_SCHEME"],name:"httpAuthSchemeMiddleware",override:!0,relation:"before",toMiddleware:jC.serializerMiddlewareOption.name},eW=(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r})=>({applyToStack:n=>{n.addRelativeTo(Ea(t,{httpAuthSchemeParametersProvider:e,identityProviderConfigProvider:r}),LC)}})});var BC=T(()=>{ql();AC();$C()});var UC,w_e,qC,tW,rW,uh,ph=T(()=>{UC=P($e()),w_e=P(Tr()),qC=P(Xt()),tW=t=>e=>{throw e},rW=(t,e)=>{},uh=t=>(e,r)=>async n=>{if(!UC.HttpRequest.isInstance(n.request))return e(n);let s=(0,qC.getSmithyContext)(r).selectedHttpAuthScheme;if(!s)throw new Error("No HttpAuthScheme was selected: unable to sign request");let{httpAuthOption:{signingProperties:o={}},identity:a,signer:c}=s,l=await e({...n,request:await c.sign(n.request,a,o)}).catch((c.errorHandler||tW)(o));return(c.successHandler||rW)(l.response,o),l}});var VC,Ca,GC=T(()=>{ph();VC={step:"finalizeRequest",tags:["HTTP_SIGNING"],name:"httpSigningMiddleware",aliases:["apiKeyMiddleware","tokenMiddleware","awsAuthMiddleware"],override:!0,relation:"after",toMiddleware:"retryMiddleware"},Ca=t=>({applyToStack:e=>{e.addRelativeTo(uh(t),VC)}})});var HC=T(()=>{ph();GC()});var Xn,KC=T(()=>{Xn=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e}});function zC(t,e,r,n,i){return async function*(o,a,...c){let l=a,d=o.startingToken??l[r],m=!0,f;for(;m;){if(l[r]=d,i&&(l[i]=l[i]??o.pageSize),o.client instanceof t)f=await nW(e,o.client,a,o.withCommand,...c);else throw new Error(`Invalid client, expected instance of ${t.name}`);yield f;let h=d;d=iW(f,n),m=!!(d&&(!o.stopOnSameToken||d!==h))}return void 0}}var nW,iW,WC=T(()=>{nW=async(t,e,r,n=s=>s,...i)=>{let s=new t(r);return s=n(s)??s,await e.send(s,...i)};iW=(t,e)=>{let r=t,n=e.split(".");for(let i of n){if(!r||typeof r!="object")return;r=r[i]}return r}});var mh=E((M_e,YC)=>{var Gl=Object.defineProperty,sW=Object.getOwnPropertyDescriptor,oW=Object.getOwnPropertyNames,aW=Object.prototype.hasOwnProperty,cW=(t,e)=>Gl(t,"name",{value:e,configurable:!0}),lW=(t,e)=>{for(var r in e)Gl(t,r,{get:e[r],enumerable:!0})},dW=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of oW(e))!aW.call(t,i)&&i!==r&&Gl(t,i,{get:()=>e[i],enumerable:!(n=sW(e,i))||n.enumerable});return t},uW=t=>dW(Gl({},"__esModule",{value:!0}),t),JC={};lW(JC,{isArrayBuffer:()=>pW});YC.exports=uW(JC);var pW=cW(t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]","isArrayBuffer")});var no=E((F_e,XC)=>{var Hl=Object.defineProperty,mW=Object.getOwnPropertyDescriptor,fW=Object.getOwnPropertyNames,hW=Object.prototype.hasOwnProperty,ZC=(t,e)=>Hl(t,"name",{value:e,configurable:!0}),yW=(t,e)=>{for(var r in e)Hl(t,r,{get:e[r],enumerable:!0})},gW=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of fW(e))!hW.call(t,i)&&i!==r&&Hl(t,i,{get:()=>e[i],enumerable:!(n=mW(e,i))||n.enumerable});return t},vW=t=>gW(Hl({},"__esModule",{value:!0}),t),QC={};yW(QC,{fromArrayBuffer:()=>bW,fromString:()=>EW});XC.exports=vW(QC);var _W=mh(),fh=require("buffer"),bW=ZC((t,e=0,r=t.byteLength-e)=>{if(!(0,_W.isArrayBuffer)(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return fh.Buffer.from(t,e,r)},"fromArrayBuffer"),EW=ZC((t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?fh.Buffer.from(t,e):fh.Buffer.from(t)},"fromString")});var ex=E(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});Kl.fromBase64=void 0;var SW=no(),CW=/^[A-Za-z0-9+/]*={0,2}$/,xW=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!CW.exec(t))throw new TypeError("Invalid base64 string.");let e=(0,SW.fromString)(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};Kl.fromBase64=xW});var jt=E((L_e,ix)=>{var zl=Object.defineProperty,wW=Object.getOwnPropertyDescriptor,IW=Object.getOwnPropertyNames,TW=Object.prototype.hasOwnProperty,hh=(t,e)=>zl(t,"name",{value:e,configurable:!0}),PW=(t,e)=>{for(var r in e)zl(t,r,{get:e[r],enumerable:!0})},AW=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of IW(e))!TW.call(t,i)&&i!==r&&zl(t,i,{get:()=>e[i],enumerable:!(n=wW(e,i))||n.enumerable});return t},OW=t=>AW(zl({},"__esModule",{value:!0}),t),tx={};PW(tx,{fromUtf8:()=>nx,toUint8Array:()=>RW,toUtf8:()=>NW});ix.exports=OW(tx);var rx=no(),nx=hh(t=>{let e=(0,rx.fromString)(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)},"fromUtf8"),RW=hh(t=>typeof t=="string"?nx(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t),"toUint8Array"),NW=hh(t=>{if(typeof t=="string")return t;if(typeof t!="object"||typeof t.byteOffset!="number"||typeof t.byteLength!="number")throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,rx.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength).toString("utf8")},"toUtf8")});var sx=E(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});Wl.toBase64=void 0;var kW=no(),DW=jt(),MW=t=>{let e;if(typeof t=="string"?e=(0,DW.fromUtf8)(t):e=t,typeof e!="object"||typeof e.byteOffset!="number"||typeof e.byteLength!="number")throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,kW.fromArrayBuffer)(e.buffer,e.byteOffset,e.byteLength).toString("base64")};Wl.toBase64=MW});var Pr=E((B_e,Jl)=>{var ox=Object.defineProperty,FW=Object.getOwnPropertyDescriptor,jW=Object.getOwnPropertyNames,LW=Object.prototype.hasOwnProperty,yh=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jW(e))!LW.call(t,i)&&i!==r&&ox(t,i,{get:()=>e[i],enumerable:!(n=FW(e,i))||n.enumerable});return t},ax=(t,e,r)=>(yh(t,e,"default"),r&&yh(r,e,"default")),$W=t=>yh(ox({},"__esModule",{value:!0}),t),gh={};Jl.exports=$W(gh);ax(gh,ex(),Jl.exports);ax(gh,sx(),Jl.exports)});var _h=E(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});Yl.ChecksumStream=void 0;var BW=Pr(),UW=require("stream"),vh=class extends UW.Duplex{constructor({expectedChecksum:e,checksum:r,source:n,checksumSourceLocation:i,base64Encoder:s}){var o,a;if(super(),typeof n.pipe=="function")this.source=n;else throw new Error(`@smithy/util-stream: unsupported source type ${(a=(o=n?.constructor)===null||o===void 0?void 0:o.name)!==null&&a!==void 0?a:n} in ChecksumStream.`);this.base64Encoder=s??BW.toBase64,this.expectedChecksum=e,this.checksum=r,this.checksumSourceLocation=i,this.source.pipe(this)}_read(e){}_write(e,r,n){try{this.checksum.update(e),this.push(e)}catch(i){return n(i)}return n()}async _final(e){try{let r=await this.checksum.digest(),n=this.base64Encoder(r);if(this.expectedChecksum!==n)return e(new Error(`Checksum mismatch: expected "${this.expectedChecksum}" but received "${n}" in response header "${this.checksumSourceLocation}".`))}catch(r){return e(r)}return this.push(null),e()}};Yl.ChecksumStream=vh});var ei=E(io=>{"use strict";Object.defineProperty(io,"__esModule",{value:!0});io.isBlob=io.isReadableStream=void 0;var qW=t=>{var e;return typeof ReadableStream=="function"&&(((e=t?.constructor)===null||e===void 0?void 0:e.name)===ReadableStream.name||t instanceof ReadableStream)};io.isReadableStream=qW;var VW=t=>{var e;return typeof Blob=="function"&&(((e=t?.constructor)===null||e===void 0?void 0:e.name)===Blob.name||t instanceof Blob)};io.isBlob=VW});var cx=E(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});Zl.ChecksumStream=void 0;var GW=typeof ReadableStream=="function"?ReadableStream:function(){},bh=class extends GW{};Zl.ChecksumStream=bh});var lx=E(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});Ql.createChecksumStream=void 0;var HW=Pr(),KW=ei(),zW=cx(),WW=({expectedChecksum:t,checksum:e,source:r,checksumSourceLocation:n,base64Encoder:i})=>{var s,o;if(!(0,KW.isReadableStream)(r))throw new Error(`@smithy/util-stream: unsupported source type ${(o=(s=r?.constructor)===null||s===void 0?void 0:s.name)!==null&&o!==void 0?o:r} in ChecksumStream.`);let a=i??HW.toBase64;if(typeof TransformStream!="function")throw new Error("@smithy/util-stream: unable to instantiate ChecksumStream because API unavailable: ReadableStream/TransformStream.");let c=new TransformStream({start(){},async transform(d,m){e.update(d),m.enqueue(d)},async flush(d){let m=await e.digest(),f=a(m);if(t!==f){let h=new Error(`Checksum mismatch: expected "${t}" but received "${f}" in response header "${n}".`);d.error(h)}else d.terminate()}});r.pipeThrough(c);let l=c.readable;return Object.setPrototypeOf(l,zW.ChecksumStream.prototype),l};Ql.createChecksumStream=WW});var dx=E(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});Xl.createChecksumStream=void 0;var JW=ei(),YW=_h(),ZW=lx();function QW(t){return typeof ReadableStream=="function"&&(0,JW.isReadableStream)(t.source)?(0,ZW.createChecksumStream)(t):new YW.ChecksumStream(t)}Xl.createChecksumStream=QW});var Sh=E(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.ByteArrayCollector=void 0;var Eh=class{constructor(e){this.allocByteArray=e,this.byteLength=0,this.byteArrays=[]}push(e){this.byteArrays.push(e),this.byteLength+=e.byteLength}flush(){if(this.byteArrays.length===1){let n=this.byteArrays[0];return this.reset(),n}let e=this.allocByteArray(this.byteLength),r=0;for(let n=0;n<this.byteArrays.length;++n){let i=this.byteArrays[n];e.set(i,r),r+=i.byteLength}return this.reset(),e}reset(){this.byteArrays=[],this.byteLength=0}};ed.ByteArrayCollector=Eh});var fx=E(Ht=>{"use strict";Object.defineProperty(Ht,"__esModule",{value:!0});Ht.modeOf=Ht.sizeOf=Ht.flush=Ht.merge=Ht.createBufferedReadable=Ht.createBufferedReadableStream=void 0;var XW=Sh();function ux(t,e,r){let n=t.getReader(),i=!1,s=0,o=["",new XW.ByteArrayCollector(l=>new Uint8Array(l))],a=-1,c=async l=>{let{value:d,done:m}=await n.read(),f=d;if(m){if(a!==-1){let h=td(o,a);so(h)>0&&l.enqueue(h)}l.close()}else{let h=mx(f,!1);if(a!==h&&(a>=0&&l.enqueue(td(o,a)),a=h),a===-1){l.enqueue(f);return}let y=so(f);s+=y;let v=so(o[a]);if(y>=e&&v===0)l.enqueue(f);else{let g=px(o,a,f);!i&&s>e*2&&(i=!0,r?.warn(`@smithy/util-stream - stream chunk size ${y} is below threshold of ${e}, automatically buffering.`)),g>=e?l.enqueue(td(o,a)):await c(l)}}};return new ReadableStream({pull:c})}Ht.createBufferedReadableStream=ux;Ht.createBufferedReadable=ux;function px(t,e,r){switch(e){case 0:return t[0]+=r,so(t[0]);case 1:case 2:return t[e].push(r),so(t[e])}}Ht.merge=px;function td(t,e){switch(e){case 0:let r=t[0];return t[0]="",r;case 1:case 2:return t[e].flush()}throw new Error(`@smithy/util-stream - invalid index ${e} given to flush()`)}Ht.flush=td;function so(t){var e,r;return(r=(e=t?.byteLength)!==null&&e!==void 0?e:t?.length)!==null&&r!==void 0?r:0}Ht.sizeOf=so;function mx(t,e=!0){return e&&typeof Buffer<"u"&&t instanceof Buffer?2:t instanceof Uint8Array?1:typeof t=="string"?0:-1}Ht.modeOf=mx});var yx=E(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.createBufferedReadable=void 0;var e3=require("node:stream"),hx=Sh(),Rn=fx(),t3=ei();function r3(t,e,r){if((0,t3.isReadableStream)(t))return(0,Rn.createBufferedReadableStream)(t,e,r);let n=new e3.Readable({read(){}}),i=!1,s=0,o=["",new hx.ByteArrayCollector(c=>new Uint8Array(c)),new hx.ByteArrayCollector(c=>Buffer.from(new Uint8Array(c)))],a=-1;return t.on("data",c=>{let l=(0,Rn.modeOf)(c,!0);if(a!==l&&(a>=0&&n.push((0,Rn.flush)(o,a)),a=l),a===-1){n.push(c);return}let d=(0,Rn.sizeOf)(c);s+=d;let m=(0,Rn.sizeOf)(o[a]);if(d>=e&&m===0)n.push(c);else{let f=(0,Rn.merge)(o,a,c);!i&&s>e*2&&(i=!0,r?.warn(`@smithy/util-stream - stream chunk size ${d} is below threshold of ${e}, automatically buffering.`)),f>=e&&n.push((0,Rn.flush)(o,a))}}),t.on("end",()=>{if(a!==-1){let c=(0,Rn.flush)(o,a);(0,Rn.sizeOf)(c)>0&&n.push(c)}n.push(null)}),n}rd.createBufferedReadable=r3});var gx=E(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.getAwsChunkedEncodingStream=void 0;var n3=require("stream"),i3=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:i,checksumLocationName:s,streamHasher:o}=e,a=r!==void 0&&i!==void 0&&s!==void 0&&o!==void 0,c=a?o(i,t):void 0,l=new n3.Readable({read:()=>{}});return t.on("data",d=>{let m=n(d)||0;l.push(`${m.toString(16)}\r
`),l.push(d),l.push(`\r
`)}),t.on("end",async()=>{if(l.push(`0\r
`),a){let d=r(await c);l.push(`${s}:${d}\r
`),l.push(`\r
`)}l.push(null)}),l};nd.getAwsChunkedEncodingStream=i3});var vx=E(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.headStream=void 0;async function s3(t,e){var r;let n=0,i=[],s=t.getReader(),o=!1;for(;!o;){let{done:l,value:d}=await s.read();if(d&&(i.push(d),n+=(r=d?.byteLength)!==null&&r!==void 0?r:0),n>=e)break;o=l}s.releaseLock();let a=new Uint8Array(Math.min(e,n)),c=0;for(let l of i){if(l.byteLength>a.byteLength-c){a.set(l.subarray(0,a.byteLength-c),c);break}else a.set(l,c);c+=l.length}return a}id.headStream=s3});var _x=E(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.headStream=void 0;var o3=require("stream"),a3=vx(),c3=ei(),l3=(t,e)=>(0,c3.isReadableStream)(t)?(0,a3.headStream)(t,e):new Promise((r,n)=>{let i=new Ch;i.limit=e,t.pipe(i),t.on("error",s=>{i.end(),n(s)}),i.on("error",n),i.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.buffers));r(s)})});sd.headStream=l3;var Ch=class extends o3.Writable{constructor(){super(...arguments),this.buffers=[],this.limit=1/0,this.bytesBuffered=0}_write(e,r,n){var i;if(this.buffers.push(e),this.bytesBuffered+=(i=e.byteLength)!==null&&i!==void 0?i:0,this.bytesBuffered>=this.limit){let s=this.bytesBuffered-this.limit,o=this.buffers[this.buffers.length-1];this.buffers[this.buffers.length-1]=o.subarray(0,o.byteLength-s),this.emit("finish")}n()}}});var wh=E((Q_e,Sx)=>{var od=Object.defineProperty,d3=Object.getOwnPropertyDescriptor,u3=Object.getOwnPropertyNames,p3=Object.prototype.hasOwnProperty,xh=(t,e)=>od(t,"name",{value:e,configurable:!0}),m3=(t,e)=>{for(var r in e)od(t,r,{get:e[r],enumerable:!0})},f3=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of u3(e))!p3.call(t,i)&&i!==r&&od(t,i,{get:()=>e[i],enumerable:!(n=d3(e,i))||n.enumerable});return t},h3=t=>f3(od({},"__esModule",{value:!0}),t),bx={};m3(bx,{escapeUri:()=>Ex,escapeUriPath:()=>g3});Sx.exports=h3(bx);var Ex=xh(t=>encodeURIComponent(t).replace(/[!'()*]/g,y3),"escapeUri"),y3=xh(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`,"hexEncode"),g3=xh(t=>t.split("/").map(Ex).join("/"),"escapeUriPath")});var Th=E((X_e,wx)=>{var ad=Object.defineProperty,v3=Object.getOwnPropertyDescriptor,_3=Object.getOwnPropertyNames,b3=Object.prototype.hasOwnProperty,E3=(t,e)=>ad(t,"name",{value:e,configurable:!0}),S3=(t,e)=>{for(var r in e)ad(t,r,{get:e[r],enumerable:!0})},C3=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of _3(e))!b3.call(t,i)&&i!==r&&ad(t,i,{get:()=>e[i],enumerable:!(n=v3(e,i))||n.enumerable});return t},x3=t=>C3(ad({},"__esModule",{value:!0}),t),Cx={};S3(Cx,{buildQueryString:()=>xx});wx.exports=x3(Cx);var Ih=wh();function xx(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=(0,Ih.escapeUri)(r),Array.isArray(n))for(let i=0,s=n.length;i<s;i++)e.push(`${r}=${(0,Ih.escapeUri)(n[i])}`);else{let i=r;(n||typeof n=="string")&&(i+=`=${(0,Ih.escapeUri)(n)}`),e.push(i)}}return e.join("&")}E3(xx,"buildQueryString")});var ti=E((ebe,Bx)=>{var w3=Object.create,xa=Object.defineProperty,I3=Object.getOwnPropertyDescriptor,T3=Object.getOwnPropertyNames,P3=Object.getPrototypeOf,A3=Object.prototype.hasOwnProperty,Me=(t,e)=>xa(t,"name",{value:e,configurable:!0}),O3=(t,e)=>{for(var r in e)xa(t,r,{get:e[r],enumerable:!0})},Ox=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of T3(e))!A3.call(t,i)&&i!==r&&xa(t,i,{get:()=>e[i],enumerable:!(n=I3(e,i))||n.enumerable});return t},R3=(t,e,r)=>(r=t!=null?w3(P3(t)):{},Ox(e||!t||!t.__esModule?xa(r,"default",{value:t,enumerable:!0}):r,t)),N3=t=>Ox(xa({},"__esModule",{value:!0}),t),Rx={};O3(Rx,{DEFAULT_REQUEST_TIMEOUT:()=>jx,NodeHttp2Handler:()=>q3,NodeHttpHandler:()=>L3,streamCollector:()=>G3});Bx.exports=N3(Rx);var Nx=$e(),kx=Th(),Ph=require("http"),Ah=require("https"),k3=["ECONNRESET","EPIPE","ETIMEDOUT"],Dx=Me(t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e},"getTransformedHeaders"),Kt={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t)},Ix=1e3,D3=Me((t,e,r=0)=>{if(!r)return-1;let n=Me(i=>{let s=Kt.setTimeout(()=>{t.destroy(),e(Object.assign(new Error(`Socket timed out without establishing a connection within ${r} ms`),{name:"TimeoutError"}))},r-i),o=Me(a=>{a?.connecting?a.on("connect",()=>{Kt.clearTimeout(s)}):Kt.clearTimeout(s)},"doWithSocket");t.socket?o(t.socket):t.on("socket",o)},"registerTimeout");return r<2e3?(n(0),0):Kt.setTimeout(n.bind(null,Ix),Ix)},"setConnectionTimeout"),M3=3e3,F3=Me((t,{keepAlive:e,keepAliveMsecs:r},n=M3)=>{if(e!==!0)return-1;let i=Me(()=>{t.socket?t.socket.setKeepAlive(e,r||0):t.on("socket",s=>{s.setKeepAlive(e,r||0)})},"registerListener");return n===0?(i(),0):Kt.setTimeout(i,n)},"setSocketKeepAlive"),Tx=3e3,j3=Me((t,e,r=jx)=>{let n=Me(i=>{let s=r-i,o=Me(()=>{t.destroy(),e(Object.assign(new Error(`Connection timed out after ${r} ms`),{name:"TimeoutError"}))},"onTimeout");t.socket?(t.socket.setTimeout(s,o),t.on("close",()=>t.socket?.removeListener("timeout",o))):t.setTimeout(s,o)},"registerTimeout");return 0<r&&r<6e3?(n(0),0):Kt.setTimeout(n.bind(null,r===0?0:Tx),Tx)},"setSocketTimeout"),Mx=require("stream"),Px=6e3;async function Rh(t,e,r=Px){let n=e.headers??{},i=n.Expect||n.expect,s=-1,o=!0;i==="100-continue"&&(o=await Promise.race([new Promise(a=>{s=Number(Kt.setTimeout(()=>a(!0),Math.max(Px,r)))}),new Promise(a=>{t.on("continue",()=>{Kt.clearTimeout(s),a(!0)}),t.on("response",()=>{Kt.clearTimeout(s),a(!1)}),t.on("error",()=>{Kt.clearTimeout(s),a(!1)})})])),o&&Fx(t,e.body)}Me(Rh,"writeRequestBody");function Fx(t,e){if(e instanceof Mx.Readable){e.pipe(t);return}if(e){if(Buffer.isBuffer(e)||typeof e=="string"){t.end(e);return}let r=e;if(typeof r=="object"&&r.buffer&&typeof r.byteOffset=="number"&&typeof r.byteLength=="number"){t.end(Buffer.from(r.buffer,r.byteOffset,r.byteLength));return}t.end(Buffer.from(e));return}t.end()}Me(Fx,"writeBody");var jx=0,L3=class Oh{constructor(e){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(this.resolveDefaultConfig(i))}).catch(n):r(this.resolveDefaultConfig(e))})}static{Me(this,"NodeHttpHandler")}static create(e){return typeof e?.handle=="function"?e:new Oh(e)}static checkSocketUsage(e,r,n=console){let{sockets:i,requests:s,maxSockets:o}=e;if(typeof o!="number"||o===1/0||Date.now()-15e3<r)return r;if(i&&s)for(let c in i){let l=i[c]?.length??0,d=s[c]?.length??0;if(l>=o&&d>=2*o)return n?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${l} and ${d} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return r}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:i,socketAcquisitionWarningTimeout:s,httpAgent:o,httpsAgent:a}=e||{},c=!0,l=50;return{connectionTimeout:n,requestTimeout:r??i,socketAcquisitionWarningTimeout:s,httpAgent:o instanceof Ph.Agent||typeof o?.destroy=="function"?o:new Ph.Agent({keepAlive:c,maxSockets:l,...o}),httpsAgent:a instanceof Ah.Agent||typeof a?.destroy=="function"?a:new Ah.Agent({keepAlive:c,maxSockets:l,...a}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(e,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,i)=>{let s,o=[],a=Me(async S=>{await s,o.forEach(Kt.clearTimeout),n(S)},"resolve"),c=Me(async S=>{await s,o.forEach(Kt.clearTimeout),i(S)},"reject");if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r?.aborted){let S=new Error("Request aborted");S.name="AbortError",c(S);return}let l=e.protocol==="https:",d=l?this.config.httpsAgent:this.config.httpAgent;o.push(Kt.setTimeout(()=>{this.socketWarningTimestamp=Oh.checkSocketUsage(d,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let m=(0,kx.buildQueryString)(e.query||{}),f;if(e.username!=null||e.password!=null){let S=e.username??"",N=e.password??"";f=`${S}:${N}`}let h=e.path;m&&(h+=`?${m}`),e.fragment&&(h+=`#${e.fragment}`);let y=e.hostname??"";y[0]==="["&&y.endsWith("]")?y=e.hostname.slice(1,-1):y=e.hostname;let v={headers:e.headers,host:y,method:e.method,path:h,port:e.port,agent:d,auth:f},_=(l?Ah.request:Ph.request)(v,S=>{let N=new Nx.HttpResponse({statusCode:S.statusCode||-1,reason:S.statusMessage,headers:Dx(S.headers),body:S});a({response:N})});if(_.on("error",S=>{k3.includes(S.code)?c(Object.assign(S,{name:"TimeoutError"})):c(S)}),r){let S=Me(()=>{_.destroy();let N=new Error("Request aborted");N.name="AbortError",c(N)},"onAbort");if(typeof r.addEventListener=="function"){let N=r;N.addEventListener("abort",S,{once:!0}),_.once("close",()=>N.removeEventListener("abort",S))}else r.onabort=S}o.push(D3(_,c,this.config.connectionTimeout)),o.push(j3(_,c,this.config.requestTimeout));let b=v.agent;typeof b=="object"&&"keepAlive"in b&&o.push(F3(_,{keepAlive:b.keepAlive,keepAliveMsecs:b.keepAliveMsecs})),s=Rh(_,e,this.config.requestTimeout).catch(S=>(o.forEach(Kt.clearTimeout),i(S)))})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}},Ax=require("http2"),$3=R3(require("http2")),B3=class{constructor(t){this.sessions=[],this.sessions=t??[]}static{Me(this,"NodeHttp2ConnectionPool")}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(e=>e!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let e of this.sessions)e===t&&(e.destroyed||e.destroy())}},U3=class{constructor(t){if(this.sessionCache=new Map,this.config=t,this.config.maxConcurrency&&this.config.maxConcurrency<=0)throw new RangeError("maxConcurrency must be greater than zero.")}static{Me(this,"NodeHttp2ConnectionManager")}lease(t,e){let r=this.getUrlString(t),n=this.sessionCache.get(r);if(n){let a=n.poll();if(a&&!this.config.disableConcurrency)return a}let i=$3.default.connect(r);this.config.maxConcurrency&&i.settings({maxConcurrentStreams:this.config.maxConcurrency},a=>{if(a)throw new Error("Fail to set maxConcurrentStreams to "+this.config.maxConcurrency+"when creating new session for "+t.destination.toString())}),i.unref();let s=Me(()=>{i.destroy(),this.deleteSession(r,i)},"destroySessionCb");i.on("goaway",s),i.on("error",s),i.on("frameError",s),i.on("close",()=>this.deleteSession(r,i)),e.requestTimeout&&i.setTimeout(e.requestTimeout,s);let o=this.sessionCache.get(r)||new B3;return o.offerLast(i),this.sessionCache.set(r,o),i}deleteSession(t,e){let r=this.sessionCache.get(t);r&&r.contains(e)&&(r.remove(e),this.sessionCache.set(t,r))}release(t,e){let r=this.getUrlString(t);this.sessionCache.get(r)?.offerLast(e)}destroy(){for(let[t,e]of this.sessionCache){for(let r of e)r.destroyed||r.destroy(),e.remove(r);this.sessionCache.delete(t)}}setMaxConcurrentStreams(t){if(t&&t<=0)throw new RangeError("maxConcurrentStreams must be greater than zero.");this.config.maxConcurrency=t}setDisableConcurrentStreams(t){this.config.disableConcurrency=t}getUrlString(t){return t.destination.toString()}},q3=class Lx{constructor(e){this.metadata={handlerProtocol:"h2"},this.connectionManager=new U3({}),this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(i=>{r(i||{})}).catch(n):r(e||{})})}static{Me(this,"NodeHttp2Handler")}static create(e){return typeof e?.handle=="function"?e:new Lx(e)}destroy(){this.connectionManager.destroy()}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider,this.connectionManager.setDisableConcurrentStreams(this.config.disableConcurrentStreams||!1),this.config.maxConcurrentStreams&&this.connectionManager.setMaxConcurrentStreams(this.config.maxConcurrentStreams));let{requestTimeout:n,disableConcurrentStreams:i}=this.config;return new Promise((s,o)=>{let a=!1,c,l=Me(async O=>{await c,s(O)},"resolve"),d=Me(async O=>{await c,o(O)},"reject");if(r?.aborted){a=!0;let O=new Error("Request aborted");O.name="AbortError",d(O);return}let{hostname:m,method:f,port:h,protocol:y,query:v}=e,g="";if(e.username!=null||e.password!=null){let O=e.username??"",U=e.password??"";g=`${O}:${U}@`}let _=`${y}//${g}${m}${h?`:${h}`:""}`,b={destination:new URL(_)},S=this.connectionManager.lease(b,{requestTimeout:this.config?.sessionTimeout,disableConcurrentStreams:i||!1}),N=Me(O=>{i&&this.destroySession(S),a=!0,d(O)},"rejectWithDestroy"),Q=(0,kx.buildQueryString)(v||{}),D=e.path;Q&&(D+=`?${Q}`),e.fragment&&(D+=`#${e.fragment}`);let C=S.request({...e.headers,[Ax.constants.HTTP2_HEADER_PATH]:D,[Ax.constants.HTTP2_HEADER_METHOD]:f});if(S.ref(),C.on("response",O=>{let U=new Nx.HttpResponse({statusCode:O[":status"]||-1,headers:Dx(O),body:C});a=!0,l({response:U}),i&&(S.close(),this.connectionManager.deleteSession(_,S))}),n&&C.setTimeout(n,()=>{C.close();let O=new Error(`Stream timed out because of no activity for ${n} ms`);O.name="TimeoutError",N(O)}),r){let O=Me(()=>{C.close();let U=new Error("Request aborted");U.name="AbortError",N(U)},"onAbort");if(typeof r.addEventListener=="function"){let U=r;U.addEventListener("abort",O,{once:!0}),C.once("close",()=>U.removeEventListener("abort",O))}else r.onabort=O}C.on("frameError",(O,U,Oe)=>{N(new Error(`Frame type id ${O} in stream id ${Oe} has failed with code ${U}.`))}),C.on("error",N),C.on("aborted",()=>{N(new Error(`HTTP/2 stream is abnormally aborted in mid-communication with result code ${C.rstCode}.`))}),C.on("close",()=>{S.unref(),i&&S.destroy(),a||N(new Error("Unexpected error: http2 request did not get a response"))}),c=Rh(C,e,n)})}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>({...n,[e]:r}))}httpHandlerConfigs(){return this.config??{}}destroySession(e){e.destroyed||e.destroy()}},V3=class extends Mx.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}static{Me(this,"Collector")}_write(t,e,r){this.bufferedBytes.push(t),r()}},G3=Me(t=>H3(t)?$x(t):new Promise((e,r)=>{let n=new V3;t.pipe(n),t.on("error",i=>{n.end(),r(i)}),n.on("error",r),n.on("finish",function(){let i=new Uint8Array(Buffer.concat(this.bufferedBytes));e(i)})}),"streamCollector"),H3=Me(t=>typeof ReadableStream=="function"&&t instanceof ReadableStream,"isReadableStreamInstance");async function $x(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),i+=c.length),n=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s}Me($x,"collectReadableStream")});var Jx=E((ibe,Wx)=>{var ld=Object.defineProperty,K3=Object.getOwnPropertyDescriptor,z3=Object.getOwnPropertyNames,W3=Object.prototype.hasOwnProperty,Qr=(t,e)=>ld(t,"name",{value:e,configurable:!0}),J3=(t,e)=>{for(var r in e)ld(t,r,{get:e[r],enumerable:!0})},Y3=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of z3(e))!W3.call(t,i)&&i!==r&&ld(t,i,{get:()=>e[i],enumerable:!(n=K3(e,i))||n.enumerable});return t},Z3=t=>Y3(ld({},"__esModule",{value:!0}),t),qx={};J3(qx,{FetchHttpHandler:()=>X3,keepAliveSupport:()=>cd,streamCollector:()=>t4});Wx.exports=Z3(qx);var Ux=$e(),Q3=Th();function Nh(t,e){return new Request(t,e)}Qr(Nh,"createRequest");function Vx(t=0){return new Promise((e,r)=>{t&&setTimeout(()=>{let n=new Error(`Request did not complete within ${t} ms`);n.name="TimeoutError",r(n)},t)})}Qr(Vx,"requestTimeout");var cd={supported:void 0},X3=class Gx{static{Qr(this,"FetchHttpHandler")}static create(e){return typeof e?.handle=="function"?e:new Gx(e)}constructor(e){typeof e=="function"?this.configProvider=e().then(r=>r||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),cd.supported===void 0&&(cd.supported=typeof Request<"u"&&"keepalive"in Nh("https://[::1]"))}destroy(){}async handle(e,{abortSignal:r}={}){this.config||(this.config=await this.configProvider);let n=this.config.requestTimeout,i=this.config.keepAlive===!0,s=this.config.credentials;if(r?.aborted){let _=new Error("Request aborted");return _.name="AbortError",Promise.reject(_)}let o=e.path,a=(0,Q3.buildQueryString)(e.query||{});a&&(o+=`?${a}`),e.fragment&&(o+=`#${e.fragment}`);let c="";if(e.username!=null||e.password!=null){let _=e.username??"",b=e.password??"";c=`${_}:${b}@`}let{port:l,method:d}=e,m=`${e.protocol}//${c}${e.hostname}${l?`:${l}`:""}${o}`,f=d==="GET"||d==="HEAD"?void 0:e.body,h={body:f,headers:new Headers(e.headers),method:d,credentials:s};this.config?.cache&&(h.cache=this.config.cache),f&&(h.duplex="half"),typeof AbortController<"u"&&(h.signal=r),cd.supported&&(h.keepalive=i),typeof this.config.requestInit=="function"&&Object.assign(h,this.config.requestInit(e));let y=Qr(()=>{},"removeSignalEventListener"),v=Nh(m,h),g=[fetch(v).then(_=>{let b=_.headers,S={};for(let Q of b.entries())S[Q[0]]=Q[1];return _.body!=null?{response:new Ux.HttpResponse({headers:S,reason:_.statusText,statusCode:_.status,body:_.body})}:_.blob().then(Q=>({response:new Ux.HttpResponse({headers:S,reason:_.statusText,statusCode:_.status,body:Q})}))}),Vx(n)];return r&&g.push(new Promise((_,b)=>{let S=Qr(()=>{let N=new Error("Request aborted");N.name="AbortError",b(N)},"onAbort");if(typeof r.addEventListener=="function"){let N=r;N.addEventListener("abort",S,{once:!0}),y=Qr(()=>N.removeEventListener("abort",S),"removeSignalEventListener")}else r.onabort=S})),Promise.race(g).finally(y)}updateHttpClientConfig(e,r){this.config=void 0,this.configProvider=this.configProvider.then(n=>(n[e]=r,n))}httpHandlerConfigs(){return this.config??{}}},e4=Pr(),t4=Qr(async t=>typeof Blob=="function"&&t instanceof Blob||t.constructor?.name==="Blob"?Blob.prototype.arrayBuffer!==void 0?new Uint8Array(await t.arrayBuffer()):Hx(t):Kx(t),"streamCollector");async function Hx(t){let e=await zx(t),r=(0,e4.fromBase64)(e);return new Uint8Array(r)}Qr(Hx,"collectBlob");async function Kx(t){let e=[],r=t.getReader(),n=!1,i=0;for(;!n;){let{done:a,value:c}=await r.read();c&&(e.push(c),i+=c.length),n=a}let s=new Uint8Array(i),o=0;for(let a of e)s.set(a,o),o+=a.length;return s}Qr(Kx,"collectStream");function zx(t){return new Promise((e,r)=>{let n=new FileReader;n.onloadend=()=>{if(n.readyState!==2)return r(new Error("Reader aborted too early"));let i=n.result??"",s=i.indexOf(","),o=s>-1?s+1:i.length;e(i.substring(o))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(t)})}Qr(zx,"readToBase64")});var Dh=E((sbe,tw)=>{var dd=Object.defineProperty,r4=Object.getOwnPropertyDescriptor,n4=Object.getOwnPropertyNames,i4=Object.prototype.hasOwnProperty,Yx=(t,e)=>dd(t,"name",{value:e,configurable:!0}),s4=(t,e)=>{for(var r in e)dd(t,r,{get:e[r],enumerable:!0})},o4=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of n4(e))!i4.call(t,i)&&i!==r&&dd(t,i,{get:()=>e[i],enumerable:!(n=r4(e,i))||n.enumerable});return t},a4=t=>o4(dd({},"__esModule",{value:!0}),t),Zx={};s4(Zx,{fromHex:()=>Xx,toHex:()=>ew});tw.exports=a4(Zx);var Qx={},kh={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),Qx[t]=e,kh[e]=t}function Xx(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in kh)e[r/2]=kh[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}Yx(Xx,"fromHex");function ew(t){let e="";for(let r=0;r<t.byteLength;r++)e+=Qx[t[r]];return e}Yx(ew,"toHex")});var sw=E(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.sdkStreamMixin=void 0;var c4=Jx(),l4=Pr(),d4=Dh(),u4=jt(),rw=ei(),nw="The stream has already been transformed.",p4=t=>{var e,r;if(!iw(t)&&!(0,rw.isReadableStream)(t)){let o=((r=(e=t?.__proto__)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)||t;throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${o}`)}let n=!1,i=async()=>{if(n)throw new Error(nw);return n=!0,await(0,c4.streamCollector)(t)},s=o=>{if(typeof o.stream!="function")throw new Error(`Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.
If you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body`);return o.stream()};return Object.assign(t,{transformToByteArray:i,transformToString:async o=>{let a=await i();if(o==="base64")return(0,l4.toBase64)(a);if(o==="hex")return(0,d4.toHex)(a);if(o===void 0||o==="utf8"||o==="utf-8")return(0,u4.toUtf8)(a);if(typeof TextDecoder=="function")return new TextDecoder(o).decode(a);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(n)throw new Error(nw);if(n=!0,iw(t))return s(t);if((0,rw.isReadableStream)(t))return t;throw new Error(`Cannot transform payload to web stream, got ${t}`)}})};ud.sdkStreamMixin=p4;var iw=t=>typeof Blob=="function"&&t instanceof Blob});var aw=E(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.sdkStreamMixin=void 0;var m4=ti(),f4=no(),Mh=require("stream"),h4=sw(),ow="The stream has already been transformed.",y4=t=>{var e,r;if(!(t instanceof Mh.Readable))try{return(0,h4.sdkStreamMixin)(t)}catch{let o=((r=(e=t?.__proto__)===null||e===void 0?void 0:e.constructor)===null||r===void 0?void 0:r.name)||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let n=!1,i=async()=>{if(n)throw new Error(ow);return n=!0,await(0,m4.streamCollector)(t)};return Object.assign(t,{transformToByteArray:i,transformToString:async s=>{let o=await i();return s===void 0||Buffer.isEncoding(s)?(0,f4.fromArrayBuffer)(o.buffer,o.byteOffset,o.byteLength).toString(s):new TextDecoder(s).decode(o)},transformToWebStream:()=>{if(n)throw new Error(ow);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Mh.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return n=!0,Mh.Readable.toWeb(t)}})};pd.sdkStreamMixin=y4});var cw=E(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.splitStream=void 0;async function g4(t){return typeof t.stream=="function"&&(t=t.stream()),t.tee()}md.splitStream=g4});var uw=E(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.splitStream=void 0;var lw=require("stream"),v4=cw(),dw=ei();async function _4(t){if((0,dw.isReadableStream)(t)||(0,dw.isBlob)(t))return(0,v4.splitStream)(t);let e=new lw.PassThrough,r=new lw.PassThrough;return t.pipe(e),t.pipe(r),[e,r]}fd.splitStream=_4});var $h=E((dbe,en)=>{var hd=Object.defineProperty,b4=Object.getOwnPropertyDescriptor,E4=Object.getOwnPropertyNames,S4=Object.prototype.hasOwnProperty,Lh=(t,e)=>hd(t,"name",{value:e,configurable:!0}),C4=(t,e)=>{for(var r in e)hd(t,r,{get:e[r],enumerable:!0})},Fh=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of E4(e))!S4.call(t,i)&&i!==r&&hd(t,i,{get:()=>e[i],enumerable:!(n=b4(e,i))||n.enumerable});return t},ri=(t,e,r)=>(Fh(t,e,"default"),r&&Fh(r,e,"default")),x4=t=>Fh(hd({},"__esModule",{value:!0}),t),Xr={};C4(Xr,{Uint8ArrayBlobAdapter:()=>jh});en.exports=x4(Xr);var pw=Pr(),mw=jt();function fw(t,e="utf-8"){return e==="base64"?(0,pw.toBase64)(t):(0,mw.toUtf8)(t)}Lh(fw,"transformToString");function hw(t,e){return e==="base64"?jh.mutate((0,pw.fromBase64)(t)):jh.mutate((0,mw.fromUtf8)(t))}Lh(hw,"transformFromString");var jh=class yw extends Uint8Array{static{Lh(this,"Uint8ArrayBlobAdapter")}static fromString(e,r="utf-8"){switch(typeof e){case"string":return hw(e,r);default:throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}}static mutate(e){return Object.setPrototypeOf(e,yw.prototype),e}transformToString(e="utf-8"){return fw(this,e)}};ri(Xr,_h(),en.exports);ri(Xr,dx(),en.exports);ri(Xr,yx(),en.exports);ri(Xr,gx(),en.exports);ri(Xr,_x(),en.exports);ri(Xr,aw(),en.exports);ri(Xr,uw(),en.exports);ri(Xr,ei(),en.exports)});var yd,w4,gw=T(()=>{yd=P($h()),w4=async(t=new Uint8Array,e)=>{if(t instanceof Uint8Array)return yd.Uint8ArrayBlobAdapter.mutate(t);if(!t)return yd.Uint8ArrayBlobAdapter.mutate(new Uint8Array);let r=e.streamCollector(t);return yd.Uint8ArrayBlobAdapter.mutate(await r)}});function gd(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var Bh=T(()=>{});var Uh,qh=T(()=>{Bh();Uh=(t,e,r,n,i,s)=>{if(e!=null&&e[r]!==void 0){let o=n();if(o.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(i,s?o.split("/").map(a=>gd(a)).join("/"):gd(o))}else throw new Error("No value provided for input HTTP label: "+r+".");return t}});function wa(t,e){return new vd(t,e)}var vw,vd,_w=T(()=>{vw=P($e());qh();vd=class{constructor(e,r){this.input=e,this.context=r,this.query={},this.method="",this.headers={},this.path="",this.body=null,this.hostname="",this.resolvePathStack=[]}async build(){let{hostname:e,protocol:r="https",port:n,path:i}=await this.context.endpoint();this.path=i;for(let s of this.resolvePathStack)s(this.path);return new vw.HttpRequest({protocol:r,hostname:this.hostname||e,port:n,method:this.method,path:this.path,query:this.query,body:this.body,headers:this.headers})}hn(e){return this.hostname=e,this}bp(e){return this.resolvePathStack.push(r=>{this.path=`${r?.endsWith("/")?r.slice(0,-1):r||""}`+e}),this}p(e,r,n,i){return this.resolvePathStack.push(s=>{this.path=Uh(s,this.input,e,r,n,i)}),this}h(e){return this.headers=e,this}q(e){return this.query=e,this}b(e){return this.body=e,this}m(e){return this.method=e,this}}});var bw={};$r(bw,{RequestBuilder:()=>vd,collectBody:()=>w4,extendedEncodeURIComponent:()=>gd,requestBuilder:()=>wa,resolvedPath:()=>Uh});var Vh=T(()=>{gw();Bh();_w();qh()});var Ew=T(()=>{Vh()});function I4(t,e,r){t.__smithy_context?t.__smithy_context.features||(t.__smithy_context.features={}):t.__smithy_context={features:{}},t.__smithy_context.features[e]=r}var Sw=T(()=>{});var cs,Cw=T(()=>{cs=class{constructor(e){this.authSchemes=new Map;for(let[r,n]of Object.entries(e))n!==void 0&&this.authSchemes.set(r,n)}getIdentityProvider(e){return this.authSchemes.get(e)}}});var xw,Gh,Hh,ww=T(()=>{xw=P($e()),Gh=P(Tr()),Hh=class{async sign(e,r,n){if(!n)throw new Error("request could not be signed with `apiKey` since the `name` and `in` signer properties are missing");if(!n.name)throw new Error("request could not be signed with `apiKey` since the `name` signer property is missing");if(!n.in)throw new Error("request could not be signed with `apiKey` since the `in` signer property is missing");if(!r.apiKey)throw new Error("request could not be signed with `apiKey` since the `apiKey` is not defined");let i=xw.HttpRequest.clone(e);if(n.in===Gh.HttpApiKeyAuthLocation.QUERY)i.query[n.name]=r.apiKey;else if(n.in===Gh.HttpApiKeyAuthLocation.HEADER)i.headers[n.name]=n.scheme?`${n.scheme} ${r.apiKey}`:r.apiKey;else throw new Error("request can only be signed with `apiKey` locations `query` or `header`, but found: `"+n.in+"`");return i}}});var Iw,Kh,Tw=T(()=>{Iw=P($e()),Kh=class{async sign(e,r,n){let i=Iw.HttpRequest.clone(e);if(!r.token)throw new Error("request could not be signed with `token` since the `token` is not defined");return i.headers.Authorization=`Bearer ${r.token}`,i}}});var Nn,Pw=T(()=>{Nn=class{async sign(e,r,n){return e}}});var Aw=T(()=>{ww();Tw();Pw()});var Ow,T4,zh,_d,Wh,Rw=T(()=>{Ow=t=>e=>_d(e)&&e.expiration.getTime()-Date.now()<t,T4=3e5,zh=Ow(3e5),_d=t=>t.expiration!==void 0,Wh=(t,e,r)=>{if(t===void 0)return;let n=typeof t!="function"?async()=>Promise.resolve(t):t,i,s,o,a=!1,c=async l=>{s||(s=n(l));try{i=await s,o=!0,a=!1}finally{s=void 0}return i};return e===void 0?async l=>((!o||l?.forceRefresh)&&(i=await c(l)),i):async l=>((!o||l?.forceRefresh)&&(i=await c(l)),a?i:r(i)?(e(i)&&await c(l),i):(a=!0,i))}});var Nw=T(()=>{Cw();Aw();Rw()});var bt={};$r(bt,{DefaultIdentityProviderConfig:()=>cs,EXPIRATION_MS:()=>T4,HttpApiKeyAuthSigner:()=>Hh,HttpBearerAuthSigner:()=>Kh,NoAuthSigner:()=>Nn,createIsIdentityExpiredFunction:()=>Ow,createPaginator:()=>zC,doesIdentityRequireRefresh:()=>_d,getHttpAuthSchemeEndpointRuleSetPlugin:()=>Sa,getHttpAuthSchemePlugin:()=>eW,getHttpSigningPlugin:()=>Ca,getSmithyContext:()=>Kz,httpAuthSchemeEndpointRuleSetMiddlewareOptions:()=>PC,httpAuthSchemeMiddleware:()=>Ea,httpAuthSchemeMiddlewareOptions:()=>LC,httpSigningMiddleware:()=>uh,httpSigningMiddlewareOptions:()=>VC,isIdentityExpired:()=>zh,memoizeIdentityProvider:()=>Wh,normalizeProvider:()=>Xn,requestBuilder:()=>wa,setFeature:()=>I4});var Le=T(()=>{xC();BC();HC();KC();WC();Ew();Sw();Nw()});var ls=E((Hbe,Uw)=>{var bd=Object.defineProperty,P4=Object.getOwnPropertyDescriptor,A4=Object.getOwnPropertyNames,O4=Object.prototype.hasOwnProperty,Ae=(t,e)=>bd(t,"name",{value:e,configurable:!0}),R4=(t,e)=>{for(var r in e)bd(t,r,{get:e[r],enumerable:!0})},N4=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of A4(e))!O4.call(t,i)&&i!==r&&bd(t,i,{get:()=>e[i],enumerable:!(n=P4(e,i))||n.enumerable});return t},k4=t=>N4(bd({},"__esModule",{value:!0}),t),kw={};R4(kw,{EndpointCache:()=>D4,EndpointError:()=>zt,customEndpointFunctions:()=>Yh,isIpAddress:()=>Dw,isValidHostLabel:()=>Qh,resolveEndpoint:()=>X4});Uw.exports=k4(kw);var D4=class{constructor({size:t,params:e}){this.data=new Map,this.parameters=[],this.capacity=t??50,e&&(this.parameters=e)}static{Ae(this,"EndpointCache")}get(t,e){let r=this.hash(t);if(r===!1)return e();if(!this.data.has(r)){if(this.data.size>this.capacity+10){let n=this.data.keys(),i=0;for(;;){let{value:s,done:o}=n.next();if(this.data.delete(s),o||++i>10)break}}this.data.set(r,e())}return this.data.get(r)}size(){return this.data.size}hash(t){let e="",{parameters:r}=this;if(r.length===0)return!1;for(let n of r){let i=String(t[n]??"");if(i.includes("|;"))return!1;e+=i+"|;"}return e}},M4=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),Dw=Ae(t=>M4.test(t)||t.startsWith("[")&&t.endsWith("]"),"isIpAddress"),F4=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),Qh=Ae((t,e=!1)=>{if(!e)return F4.test(t);let r=t.split(".");for(let n of r)if(!Qh(n))return!1;return!0},"isValidHostLabel"),Yh={},Ia="endpoints";function kn(t){return typeof t!="object"||t==null?t:"ref"in t?`$${kn(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(kn).join(", ")})`:JSON.stringify(t,null,2)}Ae(kn,"toDebugString");var zt=class extends Error{static{Ae(this,"EndpointError")}constructor(t){super(t),this.name="EndpointError"}},j4=Ae((t,e)=>t===e,"booleanEquals"),L4=Ae(t=>{let e=t.split("."),r=[];for(let n of e){let i=n.indexOf("[");if(i!==-1){if(n.indexOf("]")!==n.length-1)throw new zt(`Path: '${t}' does not end with ']'`);let s=n.slice(i+1,-1);if(Number.isNaN(parseInt(s)))throw new zt(`Invalid array index: '${s}' in path: '${t}'`);i!==0&&r.push(n.slice(0,i)),r.push(s)}else r.push(n)}return r},"getAttrPathList"),Mw=Ae((t,e)=>L4(e).reduce((r,n)=>{if(typeof r!="object")throw new zt(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t),"getAttr"),$4=Ae(t=>t!=null,"isSet"),B4=Ae(t=>!t,"not"),Zh=Tr(),Jh={[Zh.EndpointURLScheme.HTTP]:80,[Zh.EndpointURLScheme.HTTPS]:443},U4=Ae(t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:f,port:h,protocol:y="",path:v="",query:g={}}=t,_=new URL(`${y}//${f}${h?`:${h}`:""}${v}`);return _.search=Object.entries(g).map(([b,S])=>`${b}=${S}`).join("&"),_}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:i,pathname:s,protocol:o,search:a}=e;if(a)return null;let c=o.slice(0,-1);if(!Object.values(Zh.EndpointURLScheme).includes(c))return null;let l=Dw(i),d=r.includes(`${n}:${Jh[c]}`)||typeof t=="string"&&t.includes(`${n}:${Jh[c]}`),m=`${n}${d?`:${Jh[c]}`:""}`;return{scheme:c,authority:m,path:s,normalizedPath:s.endsWith("/")?s:`${s}/`,isIp:l}},"parseURL"),q4=Ae((t,e)=>t===e,"stringEquals"),V4=Ae((t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r),"substring"),G4=Ae(t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),"uriEncode"),H4={booleanEquals:j4,getAttr:Mw,isSet:$4,isValidHostLabel:Qh,not:B4,parseURL:U4,stringEquals:q4,substring:V4,uriEncode:G4},Fw=Ae((t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},i=0;for(;i<t.length;){let s=t.indexOf("{",i);if(s===-1){r.push(t.slice(i));break}r.push(t.slice(i,s));let o=t.indexOf("}",s);if(o===-1){r.push(t.slice(s));break}t[s+1]==="{"&&t[o+1]==="}"&&(r.push(t.slice(s+1,o)),i=o+2);let a=t.substring(s+1,o);if(a.includes("#")){let[c,l]=a.split("#");r.push(Mw(n[c],l))}else r.push(n[a]);i=o+1}return r.join("")},"evaluateTemplate"),K4=Ae(({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t],"getReferenceValue"),Ed=Ae((t,e,r)=>{if(typeof t=="string")return Fw(t,r);if(t.fn)return jw(t,r);if(t.ref)return K4(t,r);throw new zt(`'${e}': ${String(t)} is not a string, function or reference.`)},"evaluateExpression"),jw=Ae(({fn:t,argv:e},r)=>{let n=e.map(s=>["boolean","number"].includes(typeof s)?s:Ed(s,"arg",r)),i=t.split(".");return i[0]in Yh&&i[1]!=null?Yh[i[0]][i[1]](...n):H4[t](...n)},"callFunction"),z4=Ae(({assign:t,...e},r)=>{if(t&&t in r.referenceRecord)throw new zt(`'${t}' is already defined in Reference Record.`);let n=jw(e,r);return r.logger?.debug?.(`${Ia} evaluateCondition: ${kn(e)} = ${kn(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}},"evaluateCondition"),Xh=Ae((t=[],e)=>{let r={};for(let n of t){let{result:i,toAssign:s}=z4(n,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!i)return{result:i};s&&(r[s.name]=s.value,e.logger?.debug?.(`${Ia} assign: ${s.name} := ${kn(s.value)}`))}return{result:!0,referenceRecord:r}},"evaluateConditions"),W4=Ae((t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:i.map(s=>{let o=Ed(s,"Header value entry",e);if(typeof o!="string")throw new zt(`Header '${n}' value '${o}' is not a string`);return o})}),{}),"getEndpointHeaders"),Lw=Ae((t,e)=>{if(Array.isArray(t))return t.map(r=>Lw(r,e));switch(typeof t){case"string":return Fw(t,e);case"object":if(t===null)throw new zt(`Unexpected endpoint property: ${t}`);return $w(t,e);case"boolean":return t;default:throw new zt(`Unexpected endpoint property type: ${typeof t}`)}},"getEndpointProperty"),$w=Ae((t,e)=>Object.entries(t).reduce((r,[n,i])=>({...r,[n]:Lw(i,e)}),{}),"getEndpointProperties"),J4=Ae((t,e)=>{let r=Ed(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new zt(`Endpoint URL must be a string, got ${typeof r}`)},"getEndpointUrl"),Y4=Ae((t,e)=>{let{conditions:r,endpoint:n}=t,{result:i,referenceRecord:s}=Xh(r,e);if(!i)return;let o={...e,referenceRecord:{...e.referenceRecord,...s}},{url:a,properties:c,headers:l}=n;return e.logger?.debug?.(`${Ia} Resolving endpoint from template: ${kn(n)}`),{...l!=null&&{headers:W4(l,o)},...c!=null&&{properties:$w(c,o)},url:J4(a,o)}},"evaluateEndpointRule"),Z4=Ae((t,e)=>{let{conditions:r,error:n}=t,{result:i,referenceRecord:s}=Xh(r,e);if(i)throw new zt(Ed(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...s}}))},"evaluateErrorRule"),Q4=Ae((t,e)=>{let{conditions:r,rules:n}=t,{result:i,referenceRecord:s}=Xh(r,e);if(i)return Bw(n,{...e,referenceRecord:{...e.referenceRecord,...s}})},"evaluateTreeRule"),Bw=Ae((t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=Y4(r,e);if(n)return n}else if(r.type==="error")Z4(r,e);else if(r.type==="tree"){let n=Q4(r,e);if(n)return n}else throw new zt(`Unknown endpoint rule: ${r}`);throw new zt("Rules evaluation failed")},"evaluateRules"),X4=Ae((t,e)=>{let{endpointParams:r,logger:n}=e,{parameters:i,rules:s}=t;e.logger?.debug?.(`${Ia} Initial EndpointParams: ${kn(r)}`);let o=Object.entries(i).filter(([,l])=>l.default!=null).map(([l,d])=>[l,d.default]);if(o.length>0)for(let[l,d]of o)r[l]=r[l]??d;let a=Object.entries(i).filter(([,l])=>l.required).map(([l])=>l);for(let l of a)if(r[l]==null)throw new zt(`Missing required parameter: '${l}'`);let c=Bw(s,{endpointParams:r,logger:n,referenceRecord:{}});return e.logger?.debug?.(`${Ia} Resolved endpoint: ${kn(c)}`),c},"resolveEndpoint")});var ds=E((Wbe,Zw)=>{"use strict";var Sd=Object.defineProperty,e6=Object.getOwnPropertyDescriptor,t6=Object.getOwnPropertyNames,r6=Object.prototype.hasOwnProperty,oo=(t,e)=>Sd(t,"name",{value:e,configurable:!0}),n6=(t,e)=>{for(var r in e)Sd(t,r,{get:e[r],enumerable:!0})},i6=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of t6(e))!r6.call(t,i)&&i!==r&&Sd(t,i,{get:()=>e[i],enumerable:!(n=e6(e,i))||n.enumerable});return t},s6=t=>i6(Sd({},"__esModule",{value:!0}),t),Vw={};n6(Vw,{ConditionObject:()=>je.ConditionObject,DeprecatedObject:()=>je.DeprecatedObject,EndpointError:()=>je.EndpointError,EndpointObject:()=>je.EndpointObject,EndpointObjectHeaders:()=>je.EndpointObjectHeaders,EndpointObjectProperties:()=>je.EndpointObjectProperties,EndpointParams:()=>je.EndpointParams,EndpointResolverOptions:()=>je.EndpointResolverOptions,EndpointRuleObject:()=>je.EndpointRuleObject,ErrorRuleObject:()=>je.ErrorRuleObject,EvaluateOptions:()=>je.EvaluateOptions,Expression:()=>je.Expression,FunctionArgv:()=>je.FunctionArgv,FunctionObject:()=>je.FunctionObject,FunctionReturn:()=>je.FunctionReturn,ParameterObject:()=>je.ParameterObject,ReferenceObject:()=>je.ReferenceObject,ReferenceRecord:()=>je.ReferenceRecord,RuleSetObject:()=>je.RuleSetObject,RuleSetRules:()=>je.RuleSetRules,TreeRuleObject:()=>je.TreeRuleObject,awsEndpointFunctions:()=>Yw,getUserAgentPrefix:()=>l6,isIpAddress:()=>je.isIpAddress,partition:()=>Ww,resolveEndpoint:()=>je.resolveEndpoint,setPartitionInfo:()=>Jw,useDefaultPartitionInfo:()=>c6});Zw.exports=s6(Vw);var je=ls(),Gw=oo((t,e=!1)=>{if(e){for(let r of t.split("."))if(!Gw(r))return!1;return!0}return!(!(0,je.isValidHostLabel)(t)||t.length<3||t.length>63||t!==t.toLowerCase()||(0,je.isIpAddress)(t))},"isVirtualHostableS3Bucket"),qw=":",o6="/",a6=oo(t=>{let e=t.split(qw);if(e.length<6)return null;let[r,n,i,s,o,...a]=e;if(r!=="arn"||n===""||i===""||a.join(qw)==="")return null;let c=a.map(l=>l.split(o6)).flat();return{partition:n,service:i,region:s,accountId:o,resourceId:c}},"parseArn"),Hw={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-east-1",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af|il|mx)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"ap-southeast-5":{description:"Asia Pacific (Malaysia)"},"ap-southeast-7":{description:"Asia Pacific (Thailand)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"ca-west-1":{description:"Canada West (Calgary)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"il-central-1":{description:"Israel (Tel Aviv)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"mx-central-1":{description:"Mexico (Central)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",implicitGlobalRegion:"cn-northwest-1",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",implicitGlobalRegion:"us-gov-west-1",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",implicitGlobalRegion:"us-iso-east-1",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",implicitGlobalRegion:"us-isob-east-1",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}},{id:"aws-iso-e",outputs:{dnsSuffix:"cloud.adc-e.uk",dualStackDnsSuffix:"cloud.adc-e.uk",implicitGlobalRegion:"eu-isoe-west-1",name:"aws-iso-e",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eu\\-isoe\\-\\w+\\-\\d+$",regions:{"aws-iso-e-global":{description:"AWS ISOE (Europe) global region"},"eu-isoe-west-1":{description:"EU ISOE West"}}},{id:"aws-iso-f",outputs:{dnsSuffix:"csp.hci.ic.gov",dualStackDnsSuffix:"csp.hci.ic.gov",implicitGlobalRegion:"us-isof-south-1",name:"aws-iso-f",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isof\\-\\w+\\-\\d+$",regions:{"aws-iso-f-global":{description:"AWS ISOF global region"},"us-isof-east-1":{description:"US ISOF EAST"},"us-isof-south-1":{description:"US ISOF SOUTH"}}},{id:"aws-eusc",outputs:{dnsSuffix:"amazonaws.eu",dualStackDnsSuffix:"amazonaws.eu",implicitGlobalRegion:"eusc-de-east-1",name:"aws-eusc",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^eusc\\-(de)\\-\\w+\\-\\d+$",regions:{"eusc-de-east-1":{description:"EU (Germany)"}}}],version:"1.1"},Kw=Hw,zw="",Ww=oo(t=>{let{partitions:e}=Kw;for(let n of e){let{regions:i,outputs:s}=n;for(let[o,a]of Object.entries(i))if(o===t)return{...s,...a}}for(let n of e){let{regionRegex:i,outputs:s}=n;if(new RegExp(i).test(t))return{...s}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},"partition"),Jw=oo((t,e="")=>{Kw=t,zw=e},"setPartitionInfo"),c6=oo(()=>{Jw(Hw,"")},"useDefaultPartitionInfo"),l6=oo(()=>zw,"getUserAgentPrefix"),Yw={isVirtualHostableS3Bucket:Gw,parseArn:a6,partition:Ww};je.customEndpointFunctions.aws=Yw});var Cd,ao,Qw=T(()=>{Cd={warningEmitted:!1},ao=t=>{t&&!Cd.warningEmitted&&parseInt(t.substring(1,t.indexOf(".")))<18&&(Cd.warningEmitted=!0,process.emitWarning(`NodeDeprecationWarning: The AWS SDK for JavaScript (v3) will
no longer support Node.js 16.x on January 6, 2025.

To continue receiving updates to AWS services, bug fixes, and security
updates please upgrade to a supported Node.js LTS version.

More information can be found at: https://a.co/74kJMmI`))}});function ni(t,e,r){return t.$source||(t.$source={}),t.$source[e]=r,t}var Xw=T(()=>{});function e0(t,e,r){t.__aws_sdk_context?t.__aws_sdk_context.features||(t.__aws_sdk_context.features={}):t.__aws_sdk_context={features:{}},t.__aws_sdk_context.features[e]=r}var t0=T(()=>{});var ii={};$r(ii,{emitWarningIfUnsupportedVersion:()=>ao,setCredentialFeature:()=>ni,setFeature:()=>e0,state:()=>Cd});var Ar=T(()=>{Qw();Xw();t0()});var r0,ey,n0=T(()=>{r0=P($e()),ey=t=>r0.HttpResponse.isInstance(t)?t.headers?.date??t.headers?.Date:void 0});var co,ty=T(()=>{co=t=>new Date(Date.now()+t)});var i0,s0=T(()=>{ty();i0=(t,e)=>Math.abs(co(e).getTime()-t)>=3e5});var ry,o0=T(()=>{s0();ry=(t,e)=>{let r=Date.parse(t);return i0(r,e)?r-Date.now():e}});var ny=T(()=>{n0();ty();o0()});var a0,Ta,Pa,tr,c0,iy=T(()=>{a0=P($e());ny();Ta=(t,e)=>{if(!e)throw new Error(`Property \`${t}\` is not resolved for AWS SDK SigV4Auth`);return e},Pa=async t=>{let e=Ta("context",t.context),r=Ta("config",t.config),n=e.endpointV2?.properties?.authSchemes?.[0],s=await Ta("signer",r.signer)(n),o=t?.signingRegion,a=t?.signingRegionSet,c=t?.signingName;return{config:r,signer:s,signingRegion:o,signingRegionSet:a,signingName:c}},tr=class{async sign(e,r,n){if(!a0.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let i=await Pa(n),{config:s,signer:o}=i,{signingRegion:a,signingName:c}=i,l=n.context;if(l?.authSchemes?.length??!1){let[m,f]=l.authSchemes;m?.name==="sigv4a"&&f?.name==="sigv4"&&(a=f?.signingRegion??a,c=f?.signingName??c)}return await o.sign(e,{signingDate:co(s.systemClockOffset),signingRegion:a,signingService:c})}errorHandler(e){return r=>{let n=r.ServerTime??ey(r.$response);if(n){let i=Ta("config",e.config),s=i.systemClockOffset;i.systemClockOffset=ry(n,i.systemClockOffset),i.systemClockOffset!==s&&r.$metadata&&(r.$metadata.clockSkewCorrected=!0)}throw r}}successHandler(e,r){let n=ey(e);if(n){let i=Ta("config",r.config);i.systemClockOffset=ry(n,i.systemClockOffset)}}},c0=tr});var l0,xd,d0=T(()=>{l0=P($e());ny();iy();xd=class extends tr{async sign(e,r,n){if(!l0.HttpRequest.isInstance(e))throw new Error("The request is not an instance of `HttpRequest` and cannot be signed");let{config:i,signer:s,signingRegion:o,signingRegionSet:a,signingName:c}=await Pa(n),d=(await i.sigv4aSigningRegionSet?.()??a??[o]).join(",");return await s.sign(e,{signingDate:co(i.systemClockOffset),signingRegion:d,signingService:c})}}});var sy,u0=T(()=>{sy=t=>typeof t=="string"&&t.length>0?t.split(",").map(e=>e.trim()):[]});var p0,m0,Aa,f0=T(()=>{u0();p0="AWS_AUTH_SCHEME_PREFERENCE",m0="auth_scheme_preference",Aa={environmentVariableSelector:t=>{if(p0 in t)return sy(t[p0])},configFileSelector:t=>{if(m0 in t)return sy(t[m0])},default:[]}});var gt=E((_Ee,_0)=>{var wd=Object.defineProperty,d6=Object.getOwnPropertyDescriptor,u6=Object.getOwnPropertyNames,p6=Object.prototype.hasOwnProperty,us=(t,e)=>wd(t,"name",{value:e,configurable:!0}),m6=(t,e)=>{for(var r in e)wd(t,r,{get:e[r],enumerable:!0})},f6=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of u6(e))!p6.call(t,i)&&i!==r&&wd(t,i,{get:()=>e[i],enumerable:!(n=d6(e,i))||n.enumerable});return t},h6=t=>f6(wd({},"__esModule",{value:!0}),t),h0={};m6(h0,{CredentialsProviderError:()=>y6,ProviderError:()=>Id,TokenProviderError:()=>g6,chain:()=>v6,fromStatic:()=>_6,memoize:()=>b6});_0.exports=h6(h0);var Id=class y0 extends Error{constructor(e,r=!0){let n,i=!0;typeof r=="boolean"?(n=void 0,i=r):r!=null&&typeof r=="object"&&(n=r.logger,i=r.tryNextLink??!0),super(e),this.name="ProviderError",this.tryNextLink=i,Object.setPrototypeOf(this,y0.prototype),n?.debug?.(`@smithy/property-provider ${i?"->":"(!)"} ${e}`)}static{us(this,"ProviderError")}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}},y6=class g0 extends Id{constructor(e,r=!0){super(e,r),this.name="CredentialsProviderError",Object.setPrototypeOf(this,g0.prototype)}static{us(this,"CredentialsProviderError")}},g6=class v0 extends Id{constructor(e,r=!0){super(e,r),this.name="TokenProviderError",Object.setPrototypeOf(this,v0.prototype)}static{us(this,"TokenProviderError")}},v6=us((...t)=>async()=>{if(t.length===0)throw new Id("No providers in chain");let e;for(let r of t)try{return await r()}catch(n){if(e=n,n?.tryNextLink)continue;throw n}throw e},"chain"),_6=us(t=>()=>Promise.resolve(t),"fromStatic"),b6=us((t,e,r)=>{let n,i,s,o=!1,a=us(async()=>{i||(i=t());try{n=await i,s=!0,o=!1}finally{i=void 0}return n},"coalesceProvider");return e===void 0?async c=>((!s||c?.forceRefresh)&&(n=await a()),n):async c=>((!s||c?.forceRefresh)&&(n=await a()),o?n:r&&!r(n)?(o=!0,n):(e(n)&&await a(),n))},"memoize")});var oy,E6,S6,b0=T(()=>{Le();oy=P(gt()),E6=t=>(t.sigv4aSigningRegionSet=Xn(t.sigv4aSigningRegionSet),t),S6={environmentVariableSelector(t){if(t.AWS_SIGV4A_SIGNING_REGION_SET)return t.AWS_SIGV4A_SIGNING_REGION_SET.split(",").map(e=>e.trim());throw new oy.ProviderError("AWS_SIGV4A_SIGNING_REGION_SET not set in env.",{tryNextLink:!0})},configFileSelector(t){if(t.sigv4a_signing_region_set)return(t.sigv4a_signing_region_set??"").split(",").map(e=>e.trim());throw new oy.ProviderError("sigv4a_signing_region_set not set in profile.",{tryNextLink:!0})},default:void 0}});var J0=E((SEe,W0)=>{var kd=Object.defineProperty,C6=Object.getOwnPropertyDescriptor,x6=Object.getOwnPropertyNames,w6=Object.prototype.hasOwnProperty,Et=(t,e)=>kd(t,"name",{value:e,configurable:!0}),I6=(t,e)=>{for(var r in e)kd(t,r,{get:e[r],enumerable:!0})},T6=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of x6(e))!w6.call(t,i)&&i!==r&&kd(t,i,{get:()=>e[i],enumerable:!(n=C6(e,i))||n.enumerable});return t},P6=t=>T6(kd({},"__esModule",{value:!0}),t),w0={};I6(w0,{ALGORITHM_IDENTIFIER:()=>Td,ALGORITHM_IDENTIFIER_V4A:()=>N6,ALGORITHM_QUERY_PARAM:()=>I0,ALWAYS_UNSIGNABLE_HEADERS:()=>D0,AMZ_DATE_HEADER:()=>fy,AMZ_DATE_QUERY_PARAM:()=>dy,AUTH_HEADER:()=>my,CREDENTIAL_QUERY_PARAM:()=>T0,DATE_HEADER:()=>O0,EVENT_ALGORITHM_IDENTIFIER:()=>j0,EXPIRES_QUERY_PARAM:()=>A0,GENERATED_HEADERS:()=>R0,HOST_HEADER:()=>O6,KEY_TYPE_IDENTIFIER:()=>hy,MAX_CACHE_SIZE:()=>$0,MAX_PRESIGNED_TTL:()=>B0,PROXY_HEADER_PATTERN:()=>M0,REGION_SET_PARAM:()=>A6,SEC_HEADER_PATTERN:()=>F0,SHA256_HEADER:()=>Nd,SIGNATURE_HEADER:()=>N0,SIGNATURE_QUERY_PARAM:()=>uy,SIGNED_HEADERS_QUERY_PARAM:()=>P0,SignatureV4:()=>V6,SignatureV4Base:()=>z0,TOKEN_HEADER:()=>k0,TOKEN_QUERY_PARAM:()=>py,UNSIGNABLE_PATTERNS:()=>R6,UNSIGNED_PAYLOAD:()=>L0,clearCredentialCache:()=>D6,createScope:()=>Ad,getCanonicalHeaders:()=>ay,getCanonicalQuery:()=>K0,getPayloadHash:()=>Od,getSigningKey:()=>U0,hasHeader:()=>V0,moveHeadersToQuery:()=>H0,prepareRequest:()=>ly,signatureV4aContainer:()=>G6});W0.exports=P6(w0);var E0=jt(),I0="X-Amz-Algorithm",T0="X-Amz-Credential",dy="X-Amz-Date",P0="X-Amz-SignedHeaders",A0="X-Amz-Expires",uy="X-Amz-Signature",py="X-Amz-Security-Token",A6="X-Amz-Region-Set",my="authorization",fy=dy.toLowerCase(),O0="date",R0=[my,fy,O0],N0=uy.toLowerCase(),Nd="x-amz-content-sha256",k0=py.toLowerCase(),O6="host",D0={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},M0=/^proxy-/,F0=/^sec-/,R6=[/^proxy-/i,/^sec-/i],Td="AWS4-HMAC-SHA256",N6="AWS4-ECDSA-P256-SHA256",j0="AWS4-HMAC-SHA256-PAYLOAD",L0="UNSIGNED-PAYLOAD",$0=50,hy="aws4_request",B0=60*60*24*7,si=Dh(),k6=jt(),lo={},Pd=[],Ad=Et((t,e,r)=>`${t}/${e}/${r}/${hy}`,"createScope"),U0=Et(async(t,e,r,n,i)=>{let s=await S0(t,e.secretAccessKey,e.accessKeyId),o=`${r}:${n}:${i}:${(0,si.toHex)(s)}:${e.sessionToken}`;if(o in lo)return lo[o];for(Pd.push(o);Pd.length>$0;)delete lo[Pd.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,i,hy])a=await S0(t,a,c);return lo[o]=a},"getSigningKey"),D6=Et(()=>{Pd.length=0,Object.keys(lo).forEach(t=>{delete lo[t]})},"clearCredentialCache"),S0=Et((t,e,r)=>{let n=new t(e);return n.update((0,k6.toUint8Array)(r)),n.digest()},"hmac"),ay=Et(({headers:t},e,r)=>{let n={};for(let i of Object.keys(t).sort()){if(t[i]==null)continue;let s=i.toLowerCase();(s in D0||e?.has(s)||M0.test(s)||F0.test(s))&&(!r||r&&!r.has(s))||(n[s]=t[i].trim().replace(/\s+/g," "))}return n},"getCanonicalHeaders"),M6=mh(),F6=jt(),Od=Et(async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===Nd)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||(0,M6.isArrayBuffer)(e)){let n=new r;return n.update((0,F6.toUint8Array)(e)),(0,si.toHex)(await n.digest())}return L0},"getPayloadHash"),C0=jt(),j6=class{static{Et(this,"HeaderFormatter")}format(t){let e=[];for(let i of Object.keys(t)){let s=(0,C0.fromUtf8)(i);e.push(Uint8Array.from([s.byteLength]),s,this.formatHeaderValue(t[i]))}let r=new Uint8Array(e.reduce((i,s)=>i+s.byteLength,0)),n=0;for(let i of e)r.set(i,n),n+=i.byteLength;return r}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let e=new DataView(new ArrayBuffer(3));return e.setUint8(0,3),e.setInt16(1,t.value,!1),new Uint8Array(e.buffer);case"integer":let r=new DataView(new ArrayBuffer(5));return r.setUint8(0,4),r.setInt32(1,t.value,!1),new Uint8Array(r.buffer);case"long":let n=new Uint8Array(9);return n[0]=5,n.set(t.value.bytes,1),n;case"binary":let i=new DataView(new ArrayBuffer(3+t.value.byteLength));i.setUint8(0,6),i.setUint16(1,t.value.byteLength,!1);let s=new Uint8Array(i.buffer);return s.set(t.value,3),s;case"string":let o=(0,C0.fromUtf8)(t.value),a=new DataView(new ArrayBuffer(3+o.byteLength));a.setUint8(0,7),a.setUint16(1,o.byteLength,!1);let c=new Uint8Array(a.buffer);return c.set(o,3),c;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set($6.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!L6.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let d=new Uint8Array(17);return d[0]=9,d.set((0,si.fromHex)(t.value.replace(/\-/g,"")),1),d}}},L6=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/,$6=class q0{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static{Et(this,"Int64")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,i=Math.abs(Math.round(e));n>-1&&i>0;n--,i/=256)r[n]=i;return e<0&&cy(r),new q0(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&cy(e),parseInt((0,si.toHex)(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function cy(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}Et(cy,"negate");var V0=Et((t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1},"hasHeader"),G0=$e(),H0=Et((t,e={})=>{let{headers:r,query:n={}}=G0.HttpRequest.clone(t);for(let i of Object.keys(r)){let s=i.toLowerCase();(s.slice(0,6)==="x-amz-"&&!e.unhoistableHeaders?.has(s)||e.hoistableHeaders?.has(s))&&(n[i]=r[i],delete r[i])}return{...t,headers:r,query:n}},"moveHeadersToQuery"),ly=Et(t=>{t=G0.HttpRequest.clone(t);for(let e of Object.keys(t.headers))R0.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t},"prepareRequest"),x0=Xt(),B6=jt(),Rd=wh(),K0=Et(({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t)){if(n.toLowerCase()===N0)continue;let i=(0,Rd.escapeUri)(n);e.push(i);let s=t[n];typeof s=="string"?r[i]=`${i}=${(0,Rd.escapeUri)(s)}`:Array.isArray(s)&&(r[i]=s.slice(0).reduce((o,a)=>o.concat([`${i}=${(0,Rd.escapeUri)(a)}`]),[]).sort().join("&"))}return e.sort().map(n=>r[n]).filter(n=>n).join("&")},"getCanonicalQuery"),U6=Et(t=>q6(t).toISOString().replace(/\.\d{3}Z$/,"Z"),"iso8601"),q6=Et(t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t,"toDate"),z0=class{static{Et(this,"SignatureV4Base")}constructor({applyChecksum:t,credentials:e,region:r,service:n,sha256:i,uriEscapePath:s=!0}){this.service=n,this.sha256=i,this.uriEscapePath=s,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=(0,x0.normalizeProvider)(r),this.credentialProvider=(0,x0.normalizeProvider)(e)}createCanonicalRequest(t,e,r){let n=Object.keys(e).sort();return`${t.method}
${this.getCanonicalPath(t)}
${K0(t)}
${n.map(i=>`${i}:${e[i]}`).join(`
`)}

${n.join(";")}
${r}`}async createStringToSign(t,e,r,n){let i=new this.sha256;i.update((0,B6.toUint8Array)(r));let s=await i.digest();return`${n}
${t}
${e}
${(0,si.toHex)(s)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let e=[];for(let i of t.split("/"))i?.length!==0&&i!=="."&&(i===".."?e.pop():e.push(i));let r=`${t?.startsWith("/")?"/":""}${e.join("/")}${e.length>0&&t?.endsWith("/")?"/":""}`;return(0,Rd.escapeUri)(r).replace(/%2F/g,"/")}return t}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}formatDate(t){let e=U6(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}}getCanonicalHeaderList(t){return Object.keys(t).sort().join(";")}},V6=class extends z0{constructor({applyChecksum:t,credentials:e,region:r,service:n,sha256:i,uriEscapePath:s=!0}){super({applyChecksum:t,credentials:e,region:r,service:n,sha256:i,uriEscapePath:s}),this.headerFormatter=new j6}static{Et(this,"SignatureV4")}async presign(t,e={}){let{signingDate:r=new Date,expiresIn:n=3600,unsignableHeaders:i,unhoistableHeaders:s,signableHeaders:o,hoistableHeaders:a,signingRegion:c,signingService:l}=e,d=await this.credentialProvider();this.validateResolvedCredentials(d);let m=c??await this.regionProvider(),{longDate:f,shortDate:h}=this.formatDate(r);if(n>B0)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=Ad(h,m,l??this.service),v=H0(ly(t),{unhoistableHeaders:s,hoistableHeaders:a});d.sessionToken&&(v.query[py]=d.sessionToken),v.query[I0]=Td,v.query[T0]=`${d.accessKeyId}/${y}`,v.query[dy]=f,v.query[A0]=n.toString(10);let g=ay(v,i,o);return v.query[P0]=this.getCanonicalHeaderList(g),v.query[uy]=await this.getSignature(f,y,this.getSigningKey(d,m,h,l),this.createCanonicalRequest(v,g,await Od(t,this.sha256))),v}async sign(t,e){return typeof t=="string"?this.signString(t,e):t.headers&&t.payload?this.signEvent(t,e):t.message?this.signMessage(t,e):this.signRequest(t,e)}async signEvent({headers:t,payload:e},{signingDate:r=new Date,priorSignature:n,signingRegion:i,signingService:s}){let o=i??await this.regionProvider(),{shortDate:a,longDate:c}=this.formatDate(r),l=Ad(a,o,s??this.service),d=await Od({headers:{},body:e},this.sha256),m=new this.sha256;m.update(t);let f=(0,si.toHex)(await m.digest()),h=[j0,c,l,n,f,d].join(`
`);return this.signString(h,{signingDate:r,signingRegion:o,signingService:s})}async signMessage(t,{signingDate:e=new Date,signingRegion:r,signingService:n}){return this.signEvent({headers:this.headerFormatter.format(t.message.headers),payload:t.message.body},{signingDate:e,signingRegion:r,signingService:n,priorSignature:t.priorSignature}).then(s=>({message:t.message,signature:s}))}async signString(t,{signingDate:e=new Date,signingRegion:r,signingService:n}={}){let i=await this.credentialProvider();this.validateResolvedCredentials(i);let s=r??await this.regionProvider(),{shortDate:o}=this.formatDate(e),a=new this.sha256(await this.getSigningKey(i,s,o,n));return a.update((0,E0.toUint8Array)(t)),(0,si.toHex)(await a.digest())}async signRequest(t,{signingDate:e=new Date,signableHeaders:r,unsignableHeaders:n,signingRegion:i,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let a=i??await this.regionProvider(),c=ly(t),{longDate:l,shortDate:d}=this.formatDate(e),m=Ad(d,a,s??this.service);c.headers[fy]=l,o.sessionToken&&(c.headers[k0]=o.sessionToken);let f=await Od(c,this.sha256);!V0(Nd,c.headers)&&this.applyChecksum&&(c.headers[Nd]=f);let h=ay(c,n,r),y=await this.getSignature(l,m,this.getSigningKey(o,a,d,s),this.createCanonicalRequest(c,h,f));return c.headers[my]=`${Td} Credential=${o.accessKeyId}/${m}, SignedHeaders=${this.getCanonicalHeaderList(h)}, Signature=${y}`,c}async getSignature(t,e,r,n){let i=await this.createStringToSign(t,e,n,Td),s=new this.sha256(await r);return s.update((0,E0.toUint8Array)(i)),(0,si.toHex)(await s.digest())}getSigningKey(t,e,r,n){return U0(this.sha256,t,r,e,n||this.service)}},G6={SignatureV4a:null}});function K6(t,{credentials:e,credentialDefaultProvider:r}){let n;return e?e?.memoized?n=e:n=Wh(e,zh,_d):r?n=Xn(r(Object.assign({},t,{parentClientConfig:t}))):n=async()=>{throw new Error("@aws-sdk/core::resolveAwsSdkSigV4Config - `credentials` not provided and no credentialDefaultProvider was configured.")},n.memoized=!0,n}function z6(t,e){if(e.configBound)return e;let r=async n=>e({...n,callerClientConfig:t});return r.memoized=e.memoized,r.configBound=!0,r}var yy,uo,H6,Y0=T(()=>{Ar();Le();yy=P(J0()),uo=t=>{let e=t.credentials,r=!!t.credentials,n;Object.defineProperty(t,"credentials",{set(l){l&&l!==e&&l!==n&&(r=!0),e=l;let d=K6(t,{credentials:e,credentialDefaultProvider:t.credentialDefaultProvider}),m=z6(t,d);r&&!m.attributed?(n=async f=>m(f).then(h=>ni(h,"CREDENTIALS_CODE","e")),n.memoized=m.memoized,n.configBound=m.configBound,n.attributed=!0):n=m},get(){return n},enumerable:!0,configurable:!0}),t.credentials=e;let{signingEscapePath:i=!0,systemClockOffset:s=t.systemClockOffset||0,sha256:o}=t,a;return t.signer?a=Xn(t.signer):t.regionInfoProvider?a=()=>Xn(t.region)().then(async l=>[await t.regionInfoProvider(l,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},l]).then(([l,d])=>{let{signingRegion:m,signingService:f}=l;t.signingRegion=t.signingRegion||m||d,t.signingName=t.signingName||f||t.serviceId;let h={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:i},y=t.signerConstructor||yy.SignatureV4;return new y(h)}):a=async l=>{l=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await Xn(t.region)(),properties:{}},l);let d=l.signingRegion,m=l.signingName;t.signingRegion=t.signingRegion||d,t.signingName=t.signingName||m||t.serviceId;let f={...t,credentials:t.credentials,region:t.signingRegion,service:t.signingName,sha256:o,uriEscapePath:i},h=t.signerConstructor||yy.SignatureV4;return new h(f)},Object.assign(t,{systemClockOffset:s,signingEscapePath:i,signer:a})},H6=uo});var Z0=T(()=>{iy();d0();f0();b0();Y0()});var Q0=T(()=>{Z0()});var W6,J6,Y6,X0=T(()=>{W6=t=>{if(t==null)return t;if(typeof t=="number"||typeof t=="bigint"){let e=new Error(`Received number ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}if(typeof t=="boolean"){let e=new Error(`Received boolean ${t} where a string was expected.`);return e.name="Warning",console.warn(e),String(t)}return t},J6=t=>{if(t==null)return t;if(typeof t=="string"){let e=t.toLowerCase();if(t!==""&&e!=="false"&&e!=="true"){let r=new Error(`Received string "${t}" where a boolean was expected.`);r.name="Warning",console.warn(r)}return t!==""&&e!=="false"}return t},Y6=t=>{if(t==null)return t;if(typeof t=="string"){let e=Number(t);if(e.toString()!==t){let r=new Error(`Received string "${t}" where a number was expected.`);return r.name="Warning",console.warn(r),t}return e}return t}});var iI=E((LEe,nI)=>{var Dd=Object.defineProperty,Z6=Object.getOwnPropertyDescriptor,Q6=Object.getOwnPropertyNames,X6=Object.prototype.hasOwnProperty,fr=(t,e)=>Dd(t,"name",{value:e,configurable:!0}),e8=(t,e)=>{for(var r in e)Dd(t,r,{get:e[r],enumerable:!0})},t8=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Q6(e))!X6.call(t,i)&&i!==r&&Dd(t,i,{get:()=>e[i],enumerable:!(n=Z6(e,i))||n.enumerable});return t},r8=t=>t8(Dd({},"__esModule",{value:!0}),t),rI={};e8(rI,{constructStack:()=>gy});nI.exports=r8(rI);var ps=fr((t,e)=>{let r=[];if(t&&r.push(t),e)for(let n of e)r.push(n);return r},"getAllAliases"),oi=fr((t,e)=>`${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`,"getMiddlewareNameWithAliases"),gy=fr(()=>{let t=[],e=[],r=!1,n=new Set,i=fr(m=>m.sort((f,h)=>eI[h.step]-eI[f.step]||tI[h.priority||"normal"]-tI[f.priority||"normal"]),"sort"),s=fr(m=>{let f=!1,h=fr(y=>{let v=ps(y.name,y.aliases);if(v.includes(m)){f=!0;for(let g of v)n.delete(g);return!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},"removeByName"),o=fr(m=>{let f=!1,h=fr(y=>{if(y.middleware===m){f=!0;for(let v of ps(y.name,y.aliases))n.delete(v);return!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},"removeByReference"),a=fr(m=>(t.forEach(f=>{m.add(f.middleware,{...f})}),e.forEach(f=>{m.addRelativeTo(f.middleware,{...f})}),m.identifyOnResolve?.(d.identifyOnResolve()),m),"cloneTo"),c=fr(m=>{let f=[];return m.before.forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...c(h))}),f.push(m),m.after.reverse().forEach(h=>{h.before.length===0&&h.after.length===0?f.push(h):f.push(...c(h))}),f},"expandRelativeMiddlewareList"),l=fr((m=!1)=>{let f=[],h=[],y={};return t.forEach(g=>{let _={...g,before:[],after:[]};for(let b of ps(_.name,_.aliases))y[b]=_;f.push(_)}),e.forEach(g=>{let _={...g,before:[],after:[]};for(let b of ps(_.name,_.aliases))y[b]=_;h.push(_)}),h.forEach(g=>{if(g.toMiddleware){let _=y[g.toMiddleware];if(_===void 0){if(m)return;throw new Error(`${g.toMiddleware} is not found when adding ${oi(g.name,g.aliases)} middleware ${g.relation} ${g.toMiddleware}`)}g.relation==="after"&&_.after.push(g),g.relation==="before"&&_.before.push(g)}}),i(f).map(c).reduce((g,_)=>(g.push(..._),g),[])},"getMiddlewareList"),d={add:(m,f={})=>{let{name:h,override:y,aliases:v}=f,g={step:"initialize",priority:"normal",middleware:m,...f},_=ps(h,v);if(_.length>0){if(_.some(b=>n.has(b))){if(!y)throw new Error(`Duplicate middleware name '${oi(h,v)}'`);for(let b of _){let S=t.findIndex(Q=>Q.name===b||Q.aliases?.some(D=>D===b));if(S===-1)continue;let N=t[S];if(N.step!==g.step||g.priority!==N.priority)throw new Error(`"${oi(N.name,N.aliases)}" middleware with ${N.priority} priority in ${N.step} step cannot be overridden by "${oi(h,v)}" middleware with ${g.priority} priority in ${g.step} step.`);t.splice(S,1)}}for(let b of _)n.add(b)}t.push(g)},addRelativeTo:(m,f)=>{let{name:h,override:y,aliases:v}=f,g={middleware:m,...f},_=ps(h,v);if(_.length>0){if(_.some(b=>n.has(b))){if(!y)throw new Error(`Duplicate middleware name '${oi(h,v)}'`);for(let b of _){let S=e.findIndex(Q=>Q.name===b||Q.aliases?.some(D=>D===b));if(S===-1)continue;let N=e[S];if(N.toMiddleware!==g.toMiddleware||N.relation!==g.relation)throw new Error(`"${oi(N.name,N.aliases)}" middleware ${N.relation} "${N.toMiddleware}" middleware cannot be overridden by "${oi(h,v)}" middleware ${g.relation} "${g.toMiddleware}" middleware.`);e.splice(S,1)}}for(let b of _)n.add(b)}e.push(g)},clone:()=>a(gy()),use:m=>{m.applyToStack(d)},remove:m=>typeof m=="string"?s(m):o(m),removeByTag:m=>{let f=!1,h=fr(y=>{let{tags:v,name:g,aliases:_}=y;if(v&&v.includes(m)){let b=ps(g,_);for(let S of b)n.delete(S);return f=!0,!1}return!0},"filterCb");return t=t.filter(h),e=e.filter(h),f},concat:m=>{let f=a(gy());return f.use(m),f.identifyOnResolve(r||f.identifyOnResolve()||(m.identifyOnResolve?.()??!1)),f},applyToStack:a,identify:()=>l(!0).map(m=>{let f=m.step??m.relation+" "+m.toMiddleware;return oi(m.name,m.aliases)+" - "+f}),identifyOnResolve(m){return typeof m=="boolean"&&(r=m),r},resolve:(m,f)=>{for(let h of l().map(y=>y.middleware).reverse())m=h(m,f);return r&&console.log(d.identify()),m}};return d},"constructStack"),eI={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},tI={high:3,normal:2,low:1}});var me=E(($Ee,SI)=>{var jd=Object.defineProperty,n8=Object.getOwnPropertyDescriptor,i8=Object.getOwnPropertyNames,s8=Object.prototype.hasOwnProperty,M=(t,e)=>jd(t,"name",{value:e,configurable:!0}),o8=(t,e)=>{for(var r in e)jd(t,r,{get:e[r],enumerable:!0})},a8=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of i8(e))!s8.call(t,i)&&i!==r&&jd(t,i,{get:()=>e[i],enumerable:!(n=n8(e,i))||n.enumerable});return t},c8=t=>a8(jd({},"__esModule",{value:!0}),t),oI={};o8(oI,{Client:()=>l8,Command:()=>cI,LazyJsonString:()=>ms,NoOpLogger:()=>s9,SENSITIVE_STRING:()=>u8,ServiceException:()=>K8,_json:()=>xy,collectBody:()=>vy.collectBody,convertMap:()=>o9,createAggregatedClient:()=>p8,dateToUtcString:()=>fI,decorateServiceException:()=>hI,emitWarningIfUnsupportedVersion:()=>Y8,expectBoolean:()=>f8,expectByte:()=>Cy,expectFloat32:()=>Md,expectInt:()=>y8,expectInt32:()=>Ey,expectLong:()=>ka,expectNonNull:()=>v8,expectNumber:()=>Na,expectObject:()=>lI,expectShort:()=>Sy,expectString:()=>_8,expectUnion:()=>b8,extendedEncodeURIComponent:()=>vy.extendedEncodeURIComponent,getArrayIfSingleItem:()=>n9,getDefaultClientConfiguration:()=>t9,getDefaultExtensionConfiguration:()=>gI,getValueFromTextNode:()=>vI,handleFloat:()=>C8,isSerializableHeaderValue:()=>i9,limitedParseDouble:()=>Ty,limitedParseFloat:()=>x8,limitedParseFloat32:()=>w8,loadConfigsForDefaultMode:()=>J8,logger:()=>Da,map:()=>Ay,parseBoolean:()=>m8,parseEpochTimestamp:()=>j8,parseRfc3339DateTime:()=>O8,parseRfc3339DateTimeWithOffset:()=>N8,parseRfc7231DateTime:()=>F8,quoteHeader:()=>bI,resolveDefaultRuntimeConfig:()=>r9,resolvedPath:()=>vy.resolvedPath,serializeDateTime:()=>p9,serializeFloat:()=>u9,splitEvery:()=>EI,splitHeader:()=>m9,strictParseByte:()=>mI,strictParseDouble:()=>Iy,strictParseFloat:()=>E8,strictParseFloat32:()=>dI,strictParseInt:()=>I8,strictParseInt32:()=>T8,strictParseLong:()=>pI,strictParseShort:()=>po,take:()=>a9,throwDefaultError:()=>yI,withBaseException:()=>z8});SI.exports=c8(oI);var aI=iI(),l8=class{constructor(t){this.config=t,this.middlewareStack=(0,aI.constructStack)()}static{M(this,"Client")}send(t,e,r){let n=typeof e!="function"?e:void 0,i=typeof e=="function"?e:r,s=n===void 0&&this.config.cacheMiddleware===!0,o;if(s){this.handlers||(this.handlers=new WeakMap);let a=this.handlers;a.has(t.constructor)?o=a.get(t.constructor):(o=t.resolveMiddleware(this.middlewareStack,this.config,n),a.set(t.constructor,o))}else delete this.handlers,o=t.resolveMiddleware(this.middlewareStack,this.config,n);if(i)o(t).then(a=>i(null,a.output),a=>i(a)).catch(()=>{});else return o(t).then(a=>a.output)}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}},vy=(Vh(),X(bw)),by=Tr(),cI=class{constructor(){this.middlewareStack=(0,aI.constructStack)()}static{M(this,"Command")}static classBuilder(){return new d8}resolveMiddlewareWithContext(t,e,r,{middlewareFn:n,clientName:i,commandName:s,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:l,CommandCtor:d}){for(let v of n.bind(this)(d,t,e,r))this.middlewareStack.use(v);let m=t.concat(this.middlewareStack),{logger:f}=e,h={logger:f,clientName:i,commandName:s,inputFilterSensitiveLog:o,outputFilterSensitiveLog:a,[by.SMITHY_CONTEXT_KEY]:{commandInstance:this,...c},...l},{requestHandler:y}=e;return m.resolve(v=>y.handle(v.request,r||{}),h)}},d8=class{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=t=>t,this._outputFilterSensitiveLog=t=>t,this._serializer=null,this._deserializer=null}static{M(this,"ClassBuilder")}init(t){this._init=t}ep(t){return this._ep=t,this}m(t){return this._middlewareFn=t,this}s(t,e,r={}){return this._smithyContext={service:t,operation:e,...r},this}c(t={}){return this._additionalContext=t,this}n(t,e){return this._clientName=t,this._commandName=e,this}f(t=r=>r,e=r=>r){return this._inputFilterSensitiveLog=t,this._outputFilterSensitiveLog=e,this}ser(t){return this._serializer=t,this}de(t){return this._deserializer=t,this}build(){let t=this,e;return e=class extends cI{constructor(...[r]){super(),this.serialize=t._serializer,this.deserialize=t._deserializer,this.input=r??{},t._init(this)}static{M(this,"CommandRef")}static getEndpointParameterInstructions(){return t._ep}resolveMiddleware(r,n,i){return this.resolveMiddlewareWithContext(r,n,i,{CommandCtor:e,middlewareFn:t._middlewareFn,clientName:t._clientName,commandName:t._commandName,inputFilterSensitiveLog:t._inputFilterSensitiveLog,outputFilterSensitiveLog:t._outputFilterSensitiveLog,smithyContext:t._smithyContext,additionalContext:t._additionalContext})}}}},u8="***SensitiveInformation***",p8=M((t,e)=>{for(let r of Object.keys(t)){let n=t[r],i=M(async function(o,a,c){let l=new n(o);if(typeof a=="function")this.send(l,a);else if(typeof c=="function"){if(typeof a!="object")throw new Error(`Expected http options but got ${typeof a}`);this.send(l,a||{},c)}else return this.send(l,a)},"methodImpl"),s=(r[0].toLowerCase()+r.slice(1)).replace(/Command$/,"");e.prototype[s]=i}},"createAggregatedClient"),m8=M(t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}},"parseBoolean"),f8=M(t=>{if(t!=null){if(typeof t=="number"){if((t===0||t===1)&&Da.warn(Fd(`Expected boolean, got ${typeof t}: ${t}`)),t===0)return!1;if(t===1)return!0}if(typeof t=="string"){let e=t.toLowerCase();if((e==="false"||e==="true")&&Da.warn(Fd(`Expected boolean, got ${typeof t}: ${t}`)),e==="false")return!1;if(e==="true")return!0}if(typeof t=="boolean")return t;throw new TypeError(`Expected boolean, got ${typeof t}: ${t}`)}},"expectBoolean"),Na=M(t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&Da.warn(Fd(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},"expectNumber"),h8=Math.ceil(2**127*(2-2**-23)),Md=M(t=>{let e=Na(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>h8)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},"expectFloat32"),ka=M(t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}},"expectLong"),y8=ka,Ey=M(t=>wy(t,32),"expectInt32"),Sy=M(t=>wy(t,16),"expectShort"),Cy=M(t=>wy(t,8),"expectByte"),wy=M((t,e)=>{let r=ka(t);if(r!==void 0&&g8(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},"expectSizedInt"),g8=M((t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},"castInt"),v8=M((t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},"expectNonNull"),lI=M(t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},"expectObject"),_8=M(t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return Da.warn(Fd(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}},"expectString"),b8=M(t=>{if(t==null)return;let e=lI(t),r=Object.entries(e).filter(([,n])=>n!=null).map(([n])=>n);if(r.length===0)throw new TypeError("Unions must have exactly one non-null member. None were found.");if(r.length>1)throw new TypeError(`Unions must have exactly one non-null member. Keys ${r} were not null.`);return e},"expectUnion"),Iy=M(t=>Na(typeof t=="string"?fo(t):t),"strictParseDouble"),E8=Iy,dI=M(t=>Md(typeof t=="string"?fo(t):t),"strictParseFloat32"),S8=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,fo=M(t=>{let e=t.match(S8);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)},"parseNumber"),Ty=M(t=>typeof t=="string"?uI(t):Na(t),"limitedParseDouble"),C8=Ty,x8=Ty,w8=M(t=>typeof t=="string"?uI(t):Md(t),"limitedParseFloat32"),uI=M(t=>{switch(t){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error(`Unable to parse float value: ${t}`)}},"parseFloatString"),pI=M(t=>ka(typeof t=="string"?fo(t):t),"strictParseLong"),I8=pI,T8=M(t=>Ey(typeof t=="string"?fo(t):t),"strictParseInt32"),po=M(t=>Sy(typeof t=="string"?fo(t):t),"strictParseShort"),mI=M(t=>Cy(typeof t=="string"?fo(t):t),"strictParseByte"),Fd=M(t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),"stackTraceWarning"),Da={warn:console.warn},P8=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Py=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function fI(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),i=t.getUTCDate(),s=t.getUTCHours(),o=t.getUTCMinutes(),a=t.getUTCSeconds(),c=i<10?`0${i}`:`${i}`,l=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,m=a<10?`0${a}`:`${a}`;return`${P8[n]}, ${c} ${Py[r]} ${e} ${l}:${d}:${m} GMT`}M(fI,"dateToUtcString");var A8=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),O8=M(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=A8.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,s,o,a,c,l]=e,d=po(mo(n)),m=tn(i,"month",1,12),f=tn(s,"day",1,31);return Ra(d,m,f,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})},"parseRfc3339DateTime"),R8=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),N8=M(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=R8.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,i,s,o,a,c,l,d]=e,m=po(mo(n)),f=tn(i,"month",1,12),h=tn(s,"day",1,31),y=Ra(m,f,h,{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l});return d.toUpperCase()!="Z"&&y.setTime(y.getTime()-H8(d)),y},"parseRfc3339DateTimeWithOffset"),k8=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),D8=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),M8=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),F8=M(t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=k8.exec(t);if(e){let[r,n,i,s,o,a,c,l]=e;return Ra(po(mo(s)),_y(i),tn(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l})}if(e=D8.exec(t),e){let[r,n,i,s,o,a,c,l]=e;return B8(Ra(L8(s),_y(i),tn(n,"day",1,31),{hours:o,minutes:a,seconds:c,fractionalMilliseconds:l}))}if(e=M8.exec(t),e){let[r,n,i,s,o,a,c,l]=e;return Ra(po(mo(l)),_y(n),tn(i.trimLeft(),"day",1,31),{hours:s,minutes:o,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")},"parseRfc7231DateTime"),j8=M(t=>{if(t==null)return;let e;if(typeof t=="number")e=t;else if(typeof t=="string")e=Iy(t);else if(typeof t=="object"&&t.tag===1)e=t.value;else throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(e)||e===1/0||e===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(e*1e3))},"parseEpochTimestamp"),Ra=M((t,e,r,n)=>{let i=e-1;return q8(t,i,r),new Date(Date.UTC(t,i,r,tn(n.hours,"hour",0,23),tn(n.minutes,"minute",0,59),tn(n.seconds,"seconds",0,60),G8(n.fractionalMilliseconds)))},"buildDate"),L8=M(t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+po(mo(t));return r<e?r+100:r},"parseTwoDigitYear"),$8=50*365*24*60*60*1e3,B8=M(t=>t.getTime()-new Date().getTime()>$8?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,"adjustRfc850Year"),_y=M(t=>{let e=Py.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},"parseMonthByShortName"),U8=[31,28,31,30,31,30,31,31,30,31,30,31],q8=M((t,e,r)=>{let n=U8[e];if(e===1&&V8(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Py[e]} in ${t}: ${r}`)},"validateDayOfMonth"),V8=M(t=>t%4===0&&(t%100!==0||t%400===0),"isLeapYear"),tn=M((t,e,r,n)=>{let i=mI(mo(t));if(i<r||i>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return i},"parseDateValue"),G8=M(t=>t==null?0:dI("0."+t)*1e3,"parseMilliseconds"),H8=M(t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),i=Number(t.substring(4,6));return r*(n*60+i)*60*1e3},"parseOffsetToMilliseconds"),mo=M(t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)},"stripLeadingZeroes"),K8=class Oa extends Error{static{M(this,"ServiceException")}constructor(e){super(e.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}static isInstance(e){if(!e)return!1;let r=e;return Oa.prototype.isPrototypeOf(r)||!!r.$fault&&!!r.$metadata&&(r.$fault==="client"||r.$fault==="server")}static[Symbol.hasInstance](e){if(!e)return!1;let r=e;return this===Oa?Oa.isInstance(e):Oa.isInstance(e)?r.name&&this.name?this.prototype.isPrototypeOf(e)||r.name===this.name:this.prototype.isPrototypeOf(e):!1}},hI=M((t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,i])=>{(t[n]==null||t[n]==="")&&(t[n]=i)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t},"decorateServiceException"),yI=M(({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let i=W8(t),s=i.httpStatusCode?i.httpStatusCode+"":void 0,o=new r({name:e?.code||e?.Code||n||s||"UnknownError",$fault:"client",$metadata:i});throw hI(o,e)},"throwDefaultError"),z8=M(t=>({output:e,parsedBody:r,errorCode:n})=>{yI({output:e,parsedBody:r,exceptionCtor:t,errorCode:n})},"withBaseException"),W8=M(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),J8=M(t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},"loadConfigsForDefaultMode"),sI=!1,Y8=M(t=>{t&&!sI&&parseInt(t.substring(1,t.indexOf(".")))<16&&(sI=!0)},"emitWarningIfUnsupportedVersion"),Z8=M(t=>{let e=[];for(let r in by.AlgorithmId){let n=by.AlgorithmId[r];t[n]!==void 0&&e.push({algorithmId:()=>n,checksumConstructor:()=>t[n]})}return{addChecksumAlgorithm(r){e.push(r)},checksumAlgorithms(){return e}}},"getChecksumConfiguration"),Q8=M(t=>{let e={};return t.checksumAlgorithms().forEach(r=>{e[r.algorithmId()]=r.checksumConstructor()}),e},"resolveChecksumRuntimeConfig"),X8=M(t=>({setRetryStrategy(e){t.retryStrategy=e},retryStrategy(){return t.retryStrategy}}),"getRetryConfiguration"),e9=M(t=>{let e={};return e.retryStrategy=t.retryStrategy(),e},"resolveRetryRuntimeConfig"),gI=M(t=>Object.assign(Z8(t),X8(t)),"getDefaultExtensionConfiguration"),t9=gI,r9=M(t=>Object.assign(Q8(t),e9(t)),"resolveDefaultRuntimeConfig"),n9=M(t=>Array.isArray(t)?t:[t],"getArrayIfSingleItem"),vI=M(t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=vI(t[r]));return t},"getValueFromTextNode"),i9=M(t=>t!=null,"isSerializableHeaderValue"),ms=M(function(e){return Object.assign(new String(e),{deserializeJSON(){return JSON.parse(String(e))},toString(){return String(e)},toJSON(){return String(e)}})},"LazyJsonString");ms.from=t=>t&&typeof t=="object"&&(t instanceof ms||"deserializeJSON"in t)?t:typeof t=="string"||Object.getPrototypeOf(t)===String.prototype?ms(String(t)):ms(JSON.stringify(t));ms.fromObject=ms.from;var s9=class{static{M(this,"NoOpLogger")}trace(){}debug(){}info(){}warn(){}error(){}};function Ay(t,e,r){let n,i,s;if(typeof e>"u"&&typeof r>"u")n={},s=t;else{if(n=t,typeof e=="function")return i=e,s=r,c9(n,i,s);s=e}for(let o of Object.keys(s)){if(!Array.isArray(s[o])){n[o]=s[o];continue}_I(n,null,s,o)}return n}M(Ay,"map");var o9=M(t=>{let e={};for(let[r,n]of Object.entries(t||{}))e[r]=[,n];return e},"convertMap"),a9=M((t,e)=>{let r={};for(let n in e)_I(r,t,e,n);return r},"take"),c9=M((t,e,r)=>Ay(t,Object.entries(r).reduce((n,[i,s])=>(Array.isArray(s)?n[i]=s:typeof s=="function"?n[i]=[e,s()]:n[i]=[e,s],n),{})),"mapWithFilter"),_I=M((t,e,r,n)=>{if(e!==null){let o=r[n];typeof o=="function"&&(o=[,o]);let[a=l9,c=d9,l=n]=o;(typeof a=="function"&&a(e[l])||typeof a!="function"&&a)&&(t[n]=c(e[l]));return}let[i,s]=r[n];if(typeof s=="function"){let o,a=i===void 0&&(o=s())!=null,c=typeof i=="function"&&!!i(void 0)||typeof i!="function"&&!!i;a?t[n]=o:c&&(t[n]=s())}else{let o=i===void 0&&s!=null,a=typeof i=="function"&&!!i(s)||typeof i!="function"&&!!i;(o||a)&&(t[n]=s)}},"applyInstruction"),l9=M(t=>t!=null,"nonNullish"),d9=M(t=>t,"pass");function bI(t){return(t.includes(",")||t.includes('"'))&&(t=`"${t.replace(/"/g,'\\"')}"`),t}M(bI,"quoteHeader");var u9=M(t=>{if(t!==t)return"NaN";switch(t){case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return t}},"serializeFloat"),p9=M(t=>t.toISOString().replace(".000Z","Z"),"serializeDateTime"),xy=M(t=>{if(t==null)return{};if(Array.isArray(t))return t.filter(e=>e!=null).map(xy);if(typeof t=="object"){let e={};for(let r of Object.keys(t))t[r]!=null&&(e[r]=xy(t[r]));return e}return t},"_json");function EI(t,e,r){if(r<=0||!Number.isInteger(r))throw new Error("Invalid number of delimiters ("+r+") for splitEvery.");let n=t.split(e);if(r===1)return n;let i=[],s="";for(let o=0;o<n.length;o++)s===""?s=n[o]:s+=e+n[o],(o+1)%r===0&&(i.push(s),s="");return s!==""&&i.push(s),i}M(EI,"splitEvery");var m9=M(t=>{let e=t.length,r=[],n=!1,i,s=0;for(let o=0;o<e;++o){let a=t[o];switch(a){case'"':i!=="\\"&&(n=!n);break;case",":n||(r.push(t.slice(s,o)),s=o+1);break;default:}i=a}return r.push(t.slice(s)),r.map(o=>{o=o.trim();let a=o.length;return a<2?o:(o[0]==='"'&&o[a-1]==='"'&&(o=o.slice(1,a-1)),o.replace(/\\"/g,'"'))})},"splitHeader")});var CI,f9,xI=T(()=>{CI=P(me()),f9=t=>{if(t!=null)return typeof t=="object"&&"__type"in t&&delete t.__type,(0,CI.expectUnion)(t)}});var wI,Ld,Oy=T(()=>{wI=P(me()),Ld=(t,e)=>(0,wI.collectBody)(t,e).then(r=>e.utf8Encoder(r))});var $d,Ry,Ny,II=T(()=>{Oy();$d=(t,e)=>Ld(t,e).then(r=>{if(r.length)try{return JSON.parse(r)}catch(n){throw n?.name==="SyntaxError"&&Object.defineProperty(n,"$responseBodyText",{value:r}),n}return{}}),Ry=async(t,e)=>{let r=await $d(t,e);return r.message=r.message??r.Message,r},Ny=(t,e)=>{let r=(s,o)=>Object.keys(s).find(a=>a.toLowerCase()===o.toLowerCase()),n=s=>{let o=s;return typeof o=="number"&&(o=o.toString()),o.indexOf(",")>=0&&(o=o.split(",")[0]),o.indexOf(":")>=0&&(o=o.split(":")[0]),o.indexOf("#")>=0&&(o=o.split("#")[1]),o},i=r(t.headers,"x-amzn-errortype");if(i!==void 0)return n(t.headers[i]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)}});var Bd=E(Dn=>{"use strict";var TI=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",h9=TI+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",PI="["+TI+"]["+h9+"]*",y9=new RegExp("^"+PI+"$"),g9=function(t,e){let r=[],n=e.exec(t);for(;n;){let i=[];i.startIndex=e.lastIndex-n[0].length;let s=n.length;for(let o=0;o<s;o++)i.push(n[o]);r.push(i),n=e.exec(t)}return r},v9=function(t){let e=y9.exec(t);return!(e===null||typeof e>"u")};Dn.isExist=function(t){return typeof t<"u"};Dn.isEmptyObject=function(t){return Object.keys(t).length===0};Dn.merge=function(t,e,r){if(e){let n=Object.keys(e),i=n.length;for(let s=0;s<i;s++)r==="strict"?t[n[s]]=[e[n[s]]]:t[n[s]]=e[n[s]]}};Dn.getValue=function(t){return Dn.isExist(t)?t:""};Dn.isName=v9;Dn.getAllMatches=g9;Dn.nameRegexp=PI});var Dy=E(kI=>{"use strict";var ky=Bd(),_9={allowBooleanAttributes:!1,unpairedTags:[]};kI.validate=function(t,e){e=Object.assign({},_9,e);let r=[],n=!1,i=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let s=0;s<t.length;s++)if(t[s]==="<"&&t[s+1]==="?"){if(s+=2,s=OI(t,s),s.err)return s}else if(t[s]==="<"){let o=s;if(s++,t[s]==="!"){s=RI(t,s);continue}else{let a=!1;t[s]==="/"&&(a=!0,s++);let c="";for(;s<t.length&&t[s]!==">"&&t[s]!==" "&&t[s]!=="	"&&t[s]!==`
`&&t[s]!=="\r";s++)c+=t[s];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),s--),!T9(c)){let m;return c.trim().length===0?m="Invalid space after '<'.":m="Tag '"+c+"' is an invalid name.",Xe("InvalidTag",m,Lt(t,s))}let l=S9(t,s);if(l===!1)return Xe("InvalidAttr","Attributes for '"+c+"' have open quote.",Lt(t,s));let d=l.value;if(s=l.index,d[d.length-1]==="/"){let m=s-d.length;d=d.substring(0,d.length-1);let f=NI(d,e);if(f===!0)n=!0;else return Xe(f.err.code,f.err.msg,Lt(t,m+f.err.line))}else if(a)if(l.tagClosed){if(d.trim().length>0)return Xe("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Lt(t,o));if(r.length===0)return Xe("InvalidTag","Closing tag '"+c+"' has not been opened.",Lt(t,o));{let m=r.pop();if(c!==m.tagName){let f=Lt(t,m.tagStartPos);return Xe("InvalidTag","Expected closing tag '"+m.tagName+"' (opened in line "+f.line+", col "+f.col+") instead of closing tag '"+c+"'.",Lt(t,o))}r.length==0&&(i=!0)}}else return Xe("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Lt(t,s));else{let m=NI(d,e);if(m!==!0)return Xe(m.err.code,m.err.msg,Lt(t,s-d.length+m.err.line));if(i===!0)return Xe("InvalidXml","Multiple possible root nodes found.",Lt(t,s));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:o}),n=!0}for(s++;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="!"){s++,s=RI(t,s);continue}else if(t[s+1]==="?"){if(s=OI(t,++s),s.err)return s}else break;else if(t[s]==="&"){let m=w9(t,s);if(m==-1)return Xe("InvalidChar","char '&' is not expected.",Lt(t,s));s=m}else if(i===!0&&!AI(t[s]))return Xe("InvalidXml","Extra text at the end",Lt(t,s));t[s]==="<"&&s--}}else{if(AI(t[s]))continue;return Xe("InvalidChar","char '"+t[s]+"' is not expected.",Lt(t,s))}if(n){if(r.length==1)return Xe("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Lt(t,r[0].tagStartPos));if(r.length>0)return Xe("InvalidXml","Invalid '"+JSON.stringify(r.map(s=>s.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return Xe("InvalidXml","Start tag expected.",1);return!0};function AI(t){return t===" "||t==="	"||t===`
`||t==="\r"}function OI(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return Xe("InvalidXml","XML declaration allowed only at the start of the document.",Lt(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function RI(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var b9='"',E9="'";function S9(t,e){let r="",n="",i=!1;for(;e<t.length;e++){if(t[e]===b9||t[e]===E9)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){i=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:i}}var C9=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function NI(t,e){let r=ky.getAllMatches(t,C9),n={};for(let i=0;i<r.length;i++){if(r[i][1].length===0)return Xe("InvalidAttr","Attribute '"+r[i][2]+"' has no space in starting.",Ma(r[i]));if(r[i][3]!==void 0&&r[i][4]===void 0)return Xe("InvalidAttr","Attribute '"+r[i][2]+"' is without value.",Ma(r[i]));if(r[i][3]===void 0&&!e.allowBooleanAttributes)return Xe("InvalidAttr","boolean attribute '"+r[i][2]+"' is not allowed.",Ma(r[i]));let s=r[i][2];if(!I9(s))return Xe("InvalidAttr","Attribute '"+s+"' is an invalid name.",Ma(r[i]));if(!n.hasOwnProperty(s))n[s]=1;else return Xe("InvalidAttr","Attribute '"+s+"' is repeated.",Ma(r[i]))}return!0}function x9(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function w9(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,x9(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function Xe(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function I9(t){return ky.isName(t)}function T9(t){return ky.isName(t)}function Lt(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function Ma(t){return t.startIndex+t[1].length}});var MI=E(My=>{var DI={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(t,e,r){return t}},P9=function(t){return Object.assign({},DI,t)};My.buildOptions=P9;My.defaultOptions=DI});var jI=E((QEe,FI)=>{"use strict";var Fy=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}};FI.exports=Fy});var $I=E((XEe,LI)=>{var A9=Bd();function O9(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,i=!1,s=!1,o="";for(;e<t.length;e++)if(t[e]==="<"&&!s){if(i&&k9(t,e))e+=7,[entityName,val,e]=R9(t,e+1),val.indexOf("&")===-1&&(r[j9(entityName)]={regx:RegExp(`&${entityName};`,"g"),val});else if(i&&D9(t,e))e+=8;else if(i&&M9(t,e))e+=8;else if(i&&F9(t,e))e+=9;else if(N9)s=!0;else throw new Error("Invalid DOCTYPE");n++,o=""}else if(t[e]===">"){if(s?t[e-1]==="-"&&t[e-2]==="-"&&(s=!1,n--):n--,n===0)break}else t[e]==="["?i=!0:o+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}function R9(t,e){let r="";for(;e<t.length&&t[e]!=="'"&&t[e]!=='"';e++)r+=t[e];if(r=r.trim(),r.indexOf(" ")!==-1)throw new Error("External entites are not supported");let n=t[e++],i="";for(;e<t.length&&t[e]!==n;e++)i+=t[e];return[r,i,e]}function N9(t,e){return t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-"}function k9(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y"}function D9(t,e){return t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T"}function M9(t,e){return t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T"}function F9(t,e){return t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N"}function j9(t){if(A9.isName(t))return t;throw new Error(`Invalid entity name ${t}`)}LI.exports=O9});var UI=E((eSe,BI)=>{var L9=/^[-+]?0x[a-fA-F0-9]+$/,$9=/^([\-\+])?(0*)([0-9]*(\.[0-9]*)?)$/,B9={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function U9(t,e={}){if(e=Object.assign({},B9,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(t==="0")return 0;if(e.hex&&L9.test(r))return V9(r,16);if(r.search(/[eE]/)!==-1){let n=r.match(/^([-\+])?(0*)([0-9]*(\.[0-9]*)?[eE][-\+]?[0-9]+)$/);if(n){if(e.leadingZeros)r=(n[1]||"")+n[3];else if(!(n[2]==="0"&&n[3][0]==="."))return t;return e.eNotation?Number(r):t}else return t}else{let n=$9.exec(r);if(n){let i=n[1],s=n[2],o=q9(n[3]);if(!e.leadingZeros&&s.length>0&&i&&r[2]!==".")return t;if(!e.leadingZeros&&s.length>0&&!i&&r[1]!==".")return t;if(e.leadingZeros&&s===t)return 0;{let a=Number(r),c=""+a;return c.search(/[eE]/)!==-1?e.eNotation?a:t:r.indexOf(".")!==-1?c==="0"&&o===""||c===o||i&&c==="-"+o?a:t:s?o===c||i+o===c?a:t:r===c||r===i+c?a:t}}else return t}}function q9(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}function V9(t,e){if(parseInt)return parseInt(t,e);if(Number.parseInt)return Number.parseInt(t,e);if(window&&window.parseInt)return window.parseInt(t,e);throw new Error("parseInt, Number.parseInt, window.parseInt are not supported")}BI.exports=U9});var GI=E((tSe,VI)=>{"use strict";var qI=Bd(),Fa=jI(),G9=$I(),H9=UI(),jy=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(r,n)=>String.fromCharCode(Number.parseInt(n,16))}},this.addExternalEntities=K9,this.parseXml=Z9,this.parseTextData=z9,this.resolveNameSpace=W9,this.buildAttributesMap=Y9,this.isItStopNode=tJ,this.replaceEntitiesValue=X9,this.readStopNodeData=nJ,this.saveTextToParentTag=eJ,this.addChild=Q9}};function K9(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function z9(t,e,r,n,i,s,o){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){o||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,i,s);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?$y(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?$y(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function W9(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var J9=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function Y9(t,e,r){if(!this.options.ignoreAttributes&&typeof t=="string"){let n=qI.getAllMatches(t,J9),i=n.length,s={};for(let o=0;o<i;o++){let a=this.resolveNameSpace(n[o][1]),c=n[o][4],l=this.options.attributeNamePrefix+a;if(a.length)if(this.options.transformAttributeName&&(l=this.options.transformAttributeName(l)),l==="__proto__"&&(l="#__proto__"),c!==void 0){this.options.trimValues&&(c=c.trim()),c=this.replaceEntitiesValue(c);let d=this.options.attributeValueProcessor(a,c,e);d==null?s[l]=c:typeof d!=typeof c||d!==c?s[l]=d:s[l]=$y(c,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[l]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var Z9=function(t){t=t.replace(/\r\n?/g,`
`);let e=new Fa("!xml"),r=e,n="",i="";for(let s=0;s<t.length;s++)if(t[s]==="<")if(t[s+1]==="/"){let a=fs(t,">",s,"Closing Tag is not closed."),c=t.substring(s+2,a).trim();if(this.options.removeNSPrefix){let m=c.indexOf(":");m!==-1&&(c=c.substr(m+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,i));let l=i.substring(i.lastIndexOf(".")+1);if(c&&this.options.unpairedTags.indexOf(c)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${c}>`);let d=0;l&&this.options.unpairedTags.indexOf(l)!==-1?(d=i.lastIndexOf(".",i.lastIndexOf(".")-1),this.tagsNodeStack.pop()):d=i.lastIndexOf("."),i=i.substring(0,d),r=this.tagsNodeStack.pop(),n="",s=a}else if(t[s+1]==="?"){let a=Ly(t,s,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,i),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new Fa(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,i,a.tagName)),this.addChild(r,c,i)}s=a.closeIndex+1}else if(t.substr(s+1,3)==="!--"){let a=fs(t,"-->",s+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(s+4,a-2);n=this.saveTextToParentTag(n,r,i),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}s=a}else if(t.substr(s+1,2)==="!D"){let a=G9(t,s);this.docTypeEntities=a.entities,s=a.i}else if(t.substr(s+1,2)==="!["){let a=fs(t,"]]>",s,"CDATA is not closed.")-2,c=t.substring(s+9,a);n=this.saveTextToParentTag(n,r,i);let l=this.parseTextData(c,r.tagname,i,!0,!1,!0,!0);l==null&&(l=""),this.options.cdataPropName?r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]):r.add(this.options.textNodeName,l),s=a+2}else{let a=Ly(t,s,this.options.removeNSPrefix),c=a.tagName,l=a.rawTagName,d=a.tagExp,m=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,i,!1));let h=r;if(h&&this.options.unpairedTags.indexOf(h.tagname)!==-1&&(r=this.tagsNodeStack.pop(),i=i.substring(0,i.lastIndexOf("."))),c!==e.tagname&&(i+=i?"."+c:c),this.isItStopNode(this.options.stopNodes,i,c)){let y="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),d=c):d=d.substr(0,d.length-1),s=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)s=a.closeIndex;else{let g=this.readStopNodeData(t,l,f+1);if(!g)throw new Error(`Unexpected end of ${l}`);s=g.i,y=g.tagContent}let v=new Fa(c);c!==d&&m&&(v[":@"]=this.buildAttributesMap(d,i,c)),y&&(y=this.parseTextData(y,c,i,!0,m,!0,!0)),i=i.substr(0,i.lastIndexOf(".")),v.add(this.options.textNodeName,y),this.addChild(r,v,i)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),i=i.substr(0,i.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let y=new Fa(c);c!==d&&m&&(y[":@"]=this.buildAttributesMap(d,i,c)),this.addChild(r,y,i),i=i.substr(0,i.lastIndexOf("."))}else{let y=new Fa(c);this.tagsNodeStack.push(r),c!==d&&m&&(y[":@"]=this.buildAttributesMap(d,i,c)),this.addChild(r,y,i),r=y}n="",s=f}}else n+=t[s];return e.child};function Q9(t,e,r){let n=this.options.updateTag(e.tagname,r,e[":@"]);n===!1||(typeof n=="string"&&(e.tagname=n),t.addChild(e))}var X9=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function eJ(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function tJ(t,e,r){let n="*."+r;for(let i in t){let s=t[i];if(n===s||e===s)return!0}return!1}function rJ(t,e,r=">"){let n,i="";for(let s=e;s<t.length;s++){let o=t[s];if(n)o===n&&(n="");else if(o==='"'||o==="'")n=o;else if(o===r[0])if(r[1]){if(t[s+1]===r[1])return{data:i,index:s}}else return{data:i,index:s};else o==="	"&&(o=" ");i+=o}}function fs(t,e,r,n){let i=t.indexOf(e,r);if(i===-1)throw new Error(n);return i+e.length-1}function Ly(t,e,r,n=">"){let i=rJ(t,e+1,n);if(!i)return;let s=i.data,o=i.index,a=s.search(/\s/),c=s,l=!0;a!==-1&&(c=s.substring(0,a),s=s.substring(a+1).trimStart());let d=c;if(r){let m=c.indexOf(":");m!==-1&&(c=c.substr(m+1),l=c!==i.data.substr(m+1))}return{tagName:c,tagExp:s,closeIndex:o,attrExpPresent:l,rawTagName:d}}function nJ(t,e,r){let n=r,i=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let s=fs(t,">",r,`${e} is not closed`);if(t.substring(r+2,s).trim()===e&&(i--,i===0))return{tagContent:t.substring(n,r),i:s};r=s}else if(t[r+1]==="?")r=fs(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=fs(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=fs(t,"]]>",r,"StopNode is not closed.")-2;else{let s=Ly(t,r,">");s&&((s&&s.tagName)===e&&s.tagExp[s.tagExp.length-1]!=="/"&&i++,r=s.closeIndex)}}function $y(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:H9(t,r)}else return qI.isExist(t)?t:""}VI.exports=jy});var zI=E(KI=>{"use strict";function iJ(t,e){return HI(t,e)}function HI(t,e,r){let n,i={};for(let s=0;s<t.length;s++){let o=t[s],a=sJ(o),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=o[a]:n+=""+o[a];else{if(a===void 0)continue;if(o[a]){let l=HI(o[a],e,c),d=aJ(l,e);o[":@"]?oJ(l,o[":@"],c,e):Object.keys(l).length===1&&l[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?l=l[e.textNodeName]:Object.keys(l).length===0&&(e.alwaysCreateTextNode?l[e.textNodeName]="":l=""),i[a]!==void 0&&i.hasOwnProperty(a)?(Array.isArray(i[a])||(i[a]=[i[a]]),i[a].push(l)):e.isArray(a,c,d)?i[a]=[l]:i[a]=l}}}return typeof n=="string"?n.length>0&&(i[e.textNodeName]=n):n!==void 0&&(i[e.textNodeName]=n),i}function sJ(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function oJ(t,e,r,n){if(e){let i=Object.keys(e),s=i.length;for(let o=0;o<s;o++){let a=i[o];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function aJ(t,e){let{textNodeName:r}=e,n=Object.keys(t).length;return!!(n===0||n===1&&(t[r]||typeof t[r]=="boolean"||t[r]===0))}KI.prettify=iJ});var JI=E((nSe,WI)=>{var{buildOptions:cJ}=MI(),lJ=GI(),{prettify:dJ}=zI(),uJ=Dy(),By=class{constructor(e){this.externalEntities={},this.options=cJ(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let s=uJ.validate(e,r);if(s!==!0)throw Error(`${s.err.msg}:${s.err.line}:${s.err.col}`)}let n=new lJ(this.options);n.addExternalEntities(this.externalEntities);let i=n.parseXml(e);return this.options.preserveOrder||i===void 0?i:dJ(i,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};WI.exports=By});var eT=E((iSe,XI)=>{var pJ=`
`;function mJ(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=pJ),ZI(t,e,"",r)}function ZI(t,e,r,n){let i="",s=!1;for(let o=0;o<t.length;o++){let a=t[o],c=fJ(a);if(c===void 0)continue;let l="";if(r.length===0?l=c:l=`${r}.${c}`,c===e.textNodeName){let y=a[c];hJ(l,e)||(y=e.tagValueProcessor(c,y),y=QI(y,e)),s&&(i+=n),i+=y,s=!1;continue}else if(c===e.cdataPropName){s&&(i+=n),i+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,s=!1;continue}else if(c===e.commentPropName){i+=n+`<!--${a[c][0][e.textNodeName]}-->`,s=!0;continue}else if(c[0]==="?"){let y=YI(a[":@"],e),v=c==="?xml"?"":n,g=a[c][0][e.textNodeName];g=g.length!==0?" "+g:"",i+=v+`<${c}${g}${y}?>`,s=!0;continue}let d=n;d!==""&&(d+=e.indentBy);let m=YI(a[":@"],e),f=n+`<${c}${m}`,h=ZI(a[c],e,l,d);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?i+=f+">":i+=f+"/>":(!h||h.length===0)&&e.suppressEmptyNode?i+=f+"/>":h&&h.endsWith(">")?i+=f+`>${h}${n}</${c}>`:(i+=f+">",h&&n!==""&&(h.includes("/>")||h.includes("</"))?i+=n+e.indentBy+h+n:i+=h,i+=`</${c}>`),s=!0}return i}function fJ(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(t.hasOwnProperty(n)&&n!==":@")return n}}function YI(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){if(!t.hasOwnProperty(n))continue;let i=e.attributeValueProcessor(n,t[n]);i=QI(i,e),i===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${i}"`}return r}function hJ(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function QI(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}XI.exports=mJ});var rT=E((sSe,tT)=>{"use strict";var yJ=eT(),gJ={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function ai(t){this.options=Object.assign({},gJ,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=bJ),this.processTextOrObjNode=vJ,this.options.format?(this.indentate=_J,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}ai.prototype.build=function(t){return this.options.preserveOrder?yJ(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};ai.prototype.j2x=function(t,e){let r="",n="";for(let i in t)if(Object.prototype.hasOwnProperty.call(t,i))if(typeof t[i]>"u")this.isAttribute(i)&&(n+="");else if(t[i]===null)this.isAttribute(i)?n+="":i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(t[i]instanceof Date)n+=this.buildTextValNode(t[i],i,"",e);else if(typeof t[i]!="object"){let s=this.isAttribute(i);if(s)r+=this.buildAttrPairStr(s,""+t[i]);else if(i===this.options.textNodeName){let o=this.options.tagValueProcessor(i,""+t[i]);n+=this.replaceEntitiesValue(o)}else n+=this.buildTextValNode(t[i],i,"",e)}else if(Array.isArray(t[i])){let s=t[i].length,o="",a="";for(let c=0;c<s;c++){let l=t[i][c];if(!(typeof l>"u"))if(l===null)i[0]==="?"?n+=this.indentate(e)+"<"+i+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+i+"/"+this.tagEndChar;else if(typeof l=="object")if(this.options.oneListGroup){let d=this.j2x(l,e+1);o+=d.val,this.options.attributesGroupName&&l.hasOwnProperty(this.options.attributesGroupName)&&(a+=d.attrStr)}else o+=this.processTextOrObjNode(l,i,e);else if(this.options.oneListGroup){let d=this.options.tagValueProcessor(i,l);d=this.replaceEntitiesValue(d),o+=d}else o+=this.buildTextValNode(l,i,"",e)}this.options.oneListGroup&&(o=this.buildObjectNode(o,i,a,e)),n+=o}else if(this.options.attributesGroupName&&i===this.options.attributesGroupName){let s=Object.keys(t[i]),o=s.length;for(let a=0;a<o;a++)r+=this.buildAttrPairStr(s[a],""+t[i][s[a]])}else n+=this.processTextOrObjNode(t[i],i,e);return{attrStr:r,val:n}};ai.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function vJ(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}ai.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let i="</"+e+this.tagEndChar,s="";return e[0]==="?"&&(s="?",i=""),(r||r==="")&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+s+">"+t+i:this.options.commentPropName!==!1&&e===this.options.commentPropName&&s.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+s+this.tagEndChar+t+this.indentate(n)+i}};ai.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};ai.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let i=this.options.tagValueProcessor(e,t);return i=this.replaceEntitiesValue(i),i===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+i+"</"+e+this.tagEndChar}};ai.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function _J(t){return this.options.indentBy.repeat(t)}function bJ(t){return t.startsWith(this.options.attributeNamePrefix)&&t!==this.options.textNodeName?t.substr(this.attrPrefixLen):!1}tT.exports=ai});var iT=E((oSe,nT)=>{"use strict";var EJ=Dy(),SJ=JI(),CJ=rT();nT.exports={XMLParser:SJ,XMLValidator:EJ,XMLBuilder:CJ}});var sT,oT,ja,Uy,xJ,aT=T(()=>{sT=P(me()),oT=P(iT());Oy();ja=(t,e)=>Ld(t,e).then(r=>{if(r.length){let n=new oT.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,l)=>l.trim()===""&&l.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let i;try{i=n.parse(r,!0)}catch(c){throw c&&typeof c=="object"&&Object.defineProperty(c,"$responseBodyText",{value:r}),c}let s="#text",o=Object.keys(i)[0],a=i[o];return a[s]&&(a[o]=a[s],delete a[s]),(0,sT.getValueFromTextNode)(a)}return{}}),Uy=async(t,e)=>{let r=await ja(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},xJ=(t,e)=>{if(e?.Error?.Code!==void 0)return e.Error.Code;if(e?.Code!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"}});var cT=T(()=>{X0();xI();II();aT()});var $t={};$r($t,{AWSSDKSigV4Signer:()=>c0,AwsSdkSigV4ASigner:()=>xd,AwsSdkSigV4Signer:()=>tr,NODE_AUTH_SCHEME_PREFERENCE_OPTIONS:()=>Aa,NODE_SIGV4A_CONFIG_OPTIONS:()=>S6,_toBool:()=>J6,_toNum:()=>Y6,_toStr:()=>W6,awsExpectUnion:()=>f9,emitWarningIfUnsupportedVersion:()=>ao,loadRestJsonErrorCode:()=>Ny,loadRestXmlErrorCode:()=>xJ,parseJsonBody:()=>$d,parseJsonErrorBody:()=>Ry,parseXmlBody:()=>ja,parseXmlErrorBody:()=>Uy,resolveAWSSDKSigV4Config:()=>H6,resolveAwsSdkSigV4AConfig:()=>E6,resolveAwsSdkSigV4Config:()=>uo,setCredentialFeature:()=>ni,setFeature:()=>e0,state:()=>Cd,validateSigningProperties:()=>Pa});var Ge=T(()=>{Ar();Q0();cT()});var hs=E((gSe,bT)=>{"use strict";var qd=Object.defineProperty,wJ=Object.getOwnPropertyDescriptor,IJ=Object.getOwnPropertyNames,TJ=Object.prototype.hasOwnProperty,Mn=(t,e)=>qd(t,"name",{value:e,configurable:!0}),PJ=(t,e)=>{for(var r in e)qd(t,r,{get:e[r],enumerable:!0})},AJ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of IJ(e))!TJ.call(t,i)&&i!==r&&qd(t,i,{get:()=>e[i],enumerable:!(n=wJ(e,i))||n.enumerable});return t},OJ=t=>AJ(qd({},"__esModule",{value:!0}),t),pT={};PJ(pT,{DEFAULT_UA_APP_ID:()=>mT,getUserAgentMiddlewareOptions:()=>_T,getUserAgentPlugin:()=>LJ,resolveUserAgentConfig:()=>hT,userAgentMiddleware:()=>vT});bT.exports=OJ(pT);var RJ=(Le(),X(bt)),mT=void 0;function fT(t){return t===void 0?!0:typeof t=="string"&&t.length<=50}Mn(fT,"isValidUserAgentAppId");function hT(t){let e=(0,RJ.normalizeProvider)(t.userAgentAppId??mT),{customUserAgent:r}=t;return Object.assign(t,{customUserAgent:typeof r=="string"?[[r]]:r,userAgentAppId:Mn(async()=>{let n=await e();if(!fT(n)){let i=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console:t.logger;typeof n!="string"?i?.warn("userAgentAppId must be a string or undefined."):n.length>50&&i?.warn("The provided userAgentAppId exceeds the maximum length of 50 characters.")}return n},"userAgentAppId")})}Mn(hT,"resolveUserAgentConfig");var NJ=ds(),kJ=$e(),rn=(Ge(),X($t)),DJ=/\d{12}\.ddb/;async function yT(t,e,r){if(r.request?.headers?.["smithy-protocol"]==="rpc-v2-cbor"&&(0,rn.setFeature)(t,"PROTOCOL_RPC_V2_CBOR","M"),typeof e.retryStrategy=="function"){let s=await e.retryStrategy();typeof s.acquireInitialRetryToken=="function"?s.constructor?.name?.includes("Adaptive")?(0,rn.setFeature)(t,"RETRY_MODE_ADAPTIVE","F"):(0,rn.setFeature)(t,"RETRY_MODE_STANDARD","E"):(0,rn.setFeature)(t,"RETRY_MODE_LEGACY","D")}if(typeof e.accountIdEndpointMode=="function"){let s=t.endpointV2;switch(String(s?.url?.hostname).match(DJ)&&(0,rn.setFeature)(t,"ACCOUNT_ID_ENDPOINT","O"),await e.accountIdEndpointMode?.()){case"disabled":(0,rn.setFeature)(t,"ACCOUNT_ID_MODE_DISABLED","Q");break;case"preferred":(0,rn.setFeature)(t,"ACCOUNT_ID_MODE_PREFERRED","P");break;case"required":(0,rn.setFeature)(t,"ACCOUNT_ID_MODE_REQUIRED","R");break}}let i=t.__smithy_context?.selectedHttpAuthScheme?.identity;if(i?.$source){let s=i;s.accountId&&(0,rn.setFeature)(t,"RESOLVED_ACCOUNT_ID","T");for(let[o,a]of Object.entries(s.$source??{}))(0,rn.setFeature)(t,o,a)}}Mn(yT,"checkFeatures");var lT="user-agent",qy="x-amz-user-agent",dT=" ",Vy="/",MJ=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,FJ=/[^\!\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w\#]/g,uT="-",jJ=1024;function gT(t){let e="";for(let r in t){let n=t[r];if(e.length+n.length+1<=jJ){e.length?e+=","+n:e+=n;continue}break}return e}Mn(gT,"encodeFeatures");var vT=Mn(t=>(e,r)=>async n=>{let{request:i}=n;if(!kJ.HttpRequest.isInstance(i))return e(n);let{headers:s}=i,o=r?.userAgent?.map(Ud)||[],a=(await t.defaultUserAgentProvider()).map(Ud);await yT(r,t,n);let c=r;a.push(`m/${gT(Object.assign({},r.__smithy_context?.features,c.__aws_sdk_context?.features))}`);let l=t?.customUserAgent?.map(Ud)||[],d=await t.userAgentAppId();d&&a.push(Ud([`app/${d}`]));let m=(0,NJ.getUserAgentPrefix)(),f=(m?[m]:[]).concat([...a,...o,...l]).join(dT),h=[...a.filter(y=>y.startsWith("aws-sdk-")),...l].join(dT);return t.runtime!=="browser"?(h&&(s[qy]=s[qy]?`${s[lT]} ${h}`:h),s[lT]=f):s[qy]=f,e({...n,request:i})},"userAgentMiddleware"),Ud=Mn(t=>{let e=t[0].split(Vy).map(o=>o.replace(MJ,uT)).join(Vy),r=t[1]?.replace(FJ,uT),n=e.indexOf(Vy),i=e.substring(0,n),s=e.substring(n+1);return i==="api"&&(s=s.toLowerCase()),[i,s,r].filter(o=>o&&o.length>0).reduce((o,a,c)=>{switch(c){case 0:return a;case 1:return`${o}/${a}`;default:return`${o}#${a}`}},"")},"escapeUserAgent"),_T={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},LJ=Mn(t=>({applyToStack:Mn(e=>{e.add(vT(t),_T)},"applyToStack")}),"getUserAgentPlugin")});var wT=E((vSe,xT)=>{var Vd=Object.defineProperty,$J=Object.getOwnPropertyDescriptor,BJ=Object.getOwnPropertyNames,UJ=Object.prototype.hasOwnProperty,ET=(t,e)=>Vd(t,"name",{value:e,configurable:!0}),qJ=(t,e)=>{for(var r in e)Vd(t,r,{get:e[r],enumerable:!0})},VJ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of BJ(e))!UJ.call(t,i)&&i!==r&&Vd(t,i,{get:()=>e[i],enumerable:!(n=$J(e,i))||n.enumerable});return t},GJ=t=>VJ(Vd({},"__esModule",{value:!0}),t),ST={};qJ(ST,{SelectorType:()=>CT,booleanSelector:()=>HJ,numberSelector:()=>KJ});xT.exports=GJ(ST);var HJ=ET((t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}},"booleanSelector"),KJ=ET((t,e,r)=>{if(!(e in t))return;let n=parseInt(t[e],10);if(Number.isNaN(n))throw new TypeError(`Cannot load ${r} '${e}'. Expected number, got '${t[e]}'.`);return n},"numberSelector"),CT=(t=>(t.ENV="env",t.CONFIG="shared config entry",t))(CT||{})});var rr=E((_Se,FT)=>{var Hd=Object.defineProperty,zJ=Object.getOwnPropertyDescriptor,WJ=Object.getOwnPropertyNames,JJ=Object.prototype.hasOwnProperty,Or=(t,e)=>Hd(t,"name",{value:e,configurable:!0}),YJ=(t,e)=>{for(var r in e)Hd(t,r,{get:e[r],enumerable:!0})},ZJ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of WJ(e))!JJ.call(t,i)&&i!==r&&Hd(t,i,{get:()=>e[i],enumerable:!(n=zJ(e,i))||n.enumerable});return t},QJ=t=>ZJ(Hd({},"__esModule",{value:!0}),t),PT={};YJ(PT,{CONFIG_USE_DUALSTACK_ENDPOINT:()=>OT,CONFIG_USE_FIPS_ENDPOINT:()=>NT,DEFAULT_USE_DUALSTACK_ENDPOINT:()=>XJ,DEFAULT_USE_FIPS_ENDPOINT:()=>t5,ENV_USE_DUALSTACK_ENDPOINT:()=>AT,ENV_USE_FIPS_ENDPOINT:()=>RT,NODE_REGION_CONFIG_FILE_OPTIONS:()=>a5,NODE_REGION_CONFIG_OPTIONS:()=>o5,NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS:()=>e5,NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS:()=>r5,REGION_ENV_NAME:()=>kT,REGION_INI_NAME:()=>DT,getRegionInfo:()=>p5,resolveCustomEndpointsConfig:()=>n5,resolveEndpointsConfig:()=>s5,resolveRegionConfig:()=>c5});FT.exports=QJ(PT);var ci=wT(),AT="AWS_USE_DUALSTACK_ENDPOINT",OT="use_dualstack_endpoint",XJ=!1,e5={environmentVariableSelector:t=>(0,ci.booleanSelector)(t,AT,ci.SelectorType.ENV),configFileSelector:t=>(0,ci.booleanSelector)(t,OT,ci.SelectorType.CONFIG),default:!1},RT="AWS_USE_FIPS_ENDPOINT",NT="use_fips_endpoint",t5=!1,r5={environmentVariableSelector:t=>(0,ci.booleanSelector)(t,RT,ci.SelectorType.ENV),configFileSelector:t=>(0,ci.booleanSelector)(t,NT,ci.SelectorType.CONFIG),default:!1},Gd=Xt(),n5=Or(t=>{let{tls:e,endpoint:r,urlParser:n,useDualstackEndpoint:i}=t;return Object.assign(t,{tls:e??!0,endpoint:(0,Gd.normalizeProvider)(typeof r=="string"?n(r):r),isCustomEndpoint:!0,useDualstackEndpoint:(0,Gd.normalizeProvider)(i??!1)})},"resolveCustomEndpointsConfig"),i5=Or(async t=>{let{tls:e=!0}=t,r=await t.region();if(!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");let i=await t.useDualstackEndpoint(),s=await t.useFipsEndpoint(),{hostname:o}=await t.regionInfoProvider(r,{useDualstackEndpoint:i,useFipsEndpoint:s})??{};if(!o)throw new Error("Cannot resolve hostname from client config");return t.urlParser(`${e?"https:":"http:"}//${o}`)},"getEndpointFromRegion"),s5=Or(t=>{let e=(0,Gd.normalizeProvider)(t.useDualstackEndpoint??!1),{endpoint:r,useFipsEndpoint:n,urlParser:i,tls:s}=t;return Object.assign(t,{tls:s??!0,endpoint:r?(0,Gd.normalizeProvider)(typeof r=="string"?i(r):r):()=>i5({...t,useDualstackEndpoint:e,useFipsEndpoint:n}),isCustomEndpoint:!!r,useDualstackEndpoint:e})},"resolveEndpointsConfig"),kT="AWS_REGION",DT="region",o5={environmentVariableSelector:t=>t[kT],configFileSelector:t=>t[DT],default:()=>{throw new Error("Region is missing")}},a5={preferredFile:"credentials"},MT=Or(t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),"isFipsRegion"),IT=Or(t=>MT(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,"getRealRegion"),c5=Or(t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:async()=>{if(typeof e=="string")return IT(e);let n=await e();return IT(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return MT(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}})},"resolveRegionConfig"),TT=Or((t=[],{useFipsEndpoint:e,useDualstackEndpoint:r})=>t.find(({tags:n})=>e===n.includes("fips")&&r===n.includes("dualstack"))?.hostname,"getHostnameFromVariants"),l5=Or((t,{regionHostname:e,partitionHostname:r})=>e||(r?r.replace("{region}",t):void 0),"getResolvedHostname"),d5=Or((t,{partitionHash:e})=>Object.keys(e||{}).find(r=>e[r].regions.includes(t))??"aws","getResolvedPartition"),u5=Or((t,{signingRegion:e,regionRegex:r,useFipsEndpoint:n})=>{if(e)return e;if(n){let i=r.replace("\\\\","\\").replace(/^\^/g,"\\.").replace(/\$$/g,"\\."),s=t.match(i);if(s)return s[0].slice(1,-1)}},"getResolvedSigningRegion"),p5=Or((t,{useFipsEndpoint:e=!1,useDualstackEndpoint:r=!1,signingService:n,regionHash:i,partitionHash:s})=>{let o=d5(t,{partitionHash:s}),a=t in i?t:s[o]?.endpoint??t,c={useFipsEndpoint:e,useDualstackEndpoint:r},l=TT(i[a]?.variants,c),d=TT(s[o]?.variants,c),m=l5(a,{regionHostname:l,partitionHostname:d});if(m===void 0)throw new Error(`Endpoint resolution failed for: ${{resolvedRegion:a,useFipsEndpoint:e,useDualstackEndpoint:r}}`);let f=u5(m,{signingRegion:i[a]?.signingRegion,regionRegex:s[o].regionRegex,useFipsEndpoint:e});return{partition:o,signingService:n,hostname:m,...f&&{signingRegion:f},...i[a]?.signingService&&{signingService:i[a].signingService}}},"getRegionInfo")});var ho=E((bSe,UT)=>{var Kd=Object.defineProperty,m5=Object.getOwnPropertyDescriptor,f5=Object.getOwnPropertyNames,h5=Object.prototype.hasOwnProperty,LT=(t,e)=>Kd(t,"name",{value:e,configurable:!0}),y5=(t,e)=>{for(var r in e)Kd(t,r,{get:e[r],enumerable:!0})},g5=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of f5(e))!h5.call(t,i)&&i!==r&&Kd(t,i,{get:()=>e[i],enumerable:!(n=m5(e,i))||n.enumerable});return t},v5=t=>g5(Kd({},"__esModule",{value:!0}),t),$T={};y5($T,{contentLengthMiddleware:()=>Gy,contentLengthMiddlewareOptions:()=>BT,getContentLengthPlugin:()=>b5});UT.exports=v5($T);var _5=$e(),jT="content-length";function Gy(t){return e=>async r=>{let n=r.request;if(_5.HttpRequest.isInstance(n)){let{body:i,headers:s}=n;if(i&&Object.keys(s).map(o=>o.toLowerCase()).indexOf(jT)===-1)try{let o=t(i);n.headers={...n.headers,[jT]:String(o)}}catch{}}return e({...r,request:n})}}LT(Gy,"contentLengthMiddleware");var BT={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},b5=LT(t=>({applyToStack:e=>{e.add(Gy(t.bodyLengthChecker),BT)}}),"getContentLengthPlugin")});function La(){return zd>Wd.length-16&&(qT.default.randomFillSync(Wd),zd=0),Wd.slice(zd,zd+=16)}var qT,Wd,zd,Hy=T(()=>{qT=P(require("crypto")),Wd=new Uint8Array(256),zd=Wd.length});var VT,GT=T(()=>{VT=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function E5(t){return typeof t=="string"&&VT.test(t)}var li,$a=T(()=>{GT();li=E5});function ys(t,e=0){return St[t[e+0]]+St[t[e+1]]+St[t[e+2]]+St[t[e+3]]+"-"+St[t[e+4]]+St[t[e+5]]+"-"+St[t[e+6]]+St[t[e+7]]+"-"+St[t[e+8]]+St[t[e+9]]+"-"+St[t[e+10]]+St[t[e+11]]+St[t[e+12]]+St[t[e+13]]+St[t[e+14]]+St[t[e+15]]}function S5(t,e=0){let r=ys(t,e);if(!li(r))throw TypeError("Stringified UUID is invalid");return r}var St,HT,Ba=T(()=>{$a();St=[];for(let t=0;t<256;++t)St.push((t+256).toString(16).slice(1));HT=S5});function C5(t,e,r){let n=e&&r||0,i=e||new Array(16);t=t||{};let s=t.node||KT,o=t.clockseq!==void 0?t.clockseq:Ky;if(s==null||o==null){let f=t.random||(t.rng||La)();s==null&&(s=KT=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),o==null&&(o=Ky=(f[6]<<8|f[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:Wy+1,l=a-zy+(c-Wy)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||a>zy)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");zy=a,Wy=c,Ky=o,a+=122192928e5;let d=((a&268435455)*1e4+c)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;let m=a/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=m&255,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(let f=0;f<6;++f)i[n+f]=s[f];return e||ys(i)}var KT,Ky,zy,Wy,zT,WT=T(()=>{Hy();Ba();zy=0,Wy=0;zT=C5});function x5(t){if(!li(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var Jd,Jy=T(()=>{$a();Jd=x5});function w5(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function Ua(t,e,r){function n(i,s,o,a){var c;if(typeof i=="string"&&(i=w5(i)),typeof s=="string"&&(s=Jd(s)),((c=s)===null||c===void 0?void 0:c.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=r(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(let d=0;d<16;++d)o[a+d]=l[d];return o}return ys(l)}try{n.name=t}catch{}return n.DNS=I5,n.URL=T5,n}var I5,T5,Yy=T(()=>{Ba();Jy();I5="6ba7b810-9dad-11d1-80b4-00c04fd430c8",T5="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function P5(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),JT.default.createHash("md5").update(t).digest()}var JT,YT,ZT=T(()=>{JT=P(require("crypto"));YT=P5});var A5,QT,XT=T(()=>{Yy();ZT();A5=Ua("v3",48,YT),QT=A5});var eP,Zy,tP=T(()=>{eP=P(require("crypto")),Zy={randomUUID:eP.default.randomUUID}});function O5(t,e,r){if(Zy.randomUUID&&!e&&!t)return Zy.randomUUID();t=t||{};let n=t.random||(t.rng||La)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let i=0;i<16;++i)e[r+i]=n[i];return e}return ys(n)}var rP,nP=T(()=>{tP();Hy();Ba();rP=O5});function R5(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),iP.default.createHash("sha1").update(t).digest()}var iP,sP,oP=T(()=>{iP=P(require("crypto"));sP=R5});var N5,aP,cP=T(()=>{Yy();oP();N5=Ua("v5",80,sP),aP=N5});var lP,dP=T(()=>{lP="00000000-0000-0000-0000-000000000000"});function k5(t){if(!li(t))throw TypeError("Invalid UUID");return parseInt(t.slice(14,15),16)}var uP,pP=T(()=>{$a();uP=k5});var Qy={};$r(Qy,{NIL:()=>lP,parse:()=>Jd,stringify:()=>HT,v1:()=>zT,v3:()=>QT,v4:()=>rP,v5:()=>aP,validate:()=>li,version:()=>uP});var Xy=T(()=>{WT();XT();nP();cP();dP();pP();$a();Ba();Jy()});var tg=E((oCe,yP)=>{var Yd=Object.defineProperty,D5=Object.getOwnPropertyDescriptor,M5=Object.getOwnPropertyNames,F5=Object.prototype.hasOwnProperty,gs=(t,e)=>Yd(t,"name",{value:e,configurable:!0}),j5=(t,e)=>{for(var r in e)Yd(t,r,{get:e[r],enumerable:!0})},L5=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of M5(e))!F5.call(t,i)&&i!==r&&Yd(t,i,{get:()=>e[i],enumerable:!(n=D5(e,i))||n.enumerable});return t},$5=t=>L5(Yd({},"__esModule",{value:!0}),t),mP={};j5(mP,{isBrowserNetworkError:()=>hP,isClockSkewCorrectedError:()=>fP,isClockSkewError:()=>K5,isRetryableByTrait:()=>H5,isServerError:()=>W5,isThrottlingError:()=>z5,isTransientError:()=>eg});yP.exports=$5(mP);var B5=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],U5=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],q5=["TimeoutError","RequestTimeout","RequestTimeoutException"],V5=[500,502,503,504],G5=["ECONNRESET","ECONNREFUSED","EPIPE","ETIMEDOUT"],H5=gs(t=>t.$retryable!==void 0,"isRetryableByTrait"),K5=gs(t=>B5.includes(t.name),"isClockSkewError"),fP=gs(t=>t.$metadata?.clockSkewCorrected,"isClockSkewCorrectedError"),hP=gs(t=>{let e=new Set(["Failed to fetch","NetworkError when attempting to fetch resource","The Internet connection appears to be offline","Load failed","Network request failed"]);return t&&t instanceof TypeError?e.has(t.message):!1},"isBrowserNetworkError"),z5=gs(t=>t.$metadata?.httpStatusCode===429||U5.includes(t.name)||t.$retryable?.throttling==!0,"isThrottlingError"),eg=gs((t,e=0)=>fP(t)||q5.includes(t.name)||G5.includes(t?.code||"")||V5.includes(t.$metadata?.httpStatusCode||0)||hP(t)||t.cause!==void 0&&e<=10&&eg(t.cause,e+1),"isTransientError"),W5=gs(t=>{if(t.$metadata?.httpStatusCode!==void 0){let e=t.$metadata.httpStatusCode;return 500<=e&&e<=599&&!eg(t)}return!1},"isServerError")});var vs=E((aCe,IP)=>{var Zd=Object.defineProperty,J5=Object.getOwnPropertyDescriptor,Y5=Object.getOwnPropertyNames,Z5=Object.prototype.hasOwnProperty,Rr=(t,e)=>Zd(t,"name",{value:e,configurable:!0}),Q5=(t,e)=>{for(var r in e)Zd(t,r,{get:e[r],enumerable:!0})},X5=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Y5(e))!Z5.call(t,i)&&i!==r&&Zd(t,i,{get:()=>e[i],enumerable:!(n=J5(e,i))||n.enumerable});return t},eY=t=>X5(Zd({},"__esModule",{value:!0}),t),vP={};Q5(vP,{AdaptiveRetryStrategy:()=>oY,ConfiguredRetryStrategy:()=>aY,DEFAULT_MAX_ATTEMPTS:()=>rg,DEFAULT_RETRY_DELAY_BASE:()=>qa,DEFAULT_RETRY_MODE:()=>tY,DefaultRateLimiter:()=>bP,INITIAL_RETRY_TOKENS:()=>ng,INVOCATION_ID_HEADER:()=>nY,MAXIMUM_RETRY_DELAY:()=>ig,NO_RETRY_INCREMENT:()=>wP,REQUEST_HEADER:()=>iY,RETRY_COST:()=>CP,RETRY_MODES:()=>_P,StandardRetryStrategy:()=>sg,THROTTLING_RETRY_DELAY_BASE:()=>SP,TIMEOUT_RETRY_COST:()=>xP});IP.exports=eY(vP);var _P=(t=>(t.STANDARD="standard",t.ADAPTIVE="adaptive",t))(_P||{}),rg=3,tY="standard",rY=tg(),bP=class EP{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=e?.beta??.7,this.minCapacity=e?.minCapacity??1,this.minFillRate=e?.minFillRate??.5,this.scaleConstant=e?.scaleConstant??.4,this.smooth=e?.smooth??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}static{Rr(this,"DefaultRateLimiter")}static{this.setTimeoutFn=setTimeout}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>EP.setTimeoutFn(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),(0,rY.isThrottlingError)(e)){let i=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=i,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(i),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}},qa=100,ig=20*1e3,SP=500,ng=500,CP=5,xP=10,wP=1,nY="amz-sdk-invocation-id",iY="amz-sdk-request",sY=Rr(()=>{let t=qa;return{computeNextBackoffDelay:Rr(n=>Math.floor(Math.min(ig,Math.random()*2**n*t)),"computeNextBackoffDelay"),setDelayBase:Rr(n=>{t=n},"setDelayBase")}},"getDefaultRetryBackoffStrategy"),gP=Rr(({retryDelay:t,retryCount:e,retryCost:r})=>({getRetryCount:Rr(()=>e,"getRetryCount"),getRetryDelay:Rr(()=>Math.min(ig,t),"getRetryDelay"),getRetryCost:Rr(()=>r,"getRetryCost")}),"createDefaultRetryToken"),sg=class{constructor(t){this.maxAttempts=t,this.mode="standard",this.capacity=ng,this.retryBackoffStrategy=sY(),this.maxAttemptsProvider=typeof t=="function"?t:async()=>t}static{Rr(this,"StandardRetryStrategy")}async acquireInitialRetryToken(t){return gP({retryDelay:qa,retryCount:0})}async refreshRetryTokenForRetry(t,e){let r=await this.getMaxAttempts();if(this.shouldRetry(t,e,r)){let n=e.errorType;this.retryBackoffStrategy.setDelayBase(n==="THROTTLING"?SP:qa);let i=this.retryBackoffStrategy.computeNextBackoffDelay(t.getRetryCount()),s=e.retryAfterHint?Math.max(e.retryAfterHint.getTime()-Date.now()||0,i):i,o=this.getCapacityCost(n);return this.capacity-=o,gP({retryDelay:s,retryCount:t.getRetryCount()+1,retryCost:o})}throw new Error("No retry token available")}recordSuccess(t){this.capacity=Math.max(ng,this.capacity+(t.getRetryCost()??wP))}getCapacity(){return this.capacity}async getMaxAttempts(){try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${rg}`),rg}}shouldRetry(t,e,r){return t.getRetryCount()+1<r&&this.capacity>=this.getCapacityCost(e.errorType)&&this.isRetryableError(e.errorType)}getCapacityCost(t){return t==="TRANSIENT"?xP:CP}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}},oY=class{constructor(t,e){this.maxAttemptsProvider=t,this.mode="adaptive";let{rateLimiter:r}=e??{};this.rateLimiter=r??new bP,this.standardRetryStrategy=new sg(t)}static{Rr(this,"AdaptiveRetryStrategy")}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,e){return this.rateLimiter.updateClientSendingRate(e),this.standardRetryStrategy.refreshRetryTokenForRetry(t,e)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}},aY=class extends sg{static{Rr(this,"ConfiguredRetryStrategy")}constructor(t,e=qa){super(typeof t=="function"?t:async()=>t),typeof e=="number"?this.computeNextBackoffDelay=()=>e:this.computeNextBackoffDelay=e}async refreshRetryTokenForRetry(t,e){let r=await super.refreshRetryTokenForRetry(t,e);return r.getRetryDelay=()=>this.computeNextBackoffDelay(r.getRetryCount()),r}}});var TP=E(Qd=>{"use strict";Object.defineProperty(Qd,"__esModule",{value:!0});Qd.isStreamingPayload=void 0;var cY=require("stream"),lY=t=>t?.body instanceof cY.Readable||typeof ReadableStream<"u"&&t?.body instanceof ReadableStream;Qd.isStreamingPayload=lY});var Nr=E((pCe,qP)=>{var Xd=Object.defineProperty,dY=Object.getOwnPropertyDescriptor,uY=Object.getOwnPropertyNames,pY=Object.prototype.hasOwnProperty,ct=(t,e)=>Xd(t,"name",{value:e,configurable:!0}),mY=(t,e)=>{for(var r in e)Xd(t,r,{get:e[r],enumerable:!0})},fY=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of uY(e))!pY.call(t,i)&&i!==r&&Xd(t,i,{get:()=>e[i],enumerable:!(n=dY(e,i))||n.enumerable});return t},hY=t=>fY(Xd({},"__esModule",{value:!0}),t),AP={};mY(AP,{AdaptiveRetryStrategy:()=>vY,CONFIG_MAX_ATTEMPTS:()=>ag,CONFIG_RETRY_MODE:()=>FP,ENV_MAX_ATTEMPTS:()=>og,ENV_RETRY_MODE:()=>MP,NODE_MAX_ATTEMPT_CONFIG_OPTIONS:()=>_Y,NODE_RETRY_MODE_CONFIG_OPTIONS:()=>EY,StandardRetryStrategy:()=>DP,defaultDelayDecider:()=>RP,defaultRetryDecider:()=>NP,getOmitRetryHeadersPlugin:()=>SY,getRetryAfterHint:()=>UP,getRetryPlugin:()=>PY,omitRetryHeadersMiddleware:()=>jP,omitRetryHeadersMiddlewareOptions:()=>LP,resolveRetryConfig:()=>bY,retryMiddleware:()=>$P,retryMiddlewareOptions:()=>BP});qP.exports=hY(AP);var yo=$e(),OP=(Xy(),X(Qy)),He=vs(),yY=ct((t,e)=>{let r=t,n=e?.noRetryIncrement??He.NO_RETRY_INCREMENT,i=e?.retryCost??He.RETRY_COST,s=e?.timeoutRetryCost??He.TIMEOUT_RETRY_COST,o=t,a=ct(m=>m.name==="TimeoutError"?s:i,"getCapacityAmount"),c=ct(m=>a(m)<=o,"hasRetryTokens");return Object.freeze({hasRetryTokens:c,retrieveRetryTokens:ct(m=>{if(!c(m))throw new Error("No retry token available");let f=a(m);return o-=f,f},"retrieveRetryTokens"),releaseRetryTokens:ct(m=>{o+=m??n,o=Math.min(o,r)},"releaseRetryTokens")})},"getDefaultRetryQuota"),RP=ct((t,e)=>Math.floor(Math.min(He.MAXIMUM_RETRY_DELAY,Math.random()*2**e*t)),"defaultDelayDecider"),di=tg(),NP=ct(t=>t?(0,di.isRetryableByTrait)(t)||(0,di.isClockSkewError)(t)||(0,di.isThrottlingError)(t)||(0,di.isTransientError)(t):!1,"defaultRetryDecider"),kP=ct(t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`),"asSdkError"),DP=class{constructor(t,e){this.maxAttemptsProvider=t,this.mode=He.RETRY_MODES.STANDARD,this.retryDecider=e?.retryDecider??NP,this.delayDecider=e?.delayDecider??RP,this.retryQuota=e?.retryQuota??yY(He.INITIAL_RETRY_TOKENS)}static{ct(this,"StandardRetryStrategy")}shouldRetry(t,e,r){return e<r&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=He.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,e,r){let n,i=0,s=0,o=await this.getMaxAttempts(),{request:a}=e;for(yo.HttpRequest.isInstance(a)&&(a.headers[He.INVOCATION_ID_HEADER]=(0,OP.v4)());;)try{yo.HttpRequest.isInstance(a)&&(a.headers[He.REQUEST_HEADER]=`attempt=${i+1}; max=${o}`),r?.beforeRequest&&await r.beforeRequest();let{response:c,output:l}=await t(e);return r?.afterRequest&&r.afterRequest(c),this.retryQuota.releaseRetryTokens(n),l.$metadata.attempts=i+1,l.$metadata.totalRetryDelay=s,{response:c,output:l}}catch(c){let l=kP(c);if(i++,this.shouldRetry(l,i,o)){n=this.retryQuota.retrieveRetryTokens(l);let d=this.delayDecider((0,di.isThrottlingError)(l)?He.THROTTLING_RETRY_DELAY_BASE:He.DEFAULT_RETRY_DELAY_BASE,i),m=gY(l.$response),f=Math.max(m||0,d);s+=f,await new Promise(h=>setTimeout(h,f));continue}throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=i,l.$metadata.totalRetryDelay=s,l}}},gY=ct(t=>{if(!yo.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r).getTime()-Date.now():n*1e3},"getDelayFromRetryAfterHeader"),vY=class extends DP{static{ct(this,"AdaptiveRetryStrategy")}constructor(t,e){let{rateLimiter:r,...n}=e??{};super(t,n),this.rateLimiter=r??new He.DefaultRateLimiter,this.mode=He.RETRY_MODES.ADAPTIVE}async retry(t,e){return super.retry(t,e,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}},PP=Xt(),og="AWS_MAX_ATTEMPTS",ag="max_attempts",_Y={environmentVariableSelector:t=>{let e=t[og];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${og} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[ag];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${ag} mast be a number, got "${e}"`);return r},default:He.DEFAULT_MAX_ATTEMPTS},bY=ct(t=>{let{retryStrategy:e,retryMode:r,maxAttempts:n}=t,i=(0,PP.normalizeProvider)(n??He.DEFAULT_MAX_ATTEMPTS);return Object.assign(t,{maxAttempts:i,retryStrategy:async()=>e||(await(0,PP.normalizeProvider)(r)()===He.RETRY_MODES.ADAPTIVE?new He.AdaptiveRetryStrategy(i):new He.StandardRetryStrategy(i))})},"resolveRetryConfig"),MP="AWS_RETRY_MODE",FP="retry_mode",EY={environmentVariableSelector:t=>t[MP],configFileSelector:t=>t[FP],default:He.DEFAULT_RETRY_MODE},jP=ct(()=>t=>async e=>{let{request:r}=e;return yo.HttpRequest.isInstance(r)&&(delete r.headers[He.INVOCATION_ID_HEADER],delete r.headers[He.REQUEST_HEADER]),t(e)},"omitRetryHeadersMiddleware"),LP={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0},SY=ct(t=>({applyToStack:e=>{e.addRelativeTo(jP(),LP)}}),"getOmitRetryHeadersPlugin"),CY=me(),xY=TP(),$P=ct(t=>(e,r)=>async n=>{let i=await t.retryStrategy(),s=await t.maxAttempts();if(wY(i)){i=i;let o=await i.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,l=0,{request:d}=n,m=yo.HttpRequest.isInstance(d);for(m&&(d.headers[He.INVOCATION_ID_HEADER]=(0,OP.v4)());;)try{m&&(d.headers[He.REQUEST_HEADER]=`attempt=${c+1}; max=${s}`);let{response:f,output:h}=await e(n);return i.recordSuccess(o),h.$metadata.attempts=c+1,h.$metadata.totalRetryDelay=l,{response:f,output:h}}catch(f){let h=IY(f);if(a=kP(f),m&&(0,xY.isStreamingPayload)(d))throw(r.logger instanceof CY.NoOpLogger?console:r.logger)?.warn("An error was encountered in a non-retryable streaming request."),a;try{o=await i.refreshRetryTokenForRetry(o,h)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=l,a}c=o.getRetryCount();let y=o.getRetryDelay();l+=y,await new Promise(v=>setTimeout(v,y))}}else return i=i,i?.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",i.mode]]),i.retry(e,n)},"retryMiddleware"),wY=ct(t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u","isRetryStrategyV2"),IY=ct(t=>{let e={error:t,errorType:TY(t)},r=UP(t.$response);return r&&(e.retryAfterHint=r),e},"getRetryErrorInfo"),TY=ct(t=>(0,di.isThrottlingError)(t)?"THROTTLING":(0,di.isTransientError)(t)?"TRANSIENT":(0,di.isServerError)(t)?"SERVER_ERROR":"CLIENT_ERROR","getRetryErrorType"),BP={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},PY=ct(t=>({applyToStack:e=>{e.add($P(t),BP)}}),"getRetryPlugin"),UP=ct(t=>{if(!yo.HttpResponse.isInstance(t))return;let e=Object.keys(t.headers).find(s=>s.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)},"getRetryAfterHint")});var lg=E(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.resolveHttpAuthSchemeConfig=ui.defaultDynamoDBHttpAuthSchemeProvider=ui.defaultDynamoDBHttpAuthSchemeParametersProvider=void 0;var AY=(Ge(),X($t)),cg=Xt(),OY=async(t,e,r)=>({operation:(0,cg.getSmithyContext)(e).operation,region:await(0,cg.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});ui.defaultDynamoDBHttpAuthSchemeParametersProvider=OY;function RY(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"dynamodb",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}var NY=t=>{let e=[];switch(t.operation){default:e.push(RY(t))}return e};ui.defaultDynamoDBHttpAuthSchemeProvider=NY;var kY=t=>{let e=(0,AY.resolveAwsSdkSigV4Config)(t);return Object.assign(e,{authSchemePreference:(0,cg.normalizeProvider)(t.authSchemePreference??[])})};ui.resolveHttpAuthSchemeConfig=kY});var go=E(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.getHomeDir=void 0;var DY=require("os"),MY=require("path"),dg={},FY=()=>process&&process.geteuid?`${process.geteuid()}`:"DEFAULT",jY=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${MY.sep}`}=process.env;if(t)return t;if(e)return e;if(r)return`${n}${r}`;let i=FY();return dg[i]||(dg[i]=(0,DY.homedir)()),dg[i]};eu.getHomeDir=jY});var ug=E(tu=>{"use strict";Object.defineProperty(tu,"__esModule",{value:!0});tu.getSSOTokenFilepath=void 0;var LY=require("crypto"),$Y=require("path"),BY=go(),UY=t=>{let r=(0,LY.createHash)("sha1").update(t).digest("hex");return(0,$Y.join)((0,BY.getHomeDir)(),".aws","sso","cache",`${r}.json`)};tu.getSSOTokenFilepath=UY});var VP=E(ru=>{"use strict";Object.defineProperty(ru,"__esModule",{value:!0});ru.getSSOTokenFromFile=void 0;var qY=require("fs"),VY=ug(),{readFile:GY}=qY.promises,HY=async t=>{let e=(0,VY.getSSOTokenFilepath)(t),r=await GY(e,"utf8");return JSON.parse(r)};ru.getSSOTokenFromFile=HY});var mg=E(nu=>{"use strict";Object.defineProperty(nu,"__esModule",{value:!0});nu.slurpFile=void 0;var KY=require("fs"),{readFile:zY}=KY.promises,pg={},WY=(t,e)=>((!pg[t]||e?.ignoreCache)&&(pg[t]=zY(t,"utf8")),pg[t]);nu.slurpFile=WY});var pi=E((bCe,Ga)=>{var ou=Object.defineProperty,JY=Object.getOwnPropertyDescriptor,YY=Object.getOwnPropertyNames,ZY=Object.prototype.hasOwnProperty,hr=(t,e)=>ou(t,"name",{value:e,configurable:!0}),QY=(t,e)=>{for(var r in e)ou(t,r,{get:e[r],enumerable:!0})},fg=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of YY(e))!ZY.call(t,i)&&i!==r&&ou(t,i,{get:()=>e[i],enumerable:!(n=JY(e,i))||n.enumerable});return t},yg=(t,e,r)=>(fg(t,e,"default"),r&&fg(r,e,"default")),XY=t=>fg(ou({},"__esModule",{value:!0}),t),Va={};QY(Va,{CONFIG_PREFIX_SEPARATOR:()=>_s,DEFAULT_PROFILE:()=>zP,ENV_PROFILE:()=>KP,getProfileName:()=>eZ,loadSharedConfigFiles:()=>JP,loadSsoSessionData:()=>mZ,parseKnownFiles:()=>hZ});Ga.exports=XY(Va);yg(Va,go(),Ga.exports);var KP="AWS_PROFILE",zP="default",eZ=hr(t=>t.profile||process.env[KP]||zP,"getProfileName");yg(Va,ug(),Ga.exports);yg(Va,VP(),Ga.exports);var iu=Tr(),tZ=hr(t=>Object.entries(t).filter(([e])=>{let r=e.indexOf(_s);return r===-1?!1:Object.values(iu.IniSectionType).includes(e.substring(0,r))}).reduce((e,[r,n])=>{let i=r.indexOf(_s),s=r.substring(0,i)===iu.IniSectionType.PROFILE?r.substring(i+1):r;return e[s]=n,e},{...t.default&&{default:t.default}}),"getConfigData"),su=require("path"),rZ=go(),nZ="AWS_CONFIG_FILE",WP=hr(()=>process.env[nZ]||(0,su.join)((0,rZ.getHomeDir)(),".aws","config"),"getConfigFilepath"),iZ=go(),sZ="AWS_SHARED_CREDENTIALS_FILE",oZ=hr(()=>process.env[sZ]||(0,su.join)((0,iZ.getHomeDir)(),".aws","credentials"),"getCredentialsFilepath"),aZ=go(),cZ=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,lZ=["__proto__","profile __proto__"],hg=hr(t=>{let e={},r,n;for(let i of t.split(/\r?\n/)){let s=i.split(/(^|\s)[;#]/)[0].trim();if(s[0]==="["&&s[s.length-1]==="]"){r=void 0,n=void 0;let a=s.substring(1,s.length-1),c=cZ.exec(a);if(c){let[,l,,d]=c;Object.values(iu.IniSectionType).includes(l)&&(r=[l,d].join(_s))}else r=a;if(lZ.includes(a))throw new Error(`Found invalid profile name "${a}"`)}else if(r){let a=s.indexOf("=");if(![0,-1].includes(a)){let[c,l]=[s.substring(0,a).trim(),s.substring(a+1).trim()];if(l==="")n=c;else{n&&i.trimStart()===i&&(n=void 0),e[r]=e[r]||{};let d=n?[n,c].join(_s):c;e[r][d]=l}}}}return e},"parseIni"),GP=mg(),HP=hr(()=>({}),"swallowError"),_s=".",JP=hr(async(t={})=>{let{filepath:e=oZ(),configFilepath:r=WP()}=t,n=(0,aZ.getHomeDir)(),i="~/",s=e;e.startsWith(i)&&(s=(0,su.join)(n,e.slice(2)));let o=r;r.startsWith(i)&&(o=(0,su.join)(n,r.slice(2)));let a=await Promise.all([(0,GP.slurpFile)(o,{ignoreCache:t.ignoreCache}).then(hg).then(tZ).catch(HP),(0,GP.slurpFile)(s,{ignoreCache:t.ignoreCache}).then(hg).catch(HP)]);return{configFile:a[0],credentialsFile:a[1]}},"loadSharedConfigFiles"),dZ=hr(t=>Object.entries(t).filter(([e])=>e.startsWith(iu.IniSectionType.SSO_SESSION+_s)).reduce((e,[r,n])=>({...e,[r.substring(r.indexOf(_s)+1)]:n}),{}),"getSsoSessionData"),uZ=mg(),pZ=hr(()=>({}),"swallowError"),mZ=hr(async(t={})=>(0,uZ.slurpFile)(t.configFilepath??WP()).then(hg).then(dZ).catch(pZ),"loadSsoSessionData"),fZ=hr((...t)=>{let e={};for(let r of t)for(let[n,i]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],i):e[n]=i;return e},"mergeConfigFiles"),hZ=hr(async t=>{let e=await JP(t);return fZ(e.configFile,e.credentialsFile)},"parseKnownFiles")});var nn=E((ECe,QP)=>{var au=Object.defineProperty,yZ=Object.getOwnPropertyDescriptor,gZ=Object.getOwnPropertyNames,vZ=Object.prototype.hasOwnProperty,vo=(t,e)=>au(t,"name",{value:e,configurable:!0}),_Z=(t,e)=>{for(var r in e)au(t,r,{get:e[r],enumerable:!0})},bZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of gZ(e))!vZ.call(t,i)&&i!==r&&au(t,i,{get:()=>e[i],enumerable:!(n=yZ(e,i))||n.enumerable});return t},EZ=t=>bZ(au({},"__esModule",{value:!0}),t),ZP={};_Z(ZP,{loadConfig:()=>IZ});QP.exports=EZ(ZP);var Ha=gt();function gg(t){try{let e=new Set(Array.from(t.match(/([A-Z_]){3,}/g)??[]));return e.delete("CONFIG"),e.delete("CONFIG_PREFIX_SEPARATOR"),e.delete("ENV"),[...e].join(", ")}catch{return t}}vo(gg,"getSelectorName");var SZ=vo((t,e)=>async()=>{try{let r=t(process.env);if(r===void 0)throw new Error;return r}catch(r){throw new Ha.CredentialsProviderError(r.message||`Not found in ENV: ${gg(t.toString())}`,{logger:e})}},"fromEnv"),YP=pi(),CZ=vo((t,{preferredFile:e="config",...r}={})=>async()=>{let n=(0,YP.getProfileName)(r),{configFile:i,credentialsFile:s}=await(0,YP.loadSharedConfigFiles)(r),o=s[n]||{},a=i[n]||{},c=e==="config"?{...o,...a}:{...a,...o};try{let d=t(c,e==="config"?i:s);if(d===void 0)throw new Error;return d}catch(l){throw new Ha.CredentialsProviderError(l.message||`Not found in config files w/ profile [${n}]: ${gg(t.toString())}`,{logger:r.logger})}},"fromSharedConfigFiles"),xZ=vo(t=>typeof t=="function","isFunction"),wZ=vo(t=>xZ(t)?async()=>await t():(0,Ha.fromStatic)(t),"fromStatic"),IZ=vo(({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>(0,Ha.memoize)((0,Ha.chain)(SZ(t),CZ(e,n),wZ(r))),"loadConfig")});var rA=E(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.getEndpointUrlConfig=void 0;var XP=pi(),eA="AWS_ENDPOINT_URL",tA="endpoint_url",TZ=t=>({environmentVariableSelector:e=>{let r=t.split(" ").map(s=>s.toUpperCase()),n=e[[eA,...r].join("_")];if(n)return n;let i=e[eA];if(i)return i},configFileSelector:(e,r)=>{if(r&&e.services){let i=r[["services",e.services].join(XP.CONFIG_PREFIX_SEPARATOR)];if(i){let s=t.split(" ").map(a=>a.toLowerCase()),o=i[[s.join("_"),tA].join(XP.CONFIG_PREFIX_SEPARATOR)];if(o)return o}}let n=e[tA];if(n)return n},default:void 0});cu.getEndpointUrlConfig=TZ});var vg=E(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.getEndpointFromConfig=void 0;var PZ=nn(),AZ=rA(),OZ=async t=>(0,PZ.loadConfig)((0,AZ.getEndpointUrlConfig)(t??""))();lu.getEndpointFromConfig=OZ});var oA=E((xCe,sA)=>{var du=Object.defineProperty,RZ=Object.getOwnPropertyDescriptor,NZ=Object.getOwnPropertyNames,kZ=Object.prototype.hasOwnProperty,DZ=(t,e)=>du(t,"name",{value:e,configurable:!0}),MZ=(t,e)=>{for(var r in e)du(t,r,{get:e[r],enumerable:!0})},FZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of NZ(e))!kZ.call(t,i)&&i!==r&&du(t,i,{get:()=>e[i],enumerable:!(n=RZ(e,i))||n.enumerable});return t},jZ=t=>FZ(du({},"__esModule",{value:!0}),t),nA={};MZ(nA,{parseQueryString:()=>iA});sA.exports=jZ(nA);function iA(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,i=null]=r.split("=");n=decodeURIComponent(n),i&&(i=decodeURIComponent(i)),n in e?Array.isArray(e[n])?e[n].push(i):e[n]=[e[n],i]:e[n]=i}return e}DZ(iA,"parseQueryString")});var mi=E((wCe,lA)=>{var uu=Object.defineProperty,LZ=Object.getOwnPropertyDescriptor,$Z=Object.getOwnPropertyNames,BZ=Object.prototype.hasOwnProperty,UZ=(t,e)=>uu(t,"name",{value:e,configurable:!0}),qZ=(t,e)=>{for(var r in e)uu(t,r,{get:e[r],enumerable:!0})},VZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of $Z(e))!BZ.call(t,i)&&i!==r&&uu(t,i,{get:()=>e[i],enumerable:!(n=LZ(e,i))||n.enumerable});return t},GZ=t=>VZ(uu({},"__esModule",{value:!0}),t),aA={};qZ(aA,{parseUrl:()=>cA});lA.exports=GZ(aA);var HZ=oA(),cA=UZ(t=>{if(typeof t=="string")return cA(new URL(t));let{hostname:e,pathname:r,port:n,protocol:i,search:s}=t,o;return s&&(o=(0,HZ.parseQueryString)(s)),{hostname:e,port:n?parseInt(n):void 0,protocol:i,path:r,query:o}},"parseUrl")});var Fn=E((ICe,yA)=>{var mu=Object.defineProperty,KZ=Object.getOwnPropertyDescriptor,zZ=Object.getOwnPropertyNames,WZ=Object.prototype.hasOwnProperty,kr=(t,e)=>mu(t,"name",{value:e,configurable:!0}),JZ=(t,e)=>{for(var r in e)mu(t,r,{get:e[r],enumerable:!0})},YZ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zZ(e))!WZ.call(t,i)&&i!==r&&mu(t,i,{get:()=>e[i],enumerable:!(n=KZ(e,i))||n.enumerable});return t},ZZ=t=>YZ(mu({},"__esModule",{value:!0}),t),uA={};JZ(uA,{endpointMiddleware:()=>fA,endpointMiddlewareOptions:()=>hA,getEndpointFromInstructions:()=>pA,getEndpointPlugin:()=>c7,resolveEndpointConfig:()=>d7,resolveParams:()=>mA,toEndpointV1:()=>_g});yA.exports=ZZ(uA);var QZ=kr(async t=>{let e=t?.Bucket||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),n7(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!r7(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},"resolveParamsForS3"),XZ=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,e7=/(\d+\.){3}\d+/,t7=/\.\./,r7=kr(t=>XZ.test(t)&&!e7.test(t)&&!t7.test(t),"isDnsCompatibleBucketName"),n7=kr(t=>{let[e,r,n,,,i]=t.split(":"),s=e==="arn"&&t.split(":").length>=6,o=!!(s&&r&&n&&i);if(s&&!o)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return o},"isArnBucketName"),i7=kr((t,e,r)=>{let n=kr(async()=>{let i=r[t]??r[e];return typeof i=="function"?i():i},"configProvider");return t==="credentialScope"||e==="CredentialScope"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.credentialScope??i?.CredentialScope}:t==="accountId"||e==="AccountId"?async()=>{let i=typeof r.credentials=="function"?await r.credentials():r.credentials;return i?.accountId??i?.AccountId}:t==="endpoint"||e==="endpoint"?async()=>{let i=await n();if(i&&typeof i=="object"){if("url"in i)return i.url.href;if("hostname"in i){let{protocol:s,hostname:o,port:a,path:c}=i;return`${s}//${o}${a?":"+a:""}${c}`}}return i}:n},"createConfigValueProvider"),s7=vg(),dA=mi(),_g=kr(t=>typeof t=="object"?"url"in t?(0,dA.parseUrl)(t.url):t:(0,dA.parseUrl)(t),"toEndpointV1"),pA=kr(async(t,e,r,n)=>{if(!r.endpoint){let o;r.serviceConfiguredEndpoint?o=await r.serviceConfiguredEndpoint():o=await(0,s7.getEndpointFromConfig)(r.serviceId),o&&(r.endpoint=()=>Promise.resolve(_g(o)))}let i=await mA(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(i,n)},"getEndpointFromInstructions"),mA=kr(async(t,e,r)=>{let n={},i=e?.getEndpointParameterInstructions?.()||{};for(let[s,o]of Object.entries(i))switch(o.type){case"staticContextParams":n[s]=o.value;break;case"contextParams":n[s]=t[o.name];break;case"clientContextParams":case"builtInParams":n[s]=await i7(o.name,s,r)();break;case"operationContextParams":n[s]=o.get(t);break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(o))}return Object.keys(i).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await QZ(n),n},"resolveParams"),o7=(Le(),X(bt)),pu=Xt(),fA=kr(({config:t,instructions:e})=>(r,n)=>async i=>{t.endpoint&&(0,o7.setFeature)(n,"ENDPOINT_OVERRIDE","N");let s=await pA(i.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=s,n.authSchemes=s.properties?.authSchemes;let o=n.authSchemes?.[0];if(o){n.signing_region=o.signingRegion,n.signing_service=o.signingName;let c=(0,pu.getSmithyContext)(n)?.selectedHttpAuthScheme?.httpAuthOption;c&&(c.signingProperties=Object.assign(c.signingProperties||{},{signing_region:o.signingRegion,signingRegion:o.signingRegion,signing_service:o.signingName,signingName:o.signingName,signingRegionSet:o.signingRegionSet},o.properties))}return r({...i})},"endpointMiddleware"),a7=On(),hA={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:a7.serializerMiddlewareOption.name},c7=kr((t,e)=>({applyToStack:r=>{r.addRelativeTo(fA({config:t,instructions:e}),hA)}}),"getEndpointPlugin"),l7=vg(),d7=kr(t=>{let e=t.tls??!0,{endpoint:r,useDualstackEndpoint:n,useFipsEndpoint:i}=t,s=r!=null?async()=>_g(await(0,pu.normalizeProvider)(r)()):void 0,a=Object.assign(t,{endpoint:s,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:(0,pu.normalizeProvider)(n??!1),useFipsEndpoint:(0,pu.normalizeProvider)(i??!1)}),c;return a.serviceConfiguredEndpoint=async()=>(t.serviceId&&!c&&(c=(0,l7.getEndpointFromConfig)(t.serviceId)),c),a},"resolveEndpointConfig")});var bo={};$r(bo,{__addDisposableResource:()=>UA,__assign:()=>fu,__asyncDelegator:()=>kA,__asyncGenerator:()=>NA,__asyncValues:()=>DA,__await:()=>_o,__awaiter:()=>IA,__classPrivateFieldGet:()=>LA,__classPrivateFieldIn:()=>BA,__classPrivateFieldSet:()=>$A,__createBinding:()=>yu,__decorate:()=>_A,__disposeResources:()=>qA,__esDecorate:()=>EA,__exportStar:()=>PA,__extends:()=>gA,__generator:()=>TA,__importDefault:()=>jA,__importStar:()=>FA,__makeTemplateObject:()=>MA,__metadata:()=>wA,__param:()=>bA,__propKey:()=>CA,__read:()=>Sg,__rest:()=>vA,__rewriteRelativeImportExtension:()=>VA,__runInitializers:()=>SA,__setFunctionName:()=>xA,__spread:()=>AA,__spreadArray:()=>RA,__spreadArrays:()=>OA,__values:()=>hu,default:()=>m7});function gA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function vA(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function _A(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function bA(t,e){return function(r,n){e(r,n,t)}}function EA(t,e,r,n,i,s){function o(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var a=n.kind,c=a==="getter"?"get":a==="setter"?"set":"value",l=!e&&t?n.static?t:t.prototype:null,d=e||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),m,f=!1,h=r.length-1;h>=0;h--){var y={};for(var v in n)y[v]=v==="access"?{}:n[v];for(var v in n.access)y.access[v]=n.access[v];y.addInitializer=function(_){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(_||null))};var g=(0,r[h])(a==="accessor"?{get:d.get,set:d.set}:d[c],y);if(a==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(m=o(g.get))&&(d.get=m),(m=o(g.set))&&(d.set=m),(m=o(g.init))&&i.unshift(m)}else(m=o(g))&&(a==="field"?i.unshift(m):d[c]=m)}l&&Object.defineProperty(l,n.name,d),f=!0}function SA(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function CA(t){return typeof t=="symbol"?t:"".concat(t)}function xA(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function wA(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function IA(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{l(n.next(d))}catch(m){o(m)}}function c(d){try{l(n.throw(d))}catch(m){o(m)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function TA(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,l[0]&&(r=0)),r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(d){l=[6,d],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function PA(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yu(e,t,r)}function hu(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Sg(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function AA(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Sg(arguments[e]));return t}function OA(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function RA(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function _o(t){return this instanceof _o?(this.v=t,this):new _o(t)}function NA(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(h){return function(y){return Promise.resolve(y).then(h,m)}}function a(h,y){n[h]&&(i[h]=function(v){return new Promise(function(g,_){s.push([h,v,g,_])>1||c(h,v)})},y&&(i[h]=y(i[h])))}function c(h,y){try{l(n[h](y))}catch(v){f(s[0][3],v)}}function l(h){h.value instanceof _o?Promise.resolve(h.value.v).then(d,m):f(s[0][2],h)}function d(h){c("next",h)}function m(h){c("throw",h)}function f(h,y){h(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}function kA(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:_o(t[i](o)),done:!1}:s?s(o):o}:s}}function DA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof hu=="function"?hu(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function MA(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function FA(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Eg(t),n=0;n<r.length;n++)r[n]!=="default"&&yu(e,t,r[n]);return u7(e,t),e}function jA(t){return t&&t.__esModule?t:{default:t}}function LA(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function $A(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function BA(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function UA(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}function qA(t){function e(s){t.error=t.hasError?new p7(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(o){return e(o),i()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function VA(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,o){return n?e?".jsx":".js":i&&(!s||!o)?r:i+s+"."+o.toLowerCase()+"js"}):t}var bg,fu,yu,u7,Eg,p7,m7,Eo=T(()=>{bg=function(t,e){return bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},bg(t,e)};fu=function(){return fu=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},fu.apply(this,arguments)};yu=Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};u7=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Eg=function(t){return Eg=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Eg(t)};p7=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};m7={__extends:gA,__assign:fu,__rest:vA,__decorate:_A,__param:bA,__esDecorate:EA,__runInitializers:SA,__propKey:CA,__setFunctionName:xA,__metadata:wA,__awaiter:IA,__generator:TA,__createBinding:yu,__exportStar:PA,__values:hu,__read:Sg,__spread:AA,__spreadArrays:OA,__spreadArray:RA,__await:_o,__asyncGenerator:NA,__asyncDelegator:kA,__asyncValues:DA,__makeTemplateObject:MA,__importStar:FA,__importDefault:jA,__classPrivateFieldGet:LA,__classPrivateFieldSet:$A,__classPrivateFieldIn:BA,__addDisposableResource:UA,__disposeResources:qA,__rewriteRelativeImportExtension:VA}});var GA=E((TCe,f7)=>{f7.exports={name:"@aws-sdk/client-dynamodb",description:"AWS SDK for JavaScript Dynamodb Client for Node.js, Browser and React Native",version:"3.803.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-dynamodb","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo dynamodb"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.799.0","@aws-sdk/credential-provider-node":"3.803.0","@aws-sdk/middleware-endpoint-discovery":"3.775.0","@aws-sdk/middleware-host-header":"3.775.0","@aws-sdk/middleware-logger":"3.775.0","@aws-sdk/middleware-recursion-detection":"3.775.0","@aws-sdk/middleware-user-agent":"3.799.0","@aws-sdk/region-config-resolver":"3.775.0","@aws-sdk/types":"3.775.0","@aws-sdk/util-endpoints":"3.787.0","@aws-sdk/util-user-agent-browser":"3.775.0","@aws-sdk/util-user-agent-node":"3.799.0","@smithy/config-resolver":"^4.1.0","@smithy/core":"^3.3.0","@smithy/fetch-http-handler":"^5.0.2","@smithy/hash-node":"^4.0.2","@smithy/invalid-dependency":"^4.0.2","@smithy/middleware-content-length":"^4.0.2","@smithy/middleware-endpoint":"^4.1.1","@smithy/middleware-retry":"^4.1.2","@smithy/middleware-serde":"^4.0.3","@smithy/middleware-stack":"^4.0.2","@smithy/node-config-provider":"^4.0.2","@smithy/node-http-handler":"^4.0.4","@smithy/protocol-http":"^5.1.0","@smithy/smithy-client":"^4.2.1","@smithy/types":"^4.2.0","@smithy/url-parser":"^4.0.2","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.9","@smithy/util-defaults-mode-node":"^4.0.9","@smithy/util-endpoints":"^3.0.2","@smithy/util-middleware":"^4.0.2","@smithy/util-retry":"^4.0.3","@smithy/util-utf8":"^4.0.0","@smithy/util-waiter":"^4.0.3","@types/uuid":"^9.0.1",tslib:"^2.6.2",uuid:"^9.0.1"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.2.2"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-dynamodb",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-dynamodb"}}});var vu=E((PCe,QA)=>{"use strict";var gu=Object.defineProperty,h7=Object.getOwnPropertyDescriptor,y7=Object.getOwnPropertyNames,g7=Object.prototype.hasOwnProperty,v7=(t,e)=>gu(t,"name",{value:e,configurable:!0}),_7=(t,e)=>{for(var r in e)gu(t,r,{get:e[r],enumerable:!0})},b7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of y7(e))!g7.call(t,i)&&i!==r&&gu(t,i,{get:()=>e[i],enumerable:!(n=h7(e,i))||n.enumerable});return t},E7=t=>b7(gu({},"__esModule",{value:!0}),t),HA={};_7(HA,{ENV_ACCOUNT_ID:()=>ZA,ENV_CREDENTIAL_SCOPE:()=>YA,ENV_EXPIRATION:()=>JA,ENV_KEY:()=>KA,ENV_SECRET:()=>zA,ENV_SESSION:()=>WA,fromEnv:()=>x7});QA.exports=E7(HA);var S7=(Ar(),X(ii)),C7=gt(),KA="AWS_ACCESS_KEY_ID",zA="AWS_SECRET_ACCESS_KEY",WA="AWS_SESSION_TOKEN",JA="AWS_CREDENTIAL_EXPIRATION",YA="AWS_CREDENTIAL_SCOPE",ZA="AWS_ACCOUNT_ID",x7=v7(t=>async()=>{t?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let e=process.env[KA],r=process.env[zA],n=process.env[WA],i=process.env[JA],s=process.env[YA],o=process.env[ZA];if(e&&r){let a={accessKeyId:e,secretAccessKey:r,...n&&{sessionToken:n},...i&&{expiration:new Date(i)},...s&&{credentialScope:s},...o&&{accountId:o}};return(0,S7.setCredentialFeature)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new C7.CredentialsProviderError("Unable to find environment variable credentials.",{logger:t?.logger})},"fromEnv")});var bs=E((ACe,pO)=>{var Eu=Object.defineProperty,w7=Object.getOwnPropertyDescriptor,I7=Object.getOwnPropertyNames,T7=Object.prototype.hasOwnProperty,lt=(t,e)=>Eu(t,"name",{value:e,configurable:!0}),P7=(t,e)=>{for(var r in e)Eu(t,r,{get:e[r],enumerable:!0})},A7=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of I7(e))!T7.call(t,i)&&i!==r&&Eu(t,i,{get:()=>e[i],enumerable:!(n=w7(e,i))||n.enumerable});return t},O7=t=>A7(Eu({},"__esModule",{value:!0}),t),rO={};P7(rO,{DEFAULT_MAX_RETRIES:()=>oO,DEFAULT_TIMEOUT:()=>sO,ENV_CMDS_AUTH_TOKEN:()=>wg,ENV_CMDS_FULL_URI:()=>_u,ENV_CMDS_RELATIVE_URI:()=>bu,Endpoint:()=>cO,fromContainerMetadata:()=>D7,fromInstanceMetadata:()=>tQ,getInstanceMetadataEndpoint:()=>dO,httpRequest:()=>So,providerConfigFromInit:()=>Ig});pO.exports=O7(rO);var R7=require("url"),sn=gt(),N7=require("buffer"),k7=require("http");function So(t){return new Promise((e,r)=>{let n=(0,k7.request)({method:"GET",...t,hostname:t.hostname?.replace(/^\[(.+)\]$/,"$1")});n.on("error",i=>{r(Object.assign(new sn.ProviderError("Unable to connect to instance metadata service"),i)),n.destroy()}),n.on("timeout",()=>{r(new sn.ProviderError("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",i=>{let{statusCode:s=400}=i;(s<200||300<=s)&&(r(Object.assign(new sn.ProviderError("Error response received from instance metadata service"),{statusCode:s})),n.destroy());let o=[];i.on("data",a=>{o.push(a)}),i.on("end",()=>{e(N7.Buffer.concat(o)),n.destroy()})}),n.end()})}lt(So,"httpRequest");var nO=lt(t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string","isImdsCredentials"),iO=lt(t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration),...t.AccountId&&{accountId:t.AccountId}}),"fromImdsCredentials"),sO=1e3,oO=0,Ig=lt(({maxRetries:t=oO,timeout:e=sO})=>({maxRetries:t,timeout:e}),"providerConfigFromInit"),xg=lt((t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r},"retry"),_u="AWS_CONTAINER_CREDENTIALS_FULL_URI",bu="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",wg="AWS_CONTAINER_AUTHORIZATION_TOKEN",D7=lt((t={})=>{let{timeout:e,maxRetries:r}=Ig(t);return()=>xg(async()=>{let n=await $7({logger:t.logger}),i=JSON.parse(await M7(e,n));if(!nO(i))throw new sn.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:t.logger});return iO(i)},r)},"fromContainerMetadata"),M7=lt(async(t,e)=>(process.env[wg]&&(e.headers={...e.headers,Authorization:process.env[wg]}),(await So({...e,timeout:t})).toString()),"requestFromEcsImds"),F7="169.254.170.2",j7={localhost:!0,"127.0.0.1":!0},L7={"http:":!0,"https:":!0},$7=lt(async({logger:t})=>{if(process.env[bu])return{hostname:F7,path:process.env[bu]};if(process.env[_u]){let e=(0,R7.parse)(process.env[_u]);if(!e.hostname||!(e.hostname in j7))throw new sn.CredentialsProviderError(`${e.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:t});if(!e.protocol||!(e.protocol in L7))throw new sn.CredentialsProviderError(`${e.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:t});return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new sn.CredentialsProviderError(`The container metadata credential provider cannot be used unless the ${bu} or ${_u} environment variable is set`,{tryNextLink:!1,logger:t})},"getCmdsUri"),B7=class aO extends sn.CredentialsProviderError{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,aO.prototype)}static{lt(this,"InstanceMetadataV1FallbackError")}},Tg=nn(),U7=mi(),cO=(t=>(t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]",t))(cO||{}),q7="AWS_EC2_METADATA_SERVICE_ENDPOINT",V7="ec2_metadata_service_endpoint",G7={environmentVariableSelector:t=>t[q7],configFileSelector:t=>t[V7],default:void 0},lO=(t=>(t.IPv4="IPv4",t.IPv6="IPv6",t))(lO||{}),H7="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",K7="ec2_metadata_service_endpoint_mode",z7={environmentVariableSelector:t=>t[H7],configFileSelector:t=>t[K7],default:"IPv4"},dO=lt(async()=>(0,U7.parseUrl)(await W7()||await J7()),"getInstanceMetadataEndpoint"),W7=lt(async()=>(0,Tg.loadConfig)(G7)(),"getFromEndpointConfig"),J7=lt(async()=>{let t=await(0,Tg.loadConfig)(z7)();switch(t){case"IPv4":return"http://169.254.169.254";case"IPv6":return"http://[fd00:ec2::254]";default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(lO)}`)}},"getFromEndpointModeConfig"),Y7=5*60,Z7=5*60,Q7="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",XA=lt((t,e)=>{let r=Y7+Math.floor(Math.random()*Z7),n=new Date(Date.now()+r*1e3);e.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(n)}.
For more information, please visit: `+Q7);let i=t.originalExpiration??t.expiration;return{...t,...i?{originalExpiration:i}:{},expiration:n}},"getExtendedInstanceMetadataCredentials"),X7=lt((t,e={})=>{let r=e?.logger||console,n;return async()=>{let i;try{i=await t(),i.expiration&&i.expiration.getTime()<Date.now()&&(i=XA(i,r))}catch(s){if(n)r.warn("Credential renew failed: ",s),i=XA(n,r);else throw s}return n=i,i}},"staticStabilityProvider"),uO="/latest/meta-data/iam/security-credentials/",eQ="/latest/api/token",Cg="AWS_EC2_METADATA_V1_DISABLED",eO="ec2_metadata_v1_disabled",tO="x-aws-ec2-metadata-token",tQ=lt((t={})=>X7(rQ(t),{logger:t.logger}),"fromInstanceMetadata"),rQ=lt((t={})=>{let e=!1,{logger:r,profile:n}=t,{timeout:i,maxRetries:s}=Ig(t),o=lt(async(a,c)=>{if(e||c.headers?.[tO]==null){let m=!1,f=!1,h=await(0,Tg.loadConfig)({environmentVariableSelector:y=>{let v=y[Cg];if(f=!!v&&v!=="false",v===void 0)throw new sn.CredentialsProviderError(`${Cg} not set in env, checking config file next.`,{logger:t.logger});return f},configFileSelector:y=>{let v=y[eO];return m=!!v&&v!=="false",m},default:!1},{profile:n})();if(t.ec2MetadataV1Disabled||h){let y=[];throw t.ec2MetadataV1Disabled&&y.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),m&&y.push(`config file profile (${eO})`),f&&y.push(`process environment variable (${Cg})`),new B7(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${y.join(", ")}].`)}}let d=(await xg(async()=>{let m;try{m=await iQ(c)}catch(f){throw f.statusCode===401&&(e=!1),f}return m},a)).trim();return xg(async()=>{let m;try{m=await sQ(d,c,t)}catch(f){throw f.statusCode===401&&(e=!1),f}return m},a)},"getCredentials");return async()=>{let a=await dO();if(e)return r?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),o(s,{...a,timeout:i});{let c;try{c=(await nQ({...a,timeout:i})).toString()}catch(l){if(l?.statusCode===400)throw Object.assign(l,{message:"EC2 Metadata token request returned error"});return(l.message==="TimeoutError"||[403,404,405].includes(l.statusCode))&&(e=!0),r?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),o(s,{...a,timeout:i})}return o(s,{...a,headers:{[tO]:c},timeout:i})}}},"getInstanceMetadataProvider"),nQ=lt(async t=>So({...t,path:eQ,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),"getMetadataToken"),iQ=lt(async t=>(await So({...t,path:uO})).toString(),"getProfile"),sQ=lt(async(t,e,r)=>{let n=JSON.parse((await So({...e,path:uO+t})).toString());if(!nO(n))throw new sn.CredentialsProviderError("Invalid response received from instance metadata service.",{logger:r.logger});return iO(n)},"getCredentialsFromProfile")});var mO=E(Su=>{"use strict";Object.defineProperty(Su,"__esModule",{value:!0});Su.checkUrl=void 0;var oQ=gt(),aQ="169.254.170.2",cQ="169.254.170.23",lQ="[fd00:ec2::23]",dQ=(t,e)=>{if(t.protocol!=="https:"&&!(t.hostname===aQ||t.hostname===cQ||t.hostname===lQ)){if(t.hostname.includes("[")){if(t.hostname==="[::1]"||t.hostname==="[0000:0000:0000:0000:0000:0000:0000:0001]")return}else{if(t.hostname==="localhost")return;let r=t.hostname.split("."),n=i=>{let s=parseInt(i,10);return 0<=s&&s<=255};if(r[0]==="127"&&n(r[1])&&n(r[2])&&n(r[3])&&r.length===4)return}throw new oQ.CredentialsProviderError(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:e})}};Su.checkUrl=dQ});var fO=E(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.getCredentials=Co.createGetRequest=void 0;var Pg=gt(),uQ=$e(),pQ=me(),mQ=$h();function fQ(t){return new uQ.HttpRequest({protocol:t.protocol,hostname:t.hostname,port:Number(t.port),path:t.pathname,query:Array.from(t.searchParams.entries()).reduce((e,[r,n])=>(e[r]=n,e),{}),fragment:t.hash})}Co.createGetRequest=fQ;async function hQ(t,e){let n=await(0,mQ.sdkStreamMixin)(t.body).transformToString();if(t.statusCode===200){let i=JSON.parse(n);if(typeof i.AccessKeyId!="string"||typeof i.SecretAccessKey!="string"||typeof i.Token!="string"||typeof i.Expiration!="string")throw new Pg.CredentialsProviderError("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:e});return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.Token,expiration:(0,pQ.parseRfc3339DateTime)(i.Expiration)}}if(t.statusCode>=400&&t.statusCode<500){let i={};try{i=JSON.parse(n)}catch{}throw Object.assign(new Pg.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e}),{Code:i.Code,Message:i.Message})}throw new Pg.CredentialsProviderError(`Server responded with status: ${t.statusCode}`,{logger:e})}Co.getCredentials=hQ});var hO=E(Cu=>{"use strict";Object.defineProperty(Cu,"__esModule",{value:!0});Cu.retryWrapper=void 0;var yQ=(t,e,r)=>async()=>{for(let n=0;n<e;++n)try{return await t()}catch{await new Promise(s=>setTimeout(s,r))}return await t()};Cu.retryWrapper=yQ});var vO=E(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.fromHttp=void 0;var gQ=(Eo(),X(bo)),vQ=(Ar(),X(ii)),_Q=ti(),yO=gt(),bQ=gQ.__importDefault(require("fs/promises")),EQ=mO(),gO=fO(),SQ=hO(),CQ="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",xQ="http://169.254.170.2",wQ="AWS_CONTAINER_CREDENTIALS_FULL_URI",IQ="AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE",TQ="AWS_CONTAINER_AUTHORIZATION_TOKEN",PQ=(t={})=>{t.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let e,r=t.awsContainerCredentialsRelativeUri??process.env[CQ],n=t.awsContainerCredentialsFullUri??process.env[wQ],i=t.awsContainerAuthorizationToken??process.env[TQ],s=t.awsContainerAuthorizationTokenFile??process.env[IQ],o=t.logger?.constructor?.name==="NoOpLogger"||!t.logger?console.warn:t.logger.warn;if(r&&n&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),o("awsContainerCredentialsFullUri will take precedence.")),i&&s&&(o("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),o("awsContainerAuthorizationToken will take precedence.")),n)e=n;else if(r)e=`${xQ}${r}`;else throw new yO.CredentialsProviderError(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:t.logger});let a=new URL(e);(0,EQ.checkUrl)(a,t.logger);let c=new _Q.NodeHttpHandler({requestTimeout:t.timeout??1e3,connectionTimeout:t.timeout??1e3});return(0,SQ.retryWrapper)(async()=>{let l=(0,gO.createGetRequest)(a);i?l.headers.Authorization=i:s&&(l.headers.Authorization=(await bQ.default.readFile(s)).toString());try{let d=await c.handle(l);return(0,gO.getCredentials)(d.response).then(m=>(0,vQ.setCredentialFeature)(m,"CREDENTIALS_HTTP","z"))}catch(d){throw new yO.CredentialsProviderError(String(d),{logger:t.logger})}},t.maxRetries??3,t.timeout??1e3)};xu.fromHttp=PQ});var Iu=E(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.fromHttp=void 0;var AQ=vO();Object.defineProperty(wu,"fromHttp",{enumerable:!0,get:function(){return AQ.fromHttp}})});var Og=E(fi=>{"use strict";Object.defineProperty(fi,"__esModule",{value:!0});fi.resolveHttpAuthSchemeConfig=fi.defaultSSOHttpAuthSchemeProvider=fi.defaultSSOHttpAuthSchemeParametersProvider=void 0;var OQ=(Ge(),X($t)),Ag=Xt(),RQ=async(t,e,r)=>({operation:(0,Ag.getSmithyContext)(e).operation,region:await(0,Ag.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});fi.defaultSSOHttpAuthSchemeParametersProvider=RQ;function NQ(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"awsssoportal",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Tu(t){return{schemeId:"smithy.api#noAuth"}}var kQ=t=>{let e=[];switch(t.operation){case"GetRoleCredentials":{e.push(Tu(t));break}case"ListAccountRoles":{e.push(Tu(t));break}case"ListAccounts":{e.push(Tu(t));break}case"Logout":{e.push(Tu(t));break}default:e.push(NQ(t))}return e};fi.defaultSSOHttpAuthSchemeProvider=kQ;var DQ=t=>{let e=(0,OQ.resolveAwsSdkSigV4Config)(t);return Object.assign(e,{authSchemePreference:(0,Ag.normalizeProvider)(t.authSchemePreference??[])})};fi.resolveHttpAuthSchemeConfig=DQ});var _O=E((FCe,MQ)=>{MQ.exports={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.803.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-sso","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.799.0","@aws-sdk/middleware-host-header":"3.775.0","@aws-sdk/middleware-logger":"3.775.0","@aws-sdk/middleware-recursion-detection":"3.775.0","@aws-sdk/middleware-user-agent":"3.799.0","@aws-sdk/region-config-resolver":"3.775.0","@aws-sdk/types":"3.775.0","@aws-sdk/util-endpoints":"3.787.0","@aws-sdk/util-user-agent-browser":"3.775.0","@aws-sdk/util-user-agent-node":"3.799.0","@smithy/config-resolver":"^4.1.0","@smithy/core":"^3.3.0","@smithy/fetch-http-handler":"^5.0.2","@smithy/hash-node":"^4.0.2","@smithy/invalid-dependency":"^4.0.2","@smithy/middleware-content-length":"^4.0.2","@smithy/middleware-endpoint":"^4.1.1","@smithy/middleware-retry":"^4.1.2","@smithy/middleware-serde":"^4.0.3","@smithy/middleware-stack":"^4.0.2","@smithy/node-config-provider":"^4.0.2","@smithy/node-http-handler":"^4.0.4","@smithy/protocol-http":"^5.1.0","@smithy/smithy-client":"^4.2.1","@smithy/types":"^4.2.0","@smithy/url-parser":"^4.0.2","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.9","@smithy/util-defaults-mode-node":"^4.0.9","@smithy/util-endpoints":"^3.0.2","@smithy/util-middleware":"^4.0.2","@smithy/util-retry":"^4.0.3","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@tsconfig/node18":"18.2.4","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.2.2"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}}});var xo=E((jCe,IO)=>{"use strict";var Au=Object.defineProperty,FQ=Object.getOwnPropertyDescriptor,jQ=Object.getOwnPropertyNames,LQ=Object.prototype.hasOwnProperty,Pu=(t,e)=>Au(t,"name",{value:e,configurable:!0}),$Q=(t,e)=>{for(var r in e)Au(t,r,{get:e[r],enumerable:!0})},BQ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jQ(e))!LQ.call(t,i)&&i!==r&&Au(t,i,{get:()=>e[i],enumerable:!(n=FQ(e,i))||n.enumerable});return t},UQ=t=>BQ(Au({},"__esModule",{value:!0}),t),EO={};$Q(EO,{NODE_APP_ID_CONFIG_OPTIONS:()=>KQ,UA_APP_ID_ENV_NAME:()=>xO,UA_APP_ID_INI_NAME:()=>wO,createDefaultUserAgentProvider:()=>CO,crtAvailability:()=>SO,defaultUserAgent:()=>VQ});IO.exports=UQ(EO);var bO=require("os"),Rg=require("process"),SO={isCrtAvailable:!1},qQ=Pu(()=>SO.isCrtAvailable?["md/crt-avail"]:null,"isCrtAvailable"),CO=Pu(({serviceId:t,clientVersion:e})=>async r=>{let n=[["aws-sdk-js",e],["ua","2.1"],[`os/${(0,bO.platform)()}`,(0,bO.release)()],["lang/js"],["md/nodejs",`${Rg.versions.node}`]],i=qQ();i&&n.push(i),t&&n.push([`api/${t}`,e]),Rg.env.AWS_EXECUTION_ENV&&n.push([`exec-env/${Rg.env.AWS_EXECUTION_ENV}`]);let s=await r?.userAgentAppId?.();return s?[...n,[`app/${s}`]]:[...n]},"createDefaultUserAgentProvider"),VQ=CO,GQ=hs(),xO="AWS_SDK_UA_APP_ID",wO="sdk_ua_app_id",HQ="sdk-ua-app-id",KQ={environmentVariableSelector:Pu(t=>t[xO],"environmentVariableSelector"),configFileSelector:Pu(t=>t[wO]??t[HQ],"configFileSelector"),default:GQ.DEFAULT_UA_APP_ID}});var wo=E((LCe,OO)=>{var Ou=Object.defineProperty,zQ=Object.getOwnPropertyDescriptor,WQ=Object.getOwnPropertyNames,JQ=Object.prototype.hasOwnProperty,PO=(t,e)=>Ou(t,"name",{value:e,configurable:!0}),YQ=(t,e)=>{for(var r in e)Ou(t,r,{get:e[r],enumerable:!0})},ZQ=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of WQ(e))!JQ.call(t,i)&&i!==r&&Ou(t,i,{get:()=>e[i],enumerable:!(n=zQ(e,i))||n.enumerable});return t},QQ=t=>ZQ(Ou({},"__esModule",{value:!0}),t),AO={};YQ(AO,{Hash:()=>tX});OO.exports=QQ(AO);var Ng=no(),XQ=jt(),eX=require("buffer"),TO=require("crypto"),tX=class{static{PO(this,"Hash")}constructor(t,e){this.algorithmIdentifier=t,this.secret=e,this.reset()}update(t,e){this.hash.update((0,XQ.toUint8Array)(kg(t,e)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,TO.createHmac)(this.algorithmIdentifier,kg(this.secret)):(0,TO.createHash)(this.algorithmIdentifier)}};function kg(t,e){return eX.Buffer.isBuffer(t)?t:typeof t=="string"?(0,Ng.fromString)(t,e):ArrayBuffer.isView(t)?(0,Ng.fromArrayBuffer)(t.buffer,t.byteOffset,t.byteLength):(0,Ng.fromArrayBuffer)(t)}PO(kg,"castSourceData")});var Io=E((BCe,kO)=>{var Ru=Object.defineProperty,rX=Object.getOwnPropertyDescriptor,nX=Object.getOwnPropertyNames,iX=Object.prototype.hasOwnProperty,sX=(t,e)=>Ru(t,"name",{value:e,configurable:!0}),oX=(t,e)=>{for(var r in e)Ru(t,r,{get:e[r],enumerable:!0})},aX=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of nX(e))!iX.call(t,i)&&i!==r&&Ru(t,i,{get:()=>e[i],enumerable:!(n=rX(e,i))||n.enumerable});return t},cX=t=>aX(Ru({},"__esModule",{value:!0}),t),NO={};oX(NO,{calculateBodyLength:()=>lX});kO.exports=cX(NO);var RO=require("fs"),lX=sX(t=>{if(!t)return 0;if(typeof t=="string")return Buffer.byteLength(t);if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.start=="number"&&typeof t.end=="number")return t.end+1-t.start;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return(0,RO.lstatSync)(t.path).size;if(typeof t.fd=="number")return(0,RO.fstatSync)(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)},"calculateBodyLength")});var WO=E(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.ruleSet=void 0;var GO="required",gr="fn",vr="argv",Ao="ref",DO=!0,MO="isSet",Ka="booleanEquals",To="error",Po="endpoint",jn="tree",Dg="PartitionResult",Mg="getAttr",FO={[GO]:!1,type:"String"},jO={[GO]:!0,default:!1,type:"Boolean"},LO={[Ao]:"Endpoint"},HO={[gr]:Ka,[vr]:[{[Ao]:"UseFIPS"},!0]},KO={[gr]:Ka,[vr]:[{[Ao]:"UseDualStack"},!0]},yr={},$O={[gr]:Mg,[vr]:[{[Ao]:Dg},"supportsFIPS"]},zO={[Ao]:Dg},BO={[gr]:Ka,[vr]:[!0,{[gr]:Mg,[vr]:[zO,"supportsDualStack"]}]},UO=[HO],qO=[KO],VO=[{[Ao]:"Region"}],dX={version:"1.0",parameters:{Region:FO,UseDualStack:jO,UseFIPS:jO,Endpoint:FO},rules:[{conditions:[{[gr]:MO,[vr]:[LO]}],rules:[{conditions:UO,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:To},{conditions:qO,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:To},{endpoint:{url:LO,properties:yr,headers:yr},type:Po}],type:jn},{conditions:[{[gr]:MO,[vr]:VO}],rules:[{conditions:[{[gr]:"aws.partition",[vr]:VO,assign:Dg}],rules:[{conditions:[HO,KO],rules:[{conditions:[{[gr]:Ka,[vr]:[DO,$O]},BO],rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yr,headers:yr},type:Po}],type:jn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:To}],type:jn},{conditions:UO,rules:[{conditions:[{[gr]:Ka,[vr]:[$O,DO]}],rules:[{conditions:[{[gr]:"stringEquals",[vr]:[{[gr]:Mg,[vr]:[zO,"name"]},"aws-us-gov"]}],endpoint:{url:"https://portal.sso.{Region}.amazonaws.com",properties:yr,headers:yr},type:Po},{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:yr,headers:yr},type:Po}],type:jn},{error:"FIPS is enabled but this partition does not support FIPS",type:To}],type:jn},{conditions:qO,rules:[{conditions:[BO],rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:yr,headers:yr},type:Po}],type:jn},{error:"DualStack is enabled but this partition does not support DualStack",type:To}],type:jn},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:yr,headers:yr},type:Po}],type:jn}],type:jn},{error:"Invalid Configuration: Missing Region",type:To}]};Nu.ruleSet=dX});var JO=E(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.defaultEndpointResolver=void 0;var uX=ds(),Fg=ls(),pX=WO(),mX=new Fg.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),fX=(t,e={})=>mX.get(t,()=>(0,Fg.resolveEndpoint)(pX.ruleSet,{endpointParams:t,logger:e.logger}));ku.defaultEndpointResolver=fX;Fg.customEndpointFunctions.aws=uX.awsEndpointFunctions});var QO=E(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.getRuntimeConfig=void 0;var hX=(Ge(),X($t)),yX=(Le(),X(bt)),gX=me(),vX=mi(),YO=Pr(),ZO=jt(),_X=Og(),bX=JO(),EX=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??YO.fromBase64,base64Encoder:t?.base64Encoder??YO.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??bX.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??_X.defaultSSOHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new hX.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new yX.NoAuthSigner}],logger:t?.logger??new gX.NoOpLogger,serviceId:t?.serviceId??"SSO",urlParser:t?.urlParser??vX.parseUrl,utf8Decoder:t?.utf8Decoder??ZO.fromUtf8,utf8Encoder:t?.utf8Encoder??ZO.toUtf8});Du.getRuntimeConfig=EX});var Oo=E((GCe,iR)=>{var SX=Object.create,za=Object.defineProperty,CX=Object.getOwnPropertyDescriptor,xX=Object.getOwnPropertyNames,wX=Object.getPrototypeOf,IX=Object.prototype.hasOwnProperty,jg=(t,e)=>za(t,"name",{value:e,configurable:!0}),TX=(t,e)=>{for(var r in e)za(t,r,{get:e[r],enumerable:!0})},rR=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of xX(e))!IX.call(t,i)&&i!==r&&za(t,i,{get:()=>e[i],enumerable:!(n=CX(e,i))||n.enumerable});return t},PX=(t,e,r)=>(r=t!=null?SX(wX(t)):{},rR(e||!t||!t.__esModule?za(r,"default",{value:t,enumerable:!0}):r,t)),AX=t=>rR(za({},"__esModule",{value:!0}),t),nR={};TX(nR,{resolveDefaultsModeConfig:()=>$X});iR.exports=AX(nR);var OX=rr(),XO=nn(),RX=gt(),NX="AWS_EXECUTION_ENV",eR="AWS_REGION",tR="AWS_DEFAULT_REGION",kX="AWS_EC2_METADATA_DISABLED",DX=["in-region","cross-region","mobile","standard","legacy"],MX="/latest/meta-data/placement/region",FX="AWS_DEFAULTS_MODE",jX="defaults_mode",LX={environmentVariableSelector:t=>t[FX],configFileSelector:t=>t[jX],default:"legacy"},$X=jg(({region:t=(0,XO.loadConfig)(OX.NODE_REGION_CONFIG_OPTIONS),defaultsMode:e=(0,XO.loadConfig)(LX)}={})=>(0,RX.memoize)(async()=>{let r=typeof e=="function"?await e():e;switch(r?.toLowerCase()){case"auto":return BX(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r?.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${DX.join(", ")}, got ${r}`)}}),"resolveDefaultsModeConfig"),BX=jg(async t=>{if(t){let e=typeof t=="function"?await t():t,r=await UX();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},"resolveNodeDefaultsModeAuto"),UX=jg(async()=>{if(process.env[NX]&&(process.env[eR]||process.env[tR]))return process.env[eR]??process.env[tR];if(!process.env[kX])try{let{getInstanceMetadataEndpoint:t,httpRequest:e}=await Promise.resolve().then(()=>PX(bs())),r=await t();return(await e({...r,path:MX})).toString()}catch{}},"inferPhysicalRegion")});var lR=E(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.getRuntimeConfig=void 0;var qX=(Eo(),X(bo)),VX=qX.__importDefault(_O()),sR=(Ge(),X($t)),oR=xo(),Mu=rr(),GX=wo(),aR=Nr(),Es=nn(),cR=ti(),HX=Io(),KX=vs(),zX=QO(),WX=me(),JX=Oo(),YX=me(),ZX=t=>{(0,YX.emitWarningIfUnsupportedVersion)(process.version);let e=(0,JX.resolveDefaultsModeConfig)(t),r=()=>e().then(WX.loadConfigsForDefaultMode),n=(0,zX.getRuntimeConfig)(t);(0,sR.emitWarningIfUnsupportedVersion)(process.version);let i={profile:t?.profile};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,Es.loadConfig)(sR.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:t?.bodyLengthChecker??HX.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,oR.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:VX.default.version}),maxAttempts:t?.maxAttempts??(0,Es.loadConfig)(aR.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,Es.loadConfig)(Mu.NODE_REGION_CONFIG_OPTIONS,{...Mu.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:cR.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Es.loadConfig)({...aR.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||KX.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??GX.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??cR.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Es.loadConfig)(Mu.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,Es.loadConfig)(Mu.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,Es.loadConfig)(oR.NODE_APP_ID_CONFIG_OPTIONS,i)}};Fu.getRuntimeConfig=ZX});var Ro=E((KCe,hR)=>{"use strict";var ju=Object.defineProperty,QX=Object.getOwnPropertyDescriptor,XX=Object.getOwnPropertyNames,eee=Object.prototype.hasOwnProperty,on=(t,e)=>ju(t,"name",{value:e,configurable:!0}),tee=(t,e)=>{for(var r in e)ju(t,r,{get:e[r],enumerable:!0})},ree=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of XX(e))!eee.call(t,i)&&i!==r&&ju(t,i,{get:()=>e[i],enumerable:!(n=QX(e,i))||n.enumerable});return t},nee=t=>ree(ju({},"__esModule",{value:!0}),t),uR={};tee(uR,{NODE_REGION_CONFIG_FILE_OPTIONS:()=>aee,NODE_REGION_CONFIG_OPTIONS:()=>oee,REGION_ENV_NAME:()=>pR,REGION_INI_NAME:()=>mR,getAwsRegionExtensionConfiguration:()=>iee,resolveAwsRegionExtensionConfiguration:()=>see,resolveRegionConfig:()=>cee});hR.exports=nee(uR);var iee=on(t=>({setRegion(e){t.region=e},region(){return t.region}}),"getAwsRegionExtensionConfiguration"),see=on(t=>({region:t.region()}),"resolveAwsRegionExtensionConfiguration"),pR="AWS_REGION",mR="region",oee={environmentVariableSelector:on(t=>t[pR],"environmentVariableSelector"),configFileSelector:on(t=>t[mR],"configFileSelector"),default:on(()=>{throw new Error("Region is missing")},"default")},aee={preferredFile:"credentials"},fR=on(t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips")),"isFipsRegion"),dR=on(t=>fR(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t,"getRealRegion"),cee=on(t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return Object.assign(t,{region:on(async()=>{if(typeof e=="string")return dR(e);let n=await e();return dR(n)},"region"),useFipsEndpoint:on(async()=>{let n=typeof e=="string"?e:await e();return fR(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()},"useFipsEndpoint")})},"resolveRegionConfig")});var WR=E((zCe,zR)=>{"use strict";var Lu=Object.defineProperty,lee=Object.getOwnPropertyDescriptor,dee=Object.getOwnPropertyNames,uee=Object.prototype.hasOwnProperty,ye=(t,e)=>Lu(t,"name",{value:e,configurable:!0}),pee=(t,e)=>{for(var r in e)Lu(t,r,{get:e[r],enumerable:!0})},mee=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of dee(e))!uee.call(t,i)&&i!==r&&Lu(t,i,{get:()=>e[i],enumerable:!(n=lee(e,i))||n.enumerable});return t},fee=t=>mee(Lu({},"__esModule",{value:!0}),t),SR={};pee(SR,{GetRoleCredentialsCommand:()=>GR,GetRoleCredentialsRequestFilterSensitiveLog:()=>NR,GetRoleCredentialsResponseFilterSensitiveLog:()=>DR,InvalidRequestException:()=>xR,ListAccountRolesCommand:()=>Lg,ListAccountRolesRequestFilterSensitiveLog:()=>MR,ListAccountsCommand:()=>$g,ListAccountsRequestFilterSensitiveLog:()=>FR,LogoutCommand:()=>HR,LogoutRequestFilterSensitiveLog:()=>jR,ResourceNotFoundException:()=>IR,RoleCredentialsFilterSensitiveLog:()=>kR,SSO:()=>KR,SSOClient:()=>Bu,SSOServiceException:()=>No,TooManyRequestsException:()=>PR,UnauthorizedException:()=>OR,__Client:()=>B.Client,paginateListAccountRoles:()=>Bee,paginateListAccounts:()=>Uee});zR.exports=fee(SR);var yR=eo(),hee=to(),yee=ro(),gR=hs(),gee=rr(),Ln=(Le(),X(bt)),vee=ho(),Ja=Fn(),vR=Nr(),_R=Og(),_ee=ye(t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"}),"resolveClientEndpointParameters"),$u={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},bee=lR(),bR=Ro(),ER=$e(),B=me(),Eee=ye(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),See=ye(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),Cee=ye((t,e)=>{let r=Object.assign((0,bR.getAwsRegionExtensionConfiguration)(t),(0,B.getDefaultExtensionConfiguration)(t),(0,ER.getHttpHandlerExtensionConfiguration)(t),Eee(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,bR.resolveAwsRegionExtensionConfiguration)(r),(0,B.resolveDefaultRuntimeConfig)(r),(0,ER.resolveHttpHandlerRuntimeConfig)(r),See(r))},"resolveRuntimeExtensions"),Bu=class extends B.Client{static{ye(this,"SSOClient")}config;constructor(...[t]){let e=(0,bee.getRuntimeConfig)(t||{});super(e),this.initConfig=e;let r=_ee(e),n=(0,gR.resolveUserAgentConfig)(r),i=(0,vR.resolveRetryConfig)(n),s=(0,gee.resolveRegionConfig)(i),o=(0,yR.resolveHostHeaderConfig)(s),a=(0,Ja.resolveEndpointConfig)(o),c=(0,_R.resolveHttpAuthSchemeConfig)(a),l=Cee(c,t?.extensions||[]);this.config=l,this.middlewareStack.use((0,gR.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,vR.getRetryPlugin)(this.config)),this.middlewareStack.use((0,vee.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,yR.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,hee.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,yee.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Ln.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:_R.defaultSSOHttpAuthSchemeParametersProvider,identityProviderConfigProvider:ye(async d=>new Ln.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Ln.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},Uu=On(),No=class CR extends B.ServiceException{static{ye(this,"SSOServiceException")}constructor(e){super(e),Object.setPrototypeOf(this,CR.prototype)}},xR=class wR extends No{static{ye(this,"InvalidRequestException")}name="InvalidRequestException";$fault="client";constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,wR.prototype)}},IR=class TR extends No{static{ye(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,TR.prototype)}},PR=class AR extends No{static{ye(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,AR.prototype)}},OR=class RR extends No{static{ye(this,"UnauthorizedException")}name="UnauthorizedException";$fault="client";constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,RR.prototype)}},NR=ye(t=>({...t,...t.accessToken&&{accessToken:B.SENSITIVE_STRING}}),"GetRoleCredentialsRequestFilterSensitiveLog"),kR=ye(t=>({...t,...t.secretAccessKey&&{secretAccessKey:B.SENSITIVE_STRING},...t.sessionToken&&{sessionToken:B.SENSITIVE_STRING}}),"RoleCredentialsFilterSensitiveLog"),DR=ye(t=>({...t,...t.roleCredentials&&{roleCredentials:kR(t.roleCredentials)}}),"GetRoleCredentialsResponseFilterSensitiveLog"),MR=ye(t=>({...t,...t.accessToken&&{accessToken:B.SENSITIVE_STRING}}),"ListAccountRolesRequestFilterSensitiveLog"),FR=ye(t=>({...t,...t.accessToken&&{accessToken:B.SENSITIVE_STRING}}),"ListAccountsRequestFilterSensitiveLog"),jR=ye(t=>({...t,...t.accessToken&&{accessToken:B.SENSITIVE_STRING}}),"LogoutRequestFilterSensitiveLog"),Wa=(Ge(),X($t)),xee=ye(async(t,e)=>{let r=(0,Ln.requestBuilder)(t,e),n=(0,B.map)({},B.isSerializableHeaderValue,{[Gu]:t[Vu]});r.bp("/federation/credentials");let i=(0,B.map)({[Lee]:[,(0,B.expectNonNull)(t[jee],"roleName")],[$R]:[,(0,B.expectNonNull)(t[LR],"accountId")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_GetRoleCredentialsCommand"),wee=ye(async(t,e)=>{let r=(0,Ln.requestBuilder)(t,e),n=(0,B.map)({},B.isSerializableHeaderValue,{[Gu]:t[Vu]});r.bp("/assignment/roles");let i=(0,B.map)({[VR]:[,t[qR]],[UR]:[()=>t.maxResults!==void 0,()=>t[BR].toString()],[$R]:[,(0,B.expectNonNull)(t[LR],"accountId")]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListAccountRolesCommand"),Iee=ye(async(t,e)=>{let r=(0,Ln.requestBuilder)(t,e),n=(0,B.map)({},B.isSerializableHeaderValue,{[Gu]:t[Vu]});r.bp("/assignment/accounts");let i=(0,B.map)({[VR]:[,t[qR]],[UR]:[()=>t.maxResults!==void 0,()=>t[BR].toString()]});return r.m("GET").h(n).q(i).b(void 0),r.build()},"se_ListAccountsCommand"),Tee=ye(async(t,e)=>{let r=(0,Ln.requestBuilder)(t,e),n=(0,B.map)({},B.isSerializableHeaderValue,{[Gu]:t[Vu]});return r.bp("/logout"),r.m("POST").h(n).b(void 0),r.build()},"se_LogoutCommand"),Pee=ye(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return qu(t,e);let r=(0,B.map)({$metadata:hi(t)}),n=(0,B.expectNonNull)((0,B.expectObject)(await(0,Wa.parseJsonBody)(t.body,e)),"body"),i=(0,B.take)(n,{roleCredentials:B._json});return Object.assign(r,i),r},"de_GetRoleCredentialsCommand"),Aee=ye(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return qu(t,e);let r=(0,B.map)({$metadata:hi(t)}),n=(0,B.expectNonNull)((0,B.expectObject)(await(0,Wa.parseJsonBody)(t.body,e)),"body"),i=(0,B.take)(n,{nextToken:B.expectString,roleList:B._json});return Object.assign(r,i),r},"de_ListAccountRolesCommand"),Oee=ye(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return qu(t,e);let r=(0,B.map)({$metadata:hi(t)}),n=(0,B.expectNonNull)((0,B.expectObject)(await(0,Wa.parseJsonBody)(t.body,e)),"body"),i=(0,B.take)(n,{accountList:B._json,nextToken:B.expectString});return Object.assign(r,i),r},"de_ListAccountsCommand"),Ree=ye(async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return qu(t,e);let r=(0,B.map)({$metadata:hi(t)});return await(0,B.collectBody)(t.body,e),r},"de_LogoutCommand"),qu=ye(async(t,e)=>{let r={...t,body:await(0,Wa.parseJsonErrorBody)(t.body,e)},n=(0,Wa.loadRestJsonErrorCode)(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await kee(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await Dee(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await Mee(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await Fee(r,e);default:let i=r.body;return Nee({output:t,parsedBody:i,errorCode:n})}},"de_CommandError"),Nee=(0,B.withBaseException)(No),kee=ye(async(t,e)=>{let r=(0,B.map)({}),n=t.body,i=(0,B.take)(n,{message:B.expectString});Object.assign(r,i);let s=new xR({$metadata:hi(t),...r});return(0,B.decorateServiceException)(s,t.body)},"de_InvalidRequestExceptionRes"),Dee=ye(async(t,e)=>{let r=(0,B.map)({}),n=t.body,i=(0,B.take)(n,{message:B.expectString});Object.assign(r,i);let s=new IR({$metadata:hi(t),...r});return(0,B.decorateServiceException)(s,t.body)},"de_ResourceNotFoundExceptionRes"),Mee=ye(async(t,e)=>{let r=(0,B.map)({}),n=t.body,i=(0,B.take)(n,{message:B.expectString});Object.assign(r,i);let s=new PR({$metadata:hi(t),...r});return(0,B.decorateServiceException)(s,t.body)},"de_TooManyRequestsExceptionRes"),Fee=ye(async(t,e)=>{let r=(0,B.map)({}),n=t.body,i=(0,B.take)(n,{message:B.expectString});Object.assign(r,i);let s=new OR({$metadata:hi(t),...r});return(0,B.decorateServiceException)(s,t.body)},"de_UnauthorizedExceptionRes"),hi=ye(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),LR="accountId",Vu="accessToken",$R="account_id",BR="maxResults",UR="max_result",qR="nextToken",VR="next_token",jee="roleName",Lee="role_name",Gu="x-amz-sso_bearer_token",GR=class extends B.Command.classBuilder().ep($u).m(function(t,e,r,n){return[(0,Uu.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ja.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("SWBPortalService","GetRoleCredentials",{}).n("SSOClient","GetRoleCredentialsCommand").f(NR,DR).ser(xee).de(Pee).build(){static{ye(this,"GetRoleCredentialsCommand")}},Lg=class extends B.Command.classBuilder().ep($u).m(function(t,e,r,n){return[(0,Uu.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ja.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccountRoles",{}).n("SSOClient","ListAccountRolesCommand").f(MR,void 0).ser(wee).de(Aee).build(){static{ye(this,"ListAccountRolesCommand")}},$g=class extends B.Command.classBuilder().ep($u).m(function(t,e,r,n){return[(0,Uu.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ja.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("SWBPortalService","ListAccounts",{}).n("SSOClient","ListAccountsCommand").f(FR,void 0).ser(Iee).de(Oee).build(){static{ye(this,"ListAccountsCommand")}},HR=class extends B.Command.classBuilder().ep($u).m(function(t,e,r,n){return[(0,Uu.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ja.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("SWBPortalService","Logout",{}).n("SSOClient","LogoutCommand").f(jR,void 0).ser(Tee).de(Ree).build(){static{ye(this,"LogoutCommand")}},$ee={GetRoleCredentialsCommand:GR,ListAccountRolesCommand:Lg,ListAccountsCommand:$g,LogoutCommand:HR},KR=class extends Bu{static{ye(this,"SSO")}};(0,B.createAggregatedClient)($ee,KR);var Bee=(0,Ln.createPaginator)(Bu,Lg,"nextToken","nextToken","maxResults"),Uee=(0,Ln.createPaginator)(Bu,$g,"nextToken","nextToken","maxResults")});function qee(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sso-oauth",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Vee(t){return{schemeId:"smithy.api#noAuth"}}var Ya,JR,YR,ZR,Bg=T(()=>{Ge();Ya=P(Xt()),JR=async(t,e,r)=>({operation:(0,Ya.getSmithyContext)(e).operation,region:await(0,Ya.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});YR=t=>{let e=[];switch(t.operation){case"CreateToken":{e.push(Vee(t));break}default:e.push(qee(t))}return e},ZR=t=>{let e=uo(t);return Object.assign(e,{authSchemePreference:(0,Ya.normalizeProvider)(t.authSchemePreference??[])})}});var QR,XR,Ug=T(()=>{QR=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"sso-oauth"}),XR={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Hu,qg=T(()=>{Hu={name:"@aws-sdk/nested-clients",version:"3.803.0",description:"Nested clients for AWS SDK packages.",main:"./dist-cjs/index.js",module:"./dist-es/index.js",types:"./dist-types/index.d.ts",scripts:{build:"yarn lint && concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline nested-clients","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo",lint:"node ../../scripts/validation/submodules-linter.js --pkg nested-clients",test:"yarn g:vitest run","test:watch":"yarn g:vitest watch"},engines:{node:">=18.0.0"},author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.799.0","@aws-sdk/middleware-host-header":"3.775.0","@aws-sdk/middleware-logger":"3.775.0","@aws-sdk/middleware-recursion-detection":"3.775.0","@aws-sdk/middleware-user-agent":"3.799.0","@aws-sdk/region-config-resolver":"3.775.0","@aws-sdk/types":"3.775.0","@aws-sdk/util-endpoints":"3.787.0","@aws-sdk/util-user-agent-browser":"3.775.0","@aws-sdk/util-user-agent-node":"3.799.0","@smithy/config-resolver":"^4.1.0","@smithy/core":"^3.3.0","@smithy/fetch-http-handler":"^5.0.2","@smithy/hash-node":"^4.0.2","@smithy/invalid-dependency":"^4.0.2","@smithy/middleware-content-length":"^4.0.2","@smithy/middleware-endpoint":"^4.1.1","@smithy/middleware-retry":"^4.1.2","@smithy/middleware-serde":"^4.0.3","@smithy/middleware-stack":"^4.0.2","@smithy/node-config-provider":"^4.0.2","@smithy/node-http-handler":"^4.0.4","@smithy/protocol-http":"^5.1.0","@smithy/smithy-client":"^4.2.1","@smithy/types":"^4.2.0","@smithy/url-parser":"^4.0.2","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.9","@smithy/util-defaults-mode-node":"^4.0.9","@smithy/util-endpoints":"^3.0.2","@smithy/util-middleware":"^4.0.2","@smithy/util-retry":"^4.0.3","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.2.2"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["./sso-oidc.d.ts","./sso-oidc.js","./sts.d.ts","./sts.js","dist-*/**"],browser:{"./dist-es/submodules/sso-oidc/runtimeConfig":"./dist-es/submodules/sso-oidc/runtimeConfig.browser","./dist-es/submodules/sts/runtimeConfig":"./dist-es/submodules/sts/runtimeConfig.browser"},"react-native":{},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/packages/nested-clients",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"packages/nested-clients"},exports:{"./sso-oidc":{types:"./dist-types/submodules/sso-oidc/index.d.ts",module:"./dist-es/submodules/sso-oidc/index.js",node:"./dist-cjs/submodules/sso-oidc/index.js",import:"./dist-es/submodules/sso-oidc/index.js",require:"./dist-cjs/submodules/sso-oidc/index.js"},"./sts":{types:"./dist-types/submodules/sts/index.d.ts",module:"./dist-es/submodules/sts/index.js",node:"./dist-cjs/submodules/sts/index.js",import:"./dist-es/submodules/sts/index.js",require:"./dist-cjs/submodules/sts/index.js"}}}});var lN,br,Er,Mo,eN,Za,ko,Do,$n,Vg,Gg,tN,rN,nN,dN,uN,_r,iN,pN,sN,oN,aN,cN,Hee,mN,fN=T(()=>{lN="required",br="fn",Er="argv",Mo="ref",eN="isSet",Za="booleanEquals",ko="error",Do="endpoint",$n="tree",Vg="PartitionResult",Gg="getAttr",tN={[lN]:!1,type:"String"},rN={[lN]:!0,default:!1,type:"Boolean"},nN={[Mo]:"Endpoint"},dN={[br]:Za,[Er]:[{[Mo]:"UseFIPS"},!0]},uN={[br]:Za,[Er]:[{[Mo]:"UseDualStack"},!0]},_r={},iN={[br]:Gg,[Er]:[{[Mo]:Vg},"supportsFIPS"]},pN={[Mo]:Vg},sN={[br]:Za,[Er]:[!0,{[br]:Gg,[Er]:[pN,"supportsDualStack"]}]},oN=[dN],aN=[uN],cN=[{[Mo]:"Region"}],Hee={version:"1.0",parameters:{Region:tN,UseDualStack:rN,UseFIPS:rN,Endpoint:tN},rules:[{conditions:[{[br]:eN,[Er]:[nN]}],rules:[{conditions:oN,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ko},{conditions:aN,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ko},{endpoint:{url:nN,properties:_r,headers:_r},type:Do}],type:$n},{conditions:[{[br]:eN,[Er]:cN}],rules:[{conditions:[{[br]:"aws.partition",[Er]:cN,assign:Vg}],rules:[{conditions:[dN,uN],rules:[{conditions:[{[br]:Za,[Er]:[!0,iN]},sN],rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_r,headers:_r},type:Do}],type:$n},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ko}],type:$n},{conditions:oN,rules:[{conditions:[{[br]:Za,[Er]:[iN,!0]}],rules:[{conditions:[{[br]:"stringEquals",[Er]:[{[br]:Gg,[Er]:[pN,"name"]},"aws-us-gov"]}],endpoint:{url:"https://oidc.{Region}.amazonaws.com",properties:_r,headers:_r},type:Do},{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:_r,headers:_r},type:Do}],type:$n},{error:"FIPS is enabled but this partition does not support FIPS",type:ko}],type:$n},{conditions:aN,rules:[{conditions:[sN],rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:_r,headers:_r},type:Do}],type:$n},{error:"DualStack is enabled but this partition does not support DualStack",type:ko}],type:$n},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:_r,headers:_r},type:Do}],type:$n}],type:$n},{error:"Invalid Configuration: Missing Region",type:ko}]},mN=Hee});var hN,Fo,Kee,yN,gN=T(()=>{hN=P(ds()),Fo=P(ls());fN();Kee=new Fo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),yN=(t,e={})=>Kee.get(t,()=>(0,Fo.resolveEndpoint)(mN,{endpointParams:t,logger:e.logger}));Fo.customEndpointFunctions.aws=hN.awsEndpointFunctions});var vN,_N,Ku,zu,bN,EN=T(()=>{Ge();Le();vN=P(me()),_N=P(mi()),Ku=P(Pr()),zu=P(jt());Bg();gN();bN=t=>({apiVersion:"2019-06-10",base64Decoder:t?.base64Decoder??Ku.fromBase64,base64Encoder:t?.base64Encoder??Ku.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??yN,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??YR,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new tr},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Nn}],logger:t?.logger??new vN.NoOpLogger,serviceId:t?.serviceId??"SSO OIDC",urlParser:t?.urlParser??_N.parseUrl,utf8Decoder:t?.utf8Decoder??zu.fromUtf8,utf8Encoder:t?.utf8Encoder??zu.toUtf8})});var Wu,gi,SN,Ju,yi,Yu,CN,xN,wN,IN,TN,PN,AN=T(()=>{qg();Ge();Wu=P(xo()),gi=P(rr()),SN=P(wo()),Ju=P(Nr()),yi=P(nn()),Yu=P(ti()),CN=P(Io()),xN=P(vs());EN();wN=P(me()),IN=P(Oo()),TN=P(me()),PN=t=>{(0,TN.emitWarningIfUnsupportedVersion)(process.version);let e=(0,IN.resolveDefaultsModeConfig)(t),r=()=>e().then(wN.loadConfigsForDefaultMode),n=bN(t);ao(process.version);let i={profile:t?.profile};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,yi.loadConfig)(Aa,i),bodyLengthChecker:t?.bodyLengthChecker??CN.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,Wu.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Hu.version}),maxAttempts:t?.maxAttempts??(0,yi.loadConfig)(Ju.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,yi.loadConfig)(gi.NODE_REGION_CONFIG_OPTIONS,{...gi.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:Yu.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,yi.loadConfig)({...Ju.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||xN.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??SN.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??Yu.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,yi.loadConfig)(gi.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,yi.loadConfig)(gi.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,yi.loadConfig)(Wu.NODE_APP_ID_CONFIG_OPTIONS,i)}}});var ON,RN,NN=T(()=>{ON=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},RN=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var Zu,Qu,Xu,kN,DN=T(()=>{Zu=P(Ro()),Qu=P($e()),Xu=P(me());NN();kN=(t,e)=>{let r=Object.assign((0,Zu.getAwsRegionExtensionConfiguration)(t),(0,Xu.getDefaultExtensionConfiguration)(t),(0,Qu.getHttpHandlerExtensionConfiguration)(t),ON(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,Zu.resolveAwsRegionExtensionConfiguration)(r),(0,Xu.resolveDefaultRuntimeConfig)(r),(0,Qu.resolveHttpHandlerRuntimeConfig)(r),RN(r))}});var ep,MN,FN,tp,jN,LN,$N,rp,Hg,Qa,Kg=T(()=>{ep=P(eo()),MN=P(to()),FN=P(ro()),tp=P(hs()),jN=P(rr());Le();LN=P(ho()),$N=P(Fn()),rp=P(Nr()),Hg=P(me());Bg();Ug();AN();DN();Qa=class extends Hg.Client{config;constructor(...[e]){let r=PN(e||{});super(r),this.initConfig=r;let n=QR(r),i=(0,tp.resolveUserAgentConfig)(n),s=(0,rp.resolveRetryConfig)(i),o=(0,jN.resolveRegionConfig)(s),a=(0,ep.resolveHostHeaderConfig)(o),c=(0,$N.resolveEndpointConfig)(a),l=ZR(c),d=kN(l,e?.extensions||[]);this.config=d,this.middlewareStack.use((0,tp.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,rp.getRetryPlugin)(this.config)),this.middlewareStack.use((0,LN.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,ep.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,MN.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,FN.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Sa(this.config,{httpAuthSchemeParametersProvider:JR,identityProviderConfigProvider:async m=>new cs({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Ca(this.config))}destroy(){super.destroy()}}});var BN,vt,np=T(()=>{BN=P(me()),vt=class t extends BN.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var Ss,Xa,ec,zg,Wg,tc,rc,nc,ic,sc,oc,ac,cc,lc,ip=T(()=>{Ss=P(me());np();Xa=class t extends vt{name="AccessDeniedException";$fault="client";error;error_description;constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ec=class t extends vt{name="AuthorizationPendingException";$fault="client";error;error_description;constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},zg=t=>({...t,...t.clientSecret&&{clientSecret:Ss.SENSITIVE_STRING},...t.refreshToken&&{refreshToken:Ss.SENSITIVE_STRING},...t.codeVerifier&&{codeVerifier:Ss.SENSITIVE_STRING}}),Wg=t=>({...t,...t.accessToken&&{accessToken:Ss.SENSITIVE_STRING},...t.refreshToken&&{refreshToken:Ss.SENSITIVE_STRING},...t.idToken&&{idToken:Ss.SENSITIVE_STRING}}),tc=class t extends vt{name="ExpiredTokenException";$fault="client";error;error_description;constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},rc=class t extends vt{name="InternalServerException";$fault="server";error;error_description;constructor(e){super({name:"InternalServerException",$fault:"server",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},nc=class t extends vt{name="InvalidClientException";$fault="client";error;error_description;constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ic=class t extends vt{name="InvalidGrantException";$fault="client";error;error_description;constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},sc=class t extends vt{name="InvalidRequestException";$fault="client";error;error_description;constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},oc=class t extends vt{name="InvalidScopeException";$fault="client";error;error_description;constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},ac=class t extends vt{name="SlowDownException";$fault="client";error;error_description;constructor(e){super({name:"SlowDownException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},cc=class t extends vt{name="UnauthorizedClientException";$fault="client";error;error_description;constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}},lc=class t extends vt{name="UnsupportedGrantTypeException";$fault="client";error;error_description;constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype),this.error=e.error,this.error_description=e.error_description}}});var F,UN,qN,zee,Wee,Jee,Yee,Zee,Qee,Xee,ete,tte,rte,nte,ite,ste,Sr,VN=T(()=>{Ge();Le();F=P(me());ip();np();UN=async(t,e)=>{let r=wa(t,e),n={"content-type":"application/json"};r.bp("/token");let i;return i=JSON.stringify((0,F.take)(t,{clientId:[],clientSecret:[],code:[],codeVerifier:[],deviceCode:[],grantType:[],redirectUri:[],refreshToken:[],scope:s=>(0,F._json)(s)})),r.m("POST").h(n).b(i),r.build()},qN=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return zee(t,e);let r=(0,F.map)({$metadata:Sr(t)}),n=(0,F.expectNonNull)((0,F.expectObject)(await $d(t.body,e)),"body"),i=(0,F.take)(n,{accessToken:F.expectString,expiresIn:F.expectInt32,idToken:F.expectString,refreshToken:F.expectString,tokenType:F.expectString});return Object.assign(r,i),r},zee=async(t,e)=>{let r={...t,body:await Ry(t.body,e)},n=Ny(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await Jee(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await Yee(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await Zee(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await Qee(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await Xee(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await ete(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await tte(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await rte(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await nte(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await ite(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await ste(r,e);default:let i=r.body;return Wee({output:t,parsedBody:i,errorCode:n})}},Wee=(0,F.withBaseException)(vt),Jee=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new Xa({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},Yee=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new ec({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},Zee=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new tc({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},Qee=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new rc({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},Xee=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new nc({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},ete=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new ic({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},tte=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new sc({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},rte=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new oc({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},nte=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new ac({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},ite=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new cc({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},ste=async(t,e)=>{let r=(0,F.map)({}),n=t.body,i=(0,F.take)(n,{error:F.expectString,error_description:F.expectString});Object.assign(r,i);let s=new lc({$metadata:Sr(t),...r});return(0,F.decorateServiceException)(s,t.body)},Sr=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]})});var GN,HN,Jg,dc,Yg=T(()=>{GN=P(Fn()),HN=P(On()),Jg=P(me());Ug();ip();VN();dc=class extends Jg.Command.classBuilder().ep(XR).m(function(e,r,n,i){return[(0,HN.getSerdePlugin)(n,this.serialize,this.deserialize),(0,GN.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSSOOIDCService","CreateToken",{}).n("SSOOIDCClient","CreateTokenCommand").f(zg,Wg).ser(UN).de(qN).build(){}});var KN,ote,sp,zN=T(()=>{KN=P(me());Yg();Kg();ote={CreateTokenCommand:dc},sp=class extends Qa{};(0,KN.createAggregatedClient)(ote,sp)});var WN=T(()=>{Yg()});var JN=T(()=>{ip()});var Zg={};$r(Zg,{$Command:()=>Jg.Command,AccessDeniedException:()=>Xa,AuthorizationPendingException:()=>ec,CreateTokenCommand:()=>dc,CreateTokenRequestFilterSensitiveLog:()=>zg,CreateTokenResponseFilterSensitiveLog:()=>Wg,ExpiredTokenException:()=>tc,InternalServerException:()=>rc,InvalidClientException:()=>nc,InvalidGrantException:()=>ic,InvalidRequestException:()=>sc,InvalidScopeException:()=>oc,SSOOIDC:()=>sp,SSOOIDCClient:()=>Qa,SSOOIDCServiceException:()=>vt,SlowDownException:()=>ac,UnauthorizedClientException:()=>cc,UnsupportedGrantTypeException:()=>lc,__Client:()=>Hg.Client});var Qg=T(()=>{Kg();zN();WN();JN();np()});var nk=E((Jxe,rk)=>{"use strict";var ate=Object.create,pc=Object.defineProperty,cte=Object.getOwnPropertyDescriptor,lte=Object.getOwnPropertyNames,dte=Object.getPrototypeOf,ute=Object.prototype.hasOwnProperty,vi=(t,e)=>pc(t,"name",{value:e,configurable:!0}),pte=(t,e)=>{for(var r in e)pc(t,r,{get:e[r],enumerable:!0})},QN=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of lte(e))!ute.call(t,i)&&i!==r&&pc(t,i,{get:()=>e[i],enumerable:!(n=cte(e,i))||n.enumerable});return t},XN=(t,e,r)=>(r=t!=null?ate(dte(t)):{},QN(e||!t||!t.__esModule?pc(r,"default",{value:t,enumerable:!0}):r,t)),mte=t=>QN(pc({},"__esModule",{value:!0}),t),ek={};pte(ek,{fromSso:()=>tk,fromStatic:()=>bte,nodeProvider:()=>Ete});rk.exports=mte(ek);var fte=5*60*1e3,Xg="To refresh this SSO session run 'aws sso login' with the corresponding profile.",hte=vi(async(t,e={})=>{let{SSOOIDCClient:r}=await Promise.resolve().then(()=>XN((Qg(),X(Zg))));return new r(Object.assign({},e.clientConfig??{},{region:t??e.clientConfig?.region,logger:e.clientConfig?.logger??e.parentClientConfig?.logger}))},"getSsoOidcClient"),yte=vi(async(t,e,r={})=>{let{CreateTokenCommand:n}=await Promise.resolve().then(()=>XN((Qg(),X(Zg))));return(await hte(e,r)).send(new n({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}))},"getNewSsoOidcToken"),Dr=gt(),YN=vi(t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Dr.TokenProviderError(`Token is expired. ${Xg}`,!1)},"validateTokenExpiry"),Cs=vi((t,e,r=!1)=>{if(typeof e>"u")throw new Dr.TokenProviderError(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${Xg}`,!1)},"validateTokenKey"),uc=pi(),gte=require("fs"),{writeFile:vte}=gte.promises,_te=vi((t,e)=>{let r=(0,uc.getSSOTokenFilepath)(t),n=JSON.stringify(e,null,2);return vte(r,n)},"writeSSOTokenToFile"),ZN=new Date(0),tk=vi((t={})=>async({callerClientConfig:e}={})=>{let r={...t,parentClientConfig:{...e,...t.parentClientConfig}};r.logger?.debug("@aws-sdk/token-providers - fromSso");let n=await(0,uc.parseKnownFiles)(r),i=(0,uc.getProfileName)({profile:r.profile??e?.profile}),s=n[i];if(s){if(!s.sso_session)throw new Dr.TokenProviderError(`Profile '${i}' is missing required property 'sso_session'.`)}else throw new Dr.TokenProviderError(`Profile '${i}' could not be found in shared credentials file.`,!1);let o=s.sso_session,c=(await(0,uc.loadSsoSessionData)(r))[o];if(!c)throw new Dr.TokenProviderError(`Sso session '${o}' could not be found in shared credentials file.`,!1);for(let v of["sso_start_url","sso_region"])if(!c[v])throw new Dr.TokenProviderError(`Sso session '${o}' is missing required property '${v}'.`,!1);let l=c.sso_start_url,d=c.sso_region,m;try{m=await(0,uc.getSSOTokenFromFile)(o)}catch{throw new Dr.TokenProviderError(`The SSO session token associated with profile=${i} was not found or is invalid. ${Xg}`,!1)}Cs("accessToken",m.accessToken),Cs("expiresAt",m.expiresAt);let{accessToken:f,expiresAt:h}=m,y={token:f,expiration:new Date(h)};if(y.expiration.getTime()-Date.now()>fte)return y;if(Date.now()-ZN.getTime()<30*1e3)return YN(y),y;Cs("clientId",m.clientId,!0),Cs("clientSecret",m.clientSecret,!0),Cs("refreshToken",m.refreshToken,!0);try{ZN.setTime(Date.now());let v=await yte(m,d,r);Cs("accessToken",v.accessToken),Cs("expiresIn",v.expiresIn);let g=new Date(Date.now()+v.expiresIn*1e3);try{await _te(o,{...m,accessToken:v.accessToken,expiresAt:g.toISOString(),refreshToken:v.refreshToken})}catch{}return{token:v.accessToken,expiration:g}}catch{return YN(y),y}},"fromSso"),bte=vi(({token:t,logger:e})=>async()=>{if(e?.debug("@aws-sdk/token-providers - fromStatic"),!t||!t.token)throw new Dr.TokenProviderError("Please pass a valid token to fromStatic",!1);return t},"fromStatic"),Ete=vi((t={})=>(0,Dr.memoize)((0,Dr.chain)(tk(t),async()=>{throw new Dr.TokenProviderError("Could not load token from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0),"nodeProvider")});var lp=E((Yxe,pk)=>{"use strict";var ap=Object.defineProperty,Ste=Object.getOwnPropertyDescriptor,ok=Object.getOwnPropertyNames,Cte=Object.prototype.hasOwnProperty,cp=(t,e)=>ap(t,"name",{value:e,configurable:!0}),xte=(t,e)=>function(){return t&&(e=(0,t[ok(t)[0]])(t=0)),e},ak=(t,e)=>{for(var r in e)ap(t,r,{get:e[r],enumerable:!0})},wte=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ok(e))!Cte.call(t,i)&&i!==r&&ap(t,i,{get:()=>e[i],enumerable:!(n=Ste(e,i))||n.enumerable});return t},Ite=t=>wte(ap({},"__esModule",{value:!0}),t),ck={};ak(ck,{GetRoleCredentialsCommand:()=>ev.GetRoleCredentialsCommand,SSOClient:()=>ev.SSOClient});var ev,Tte=xte({"src/loadSso.ts"(){"use strict";ev=WR()}}),lk={};ak(lk,{fromSSO:()=>Ate,isSsoProfile:()=>dk,validateSsoProfile:()=>uk});pk.exports=Ite(lk);var dk=cp(t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),"isSsoProfile"),ik=(Ar(),X(ii)),Pte=nk(),Mr=gt(),op=pi(),mc=!1,sk=cp(async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoClient:s,clientConfig:o,parentClientConfig:a,profile:c,logger:l})=>{let d,m="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let O=await(0,Pte.fromSso)({profile:c})();d={accessToken:O.token,expiresAt:new Date(O.expiration).toISOString()}}catch(O){throw new Mr.CredentialsProviderError(O.message,{tryNextLink:mc,logger:l})}else try{d=await(0,op.getSSOTokenFromFile)(t)}catch{throw new Mr.CredentialsProviderError(`The SSO session associated with this profile is invalid. ${m}`,{tryNextLink:mc,logger:l})}if(new Date(d.expiresAt).getTime()-Date.now()<=0)throw new Mr.CredentialsProviderError(`The SSO session associated with this profile has expired. ${m}`,{tryNextLink:mc,logger:l});let{accessToken:f}=d,{SSOClient:h,GetRoleCredentialsCommand:y}=await Promise.resolve().then(()=>(Tte(),ck)),v=s||new h(Object.assign({},o??{},{logger:o?.logger??a?.logger,region:o?.region??n})),g;try{g=await v.send(new y({accountId:r,roleName:i,accessToken:f}))}catch(O){throw new Mr.CredentialsProviderError(O,{tryNextLink:mc,logger:l})}let{roleCredentials:{accessKeyId:_,secretAccessKey:b,sessionToken:S,expiration:N,credentialScope:Q,accountId:D}={}}=g;if(!_||!b||!S||!N)throw new Mr.CredentialsProviderError("SSO returns an invalid temporary credential.",{tryNextLink:mc,logger:l});let C={accessKeyId:_,secretAccessKey:b,sessionToken:S,expiration:new Date(N),...Q&&{credentialScope:Q},...D&&{accountId:D}};return e?(0,ik.setCredentialFeature)(C,"CREDENTIALS_SSO","s"):(0,ik.setCredentialFeature)(C,"CREDENTIALS_SSO_LEGACY","u"),C},"resolveSSOCredentials"),uk=cp((t,e)=>{let{sso_start_url:r,sso_account_id:n,sso_region:i,sso_role_name:s}=t;if(!r||!n||!i||!s)throw new Mr.CredentialsProviderError(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:e});return t},"validateSsoProfile"),Ate=cp((t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:r,ssoAccountId:n,ssoRegion:i,ssoRoleName:s,ssoSession:o}=t,{ssoClient:a}=t,c=(0,op.getProfileName)({profile:t.profile??e?.profile});if(!r&&!n&&!i&&!s&&!o){let d=(await(0,op.parseKnownFiles)(t))[c];if(!d)throw new Mr.CredentialsProviderError(`Profile ${c} was not found.`,{logger:t.logger});if(!dk(d))throw new Mr.CredentialsProviderError(`Profile ${c} is not configured with SSO credentials.`,{logger:t.logger});if(d?.sso_session){let _=(await(0,op.loadSsoSessionData)(t))[d.sso_session],b=` configurations in profile ${c} and sso-session ${d.sso_session}`;if(i&&i!==_.sso_region)throw new Mr.CredentialsProviderError("Conflicting SSO region"+b,{tryNextLink:!1,logger:t.logger});if(r&&r!==_.sso_start_url)throw new Mr.CredentialsProviderError("Conflicting SSO start_url"+b,{tryNextLink:!1,logger:t.logger});d.sso_region=_.sso_region,d.sso_start_url=_.sso_start_url}let{sso_start_url:m,sso_account_id:f,sso_region:h,sso_role_name:y,sso_session:v}=uk(d,t.logger);return sk({ssoStartUrl:m,ssoSession:v,ssoAccountId:f,ssoRegion:h,ssoRoleName:y,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,profile:c})}else{if(!r||!n||!i||!s)throw new Mr.CredentialsProviderError('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:t.logger});return sk({ssoStartUrl:r,ssoSession:o,ssoAccountId:n,ssoRegion:i,ssoRoleName:s,ssoClient:a,clientConfig:t.clientConfig,parentClientConfig:t.parentClientConfig,profile:c})}},"fromSSO")});function Ote(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"sts",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function Rte(t){return{schemeId:"smithy.api#noAuth"}}var fc,mk,fk,Nte,hk,tv=T(()=>{Ge();fc=P(Xt());hc();mk=async(t,e,r)=>({operation:(0,fc.getSmithyContext)(e).operation,region:await(0,fc.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});fk=t=>{let e=[];switch(t.operation){case"AssumeRoleWithWebIdentity":{e.push(Rte(t));break}default:e.push(Ote(t))}return e},Nte=t=>Object.assign(t,{stsClientCtor:an}),hk=t=>{let e=Nte(t),r=uo(e);return Object.assign(r,{authSchemePreference:(0,fc.normalizeProvider)(t.authSchemePreference??[])})}});var yk,dp,up=T(()=>{yk=t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"}),dp={UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}});var Tk,pe,Ce,xe,bi,_i,Ct,Pk,Ak,Ok,Be,gk,cn,jo,nv,vk,rv,Rk,_k,xt,bk,Nk,kk,Ot,nr,Ek,Dk,Mk,Sk,Fk,Ck,xk,wk,Ik,kte,jk,Lk=T(()=>{Tk="required",pe="type",Ce="fn",xe="argv",bi="ref",_i="booleanEquals",Ct="stringEquals",Pk="sigv4",Ak="sts",Ok="us-east-1",Be="endpoint",gk="https://sts.{Region}.{PartitionResult#dnsSuffix}",cn="tree",jo="error",nv="getAttr",vk={[Tk]:!1,[pe]:"String"},rv={[Tk]:!0,default:!1,[pe]:"Boolean"},Rk={[bi]:"Endpoint"},_k={[Ce]:"isSet",[xe]:[{[bi]:"Region"}]},xt={[bi]:"Region"},bk={[Ce]:"aws.partition",[xe]:[xt],assign:"PartitionResult"},Nk={[bi]:"UseFIPS"},kk={[bi]:"UseDualStack"},Ot={url:"https://sts.amazonaws.com",properties:{authSchemes:[{name:Pk,signingName:Ak,signingRegion:Ok}]},headers:{}},nr={},Ek={conditions:[{[Ce]:Ct,[xe]:[xt,"aws-global"]}],[Be]:Ot,[pe]:Be},Dk={[Ce]:_i,[xe]:[Nk,!0]},Mk={[Ce]:_i,[xe]:[kk,!0]},Sk={[Ce]:nv,[xe]:[{[bi]:"PartitionResult"},"supportsFIPS"]},Fk={[bi]:"PartitionResult"},Ck={[Ce]:_i,[xe]:[!0,{[Ce]:nv,[xe]:[Fk,"supportsDualStack"]}]},xk=[{[Ce]:"isSet",[xe]:[Rk]}],wk=[Dk],Ik=[Mk],kte={version:"1.0",parameters:{Region:vk,UseDualStack:rv,UseFIPS:rv,Endpoint:vk,UseGlobalEndpoint:rv},rules:[{conditions:[{[Ce]:_i,[xe]:[{[bi]:"UseGlobalEndpoint"},!0]},{[Ce]:"not",[xe]:xk},_k,bk,{[Ce]:_i,[xe]:[Nk,!1]},{[Ce]:_i,[xe]:[kk,!1]}],rules:[{conditions:[{[Ce]:Ct,[xe]:[xt,"ap-northeast-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"ap-south-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"ap-southeast-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"ap-southeast-2"]}],endpoint:Ot,[pe]:Be},Ek,{conditions:[{[Ce]:Ct,[xe]:[xt,"ca-central-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"eu-central-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"eu-north-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"eu-west-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"eu-west-2"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"eu-west-3"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"sa-east-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,Ok]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"us-east-2"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"us-west-1"]}],endpoint:Ot,[pe]:Be},{conditions:[{[Ce]:Ct,[xe]:[xt,"us-west-2"]}],endpoint:Ot,[pe]:Be},{endpoint:{url:gk,properties:{authSchemes:[{name:Pk,signingName:Ak,signingRegion:"{Region}"}]},headers:nr},[pe]:Be}],[pe]:cn},{conditions:xk,rules:[{conditions:wk,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[pe]:jo},{conditions:Ik,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[pe]:jo},{endpoint:{url:Rk,properties:nr,headers:nr},[pe]:Be}],[pe]:cn},{conditions:[_k],rules:[{conditions:[bk],rules:[{conditions:[Dk,Mk],rules:[{conditions:[{[Ce]:_i,[xe]:[!0,Sk]},Ck],rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nr,headers:nr},[pe]:Be}],[pe]:cn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[pe]:jo}],[pe]:cn},{conditions:wk,rules:[{conditions:[{[Ce]:_i,[xe]:[Sk,!0]}],rules:[{conditions:[{[Ce]:Ct,[xe]:[{[Ce]:nv,[xe]:[Fk,"name"]},"aws-us-gov"]}],endpoint:{url:"https://sts.{Region}.amazonaws.com",properties:nr,headers:nr},[pe]:Be},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",properties:nr,headers:nr},[pe]:Be}],[pe]:cn},{error:"FIPS is enabled but this partition does not support FIPS",[pe]:jo}],[pe]:cn},{conditions:Ik,rules:[{conditions:[Ck],rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:nr,headers:nr},[pe]:Be}],[pe]:cn},{error:"DualStack is enabled but this partition does not support DualStack",[pe]:jo}],[pe]:cn},Ek,{endpoint:{url:gk,properties:nr,headers:nr},[pe]:Be}],[pe]:cn}],[pe]:cn},{error:"Invalid Configuration: Missing Region",[pe]:jo}]},jk=kte});var $k,Lo,Dte,Bk,Uk=T(()=>{$k=P(ds()),Lo=P(ls());Lk();Dte=new Lo.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS","UseGlobalEndpoint"]}),Bk=(t,e={})=>Dte.get(t,()=>(0,Lo.resolveEndpoint)(jk,{endpointParams:t,logger:e.logger}));Lo.customEndpointFunctions.aws=$k.awsEndpointFunctions});var qk,Vk,pp,mp,Gk,Hk=T(()=>{Ge();Le();qk=P(me()),Vk=P(mi()),pp=P(Pr()),mp=P(jt());tv();Uk();Gk=t=>({apiVersion:"2011-06-15",base64Decoder:t?.base64Decoder??pp.fromBase64,base64Encoder:t?.base64Encoder??pp.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Bk,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??fk,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new tr},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Nn}],logger:t?.logger??new qk.NoOpLogger,serviceId:t?.serviceId??"STS",urlParser:t?.urlParser??Vk.parseUrl,utf8Decoder:t?.utf8Decoder??mp.fromUtf8,utf8Encoder:t?.utf8Encoder??mp.toUtf8})});var fp,Si,Kk,hp,Ei,yp,zk,Wk,Jk,Yk,Zk,Qk,Xk=T(()=>{qg();Ge();fp=P(xo()),Si=P(rr());Le();Kk=P(wo()),hp=P(Nr()),Ei=P(nn()),yp=P(ti()),zk=P(Io()),Wk=P(vs());Hk();Jk=P(me()),Yk=P(Oo()),Zk=P(me()),Qk=t=>{(0,Zk.emitWarningIfUnsupportedVersion)(process.version);let e=(0,Yk.resolveDefaultsModeConfig)(t),r=()=>e().then(Jk.loadConfigsForDefaultMode),n=Gk(t);ao(process.version);let i={profile:t?.profile};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,Ei.loadConfig)(Aa,i),bodyLengthChecker:t?.bodyLengthChecker??zk.calculateBodyLength,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,fp.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Hu.version}),httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:s=>s.getIdentityProvider("aws.auth#sigv4")||(async o=>await t.credentialDefaultProvider(o?.__config||{})()),signer:new tr},{schemeId:"smithy.api#noAuth",identityProvider:s=>s.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Nn}],maxAttempts:t?.maxAttempts??(0,Ei.loadConfig)(hp.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,Ei.loadConfig)(Si.NODE_REGION_CONFIG_OPTIONS,{...Si.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:yp.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Ei.loadConfig)({...hp.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Wk.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??Kk.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??yp.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Ei.loadConfig)(Si.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,Ei.loadConfig)(Si.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,Ei.loadConfig)(fp.NODE_APP_ID_CONFIG_OPTIONS,i)}}});var eD,tD,rD=T(()=>{eD=t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},tD=t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()})});var gp,vp,_p,nD,iD=T(()=>{gp=P(Ro()),vp=P($e()),_p=P(me());rD();nD=(t,e)=>{let r=Object.assign((0,gp.getAwsRegionExtensionConfiguration)(t),(0,_p.getDefaultExtensionConfiguration)(t),(0,vp.getHttpHandlerExtensionConfiguration)(t),eD(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,gp.resolveAwsRegionExtensionConfiguration)(r),(0,_p.resolveDefaultRuntimeConfig)(r),(0,vp.resolveHttpHandlerRuntimeConfig)(r),tD(r))}});var bp,sD,oD,Ep,aD,cD,lD,Sp,iv,an,hc=T(()=>{bp=P(eo()),sD=P(to()),oD=P(ro()),Ep=P(hs()),aD=P(rr());Le();cD=P(ho()),lD=P(Fn()),Sp=P(Nr()),iv=P(me());tv();up();Xk();iD();an=class extends iv.Client{config;constructor(...[e]){let r=Qk(e||{});super(r),this.initConfig=r;let n=yk(r),i=(0,Ep.resolveUserAgentConfig)(n),s=(0,Sp.resolveRetryConfig)(i),o=(0,aD.resolveRegionConfig)(s),a=(0,bp.resolveHostHeaderConfig)(o),c=(0,lD.resolveEndpointConfig)(a),l=hk(c),d=nD(l,e?.extensions||[]);this.config=d,this.middlewareStack.use((0,Ep.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,Sp.getRetryPlugin)(this.config)),this.middlewareStack.use((0,cD.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,bp.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,sD.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,oD.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use(Sa(this.config,{httpAuthSchemeParametersProvider:mk,identityProviderConfigProvider:async m=>new cs({"aws.auth#sigv4":m.credentials})})),this.middlewareStack.use(Ca(this.config))}destroy(){super.destroy()}}});var dD,Wt,Cp=T(()=>{dD=P(me()),Wt=class t extends dD.ServiceException{constructor(e){super(e),Object.setPrototypeOf(this,t.prototype)}}});var sv,ov,av,yc,gc,vc,_c,bc,Ec,cv,lv,Sc,Cc=T(()=>{sv=P(me());Cp();ov=t=>({...t,...t.SecretAccessKey&&{SecretAccessKey:sv.SENSITIVE_STRING}}),av=t=>({...t,...t.Credentials&&{Credentials:ov(t.Credentials)}}),yc=class t extends Wt{name="ExpiredTokenException";$fault="client";constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},gc=class t extends Wt{name="MalformedPolicyDocumentException";$fault="client";constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},vc=class t extends Wt{name="PackedPolicyTooLargeException";$fault="client";constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},_c=class t extends Wt{name="RegionDisabledException";$fault="client";constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},bc=class t extends Wt{name="IDPRejectedClaimException";$fault="client";constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},Ec=class t extends Wt{name="InvalidIdentityTokenException";$fault="client";constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}},cv=t=>({...t,...t.WebIdentityToken&&{WebIdentityToken:sv.SENSITIVE_STRING}}),lv=t=>({...t,...t.Credentials&&{Credentials:ov(t.Credentials)}}),Sc=class t extends Wt{name="IDPCommunicationErrorException";$fault="client";constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),Object.setPrototypeOf(this,t.prototype)}}});var uD,fe,pD,mD,fD,hD,yD,Mte,Fte,jte,Lte,$te,Bte,Ute,qte,Vte,gD,Gte,Hte,Kte,zte,Wte,Jte,vD,Yte,Zte,_D,Qte,Xte,ere,tre,rre,nre,ire,Un,sre,bD,ED,SD,CD,dv,ore,uv,$o,are,pv,mv,Bo,fv,Uo,hv,yv,gv,qo,Vo,vv,_v,bv,Go,Ev,Ho,Ko,Sv,Cv,Bn,xv,wv,Iv,Tv,Pv,xD,Av,Ov,Rv,et,wD,cre,Nv=T(()=>{Ge();uD=P($e()),fe=P(me());Cc();Cp();pD=async(t,e)=>{let r=ED,n;return n=wD({...qte(t,e),[CD]:ore,[xD]:SD}),bD(e,r,"/",void 0,n)},mD=async(t,e)=>{let r=ED,n;return n=wD({...Vte(t,e),[CD]:are,[xD]:SD}),bD(e,r,"/",void 0,n)},fD=async(t,e)=>{if(t.statusCode>=300)return yD(t,e);let r=await ja(t.body,e),n={};return n=Yte(r.AssumeRoleResult,e),{$metadata:Un(t),...n}},hD=async(t,e)=>{if(t.statusCode>=300)return yD(t,e);let r=await ja(t.body,e),n={};return n=Zte(r.AssumeRoleWithWebIdentityResult,e),{$metadata:Un(t),...n}},yD=async(t,e)=>{let r={...t,body:await Uy(t.body,e)},n=cre(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Mte(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await $te(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Bte(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Ute(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await Fte(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await jte(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await Lte(r,e);default:let i=r.body;return sre({output:t,parsedBody:i.Error,errorCode:n})}},Mte=async(t,e)=>{let r=t.body,n=Qte(r.Error,e),i=new yc({$metadata:Un(t),...n});return(0,fe.decorateServiceException)(i,r)},Fte=async(t,e)=>{let r=t.body,n=Xte(r.Error,e),i=new Sc({$metadata:Un(t),...n});return(0,fe.decorateServiceException)(i,r)},jte=async(t,e)=>{let r=t.body,n=ere(r.Error,e),i=new bc({$metadata:Un(t),...n});return(0,fe.decorateServiceException)(i,r)},Lte=async(t,e)=>{let r=t.body,n=tre(r.Error,e),i=new Ec({$metadata:Un(t),...n});return(0,fe.decorateServiceException)(i,r)},$te=async(t,e)=>{let r=t.body,n=rre(r.Error,e),i=new gc({$metadata:Un(t),...n});return(0,fe.decorateServiceException)(i,r)},Bte=async(t,e)=>{let r=t.body,n=nre(r.Error,e),i=new vc({$metadata:Un(t),...n});return(0,fe.decorateServiceException)(i,r)},Ute=async(t,e)=>{let r=t.body,n=ire(r.Error,e),i=new _c({$metadata:Un(t),...n});return(0,fe.decorateServiceException)(i,r)},qte=(t,e)=>{let r={};if(t[Ho]!=null&&(r[Ho]=t[Ho]),t[Ko]!=null&&(r[Ko]=t[Ko]),t[Vo]!=null){let n=gD(t[Vo],e);t[Vo]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,s])=>{let o=`PolicyArns.${i}`;r[o]=s})}if(t[qo]!=null&&(r[qo]=t[qo]),t[Uo]!=null&&(r[Uo]=t[Uo]),t[Iv]!=null){let n=Jte(t[Iv],e);t[Iv]?.length===0&&(r.Tags=[]),Object.entries(n).forEach(([i,s])=>{let o=`Tags.${i}`;r[o]=s})}if(t[Pv]!=null){let n=Wte(t[Pv],e);t[Pv]?.length===0&&(r.TransitiveTagKeys=[]),Object.entries(n).forEach(([i,s])=>{let o=`TransitiveTagKeys.${i}`;r[o]=s})}if(t[yv]!=null&&(r[yv]=t[yv]),t[xv]!=null&&(r[xv]=t[xv]),t[Tv]!=null&&(r[Tv]=t[Tv]),t[Bn]!=null&&(r[Bn]=t[Bn]),t[_v]!=null){let n=Kte(t[_v],e);t[_v]?.length===0&&(r.ProvidedContexts=[]),Object.entries(n).forEach(([i,s])=>{let o=`ProvidedContexts.${i}`;r[o]=s})}return r},Vte=(t,e)=>{let r={};if(t[Ho]!=null&&(r[Ho]=t[Ho]),t[Ko]!=null&&(r[Ko]=t[Ko]),t[Ov]!=null&&(r[Ov]=t[Ov]),t[bv]!=null&&(r[bv]=t[bv]),t[Vo]!=null){let n=gD(t[Vo],e);t[Vo]?.length===0&&(r.PolicyArns=[]),Object.entries(n).forEach(([i,s])=>{let o=`PolicyArns.${i}`;r[o]=s})}return t[qo]!=null&&(r[qo]=t[qo]),t[Uo]!=null&&(r[Uo]=t[Uo]),r},gD=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let s=Gte(i,e);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},Gte=(t,e)=>{let r={};return t[Rv]!=null&&(r[Rv]=t[Rv]),r},Hte=(t,e)=>{let r={};return t[vv]!=null&&(r[vv]=t[vv]),t[fv]!=null&&(r[fv]=t[fv]),r},Kte=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let s=Hte(i,e);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},zte=(t,e)=>{let r={};return t[gv]!=null&&(r[gv]=t[gv]),t[Av]!=null&&(r[Av]=t[Av]),r},Wte=(t,e)=>{let r={},n=1;for(let i of t)i!==null&&(r[`member.${n}`]=i,n++);return r},Jte=(t,e)=>{let r={},n=1;for(let i of t){if(i===null)continue;let s=zte(i,e);Object.entries(s).forEach(([o,a])=>{r[`member.${n}.${o}`]=a}),n++}return r},vD=(t,e)=>{let r={};return t[uv]!=null&&(r[uv]=(0,fe.expectString)(t[uv])),t[pv]!=null&&(r[pv]=(0,fe.expectString)(t[pv])),r},Yte=(t,e)=>{let r={};return t[Bo]!=null&&(r[Bo]=_D(t[Bo],e)),t[$o]!=null&&(r[$o]=vD(t[$o],e)),t[Go]!=null&&(r[Go]=(0,fe.strictParseInt32)(t[Go])),t[Bn]!=null&&(r[Bn]=(0,fe.expectString)(t[Bn])),r},Zte=(t,e)=>{let r={};return t[Bo]!=null&&(r[Bo]=_D(t[Bo],e)),t[Cv]!=null&&(r[Cv]=(0,fe.expectString)(t[Cv])),t[$o]!=null&&(r[$o]=vD(t[$o],e)),t[Go]!=null&&(r[Go]=(0,fe.strictParseInt32)(t[Go])),t[Ev]!=null&&(r[Ev]=(0,fe.expectString)(t[Ev])),t[mv]!=null&&(r[mv]=(0,fe.expectString)(t[mv])),t[Bn]!=null&&(r[Bn]=(0,fe.expectString)(t[Bn])),r},_D=(t,e)=>{let r={};return t[dv]!=null&&(r[dv]=(0,fe.expectString)(t[dv])),t[Sv]!=null&&(r[Sv]=(0,fe.expectString)(t[Sv])),t[wv]!=null&&(r[wv]=(0,fe.expectString)(t[wv])),t[hv]!=null&&(r[hv]=(0,fe.expectNonNull)((0,fe.parseRfc3339DateTimeWithOffset)(t[hv]))),r},Qte=(t,e)=>{let r={};return t[et]!=null&&(r[et]=(0,fe.expectString)(t[et])),r},Xte=(t,e)=>{let r={};return t[et]!=null&&(r[et]=(0,fe.expectString)(t[et])),r},ere=(t,e)=>{let r={};return t[et]!=null&&(r[et]=(0,fe.expectString)(t[et])),r},tre=(t,e)=>{let r={};return t[et]!=null&&(r[et]=(0,fe.expectString)(t[et])),r},rre=(t,e)=>{let r={};return t[et]!=null&&(r[et]=(0,fe.expectString)(t[et])),r},nre=(t,e)=>{let r={};return t[et]!=null&&(r[et]=(0,fe.expectString)(t[et])),r},ire=(t,e)=>{let r={};return t[et]!=null&&(r[et]=(0,fe.expectString)(t[et])),r},Un=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),sre=(0,fe.withBaseException)(Wt),bD=async(t,e,r,n,i)=>{let{hostname:s,protocol:o="https",port:a,path:c}=await t.endpoint(),l={protocol:o,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new uD.HttpRequest(l)},ED={"content-type":"application/x-www-form-urlencoded"},SD="2011-06-15",CD="Action",dv="AccessKeyId",ore="AssumeRole",uv="AssumedRoleId",$o="AssumedRoleUser",are="AssumeRoleWithWebIdentity",pv="Arn",mv="Audience",Bo="Credentials",fv="ContextAssertion",Uo="DurationSeconds",hv="Expiration",yv="ExternalId",gv="Key",qo="Policy",Vo="PolicyArns",vv="ProviderArn",_v="ProvidedContexts",bv="ProviderId",Go="PackedPolicySize",Ev="Provider",Ho="RoleArn",Ko="RoleSessionName",Sv="SecretAccessKey",Cv="SubjectFromWebIdentityToken",Bn="SourceIdentity",xv="SerialNumber",wv="SessionToken",Iv="Tags",Tv="TokenCode",Pv="TransitiveTagKeys",xD="Version",Av="Value",Ov="WebIdentityToken",Rv="arn",et="message",wD=t=>Object.entries(t).map(([e,r])=>(0,fe.extendedEncodeURIComponent)(e)+"="+(0,fe.extendedEncodeURIComponent)(r)).join("&"),cre=(t,e)=>{if(e.Error?.Code!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"}});var ID,TD,PD,xs,xp=T(()=>{ID=P(Fn()),TD=P(On()),PD=P(me());up();Cc();Nv();xs=class extends PD.Command.classBuilder().ep(dp).m(function(e,r,n,i){return[(0,TD.getSerdePlugin)(n,this.serialize,this.deserialize),(0,ID.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRole",{}).n("STSClient","AssumeRoleCommand").f(void 0,av).ser(pD).de(fD).build(){}});var AD,OD,RD,ws,wp=T(()=>{AD=P(Fn()),OD=P(On()),RD=P(me());up();Cc();Nv();ws=class extends RD.Command.classBuilder().ep(dp).m(function(e,r,n,i){return[(0,OD.getSerdePlugin)(n,this.serialize,this.deserialize),(0,AD.getEndpointPlugin)(n,e.getEndpointParameterInstructions())]}).s("AWSSecurityTokenServiceV20110615","AssumeRoleWithWebIdentity",{}).n("STSClient","AssumeRoleWithWebIdentityCommand").f(cv,lv).ser(mD).de(hD).build(){}});var ND,lre,Ip,kD=T(()=>{ND=P(me());xp();wp();hc();lre={AssumeRoleCommand:xs,AssumeRoleWithWebIdentityCommand:ws},Ip=class extends an{};(0,ND.createAggregatedClient)(lre,Ip)});var DD=T(()=>{xp();wp()});var MD=T(()=>{Cc()});var FD,jD,LD,$D,BD,UD,qD=T(()=>{Ar();xp();wp();FD="us-east-1",jD=t=>{if(typeof t?.Arn=="string"){let e=t.Arn.split(":");if(e.length>4&&e[4]!=="")return e[4]}},LD=async(t,e,r)=>{let n=typeof t=="function"?await t():t,i=typeof e=="function"?await e():e;return r?.debug?.("@aws-sdk/client-sts::resolveRegion","accepting first of:",`${n} (provider)`,`${i} (parent client)`,`${FD} (STS default)`),n??i??FD},$D=(t,e)=>{let r,n;return async(i,s)=>{if(n=i,!r){let{logger:d=t?.parentClientConfig?.logger,region:m,requestHandler:f=t?.parentClientConfig?.requestHandler,credentialProviderLogger:h}=t,y=await LD(m,t?.parentClientConfig?.region,h),v=!UD(f);r=new e({profile:t?.parentClientConfig?.profile,credentialDefaultProvider:()=>async()=>n,region:y,requestHandler:v?f:void 0,logger:d})}let{Credentials:o,AssumedRoleUser:a}=await r.send(new xs(s));if(!o||!o.AccessKeyId||!o.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${s.RoleArn}`);let c=jD(a),l={accessKeyId:o.AccessKeyId,secretAccessKey:o.SecretAccessKey,sessionToken:o.SessionToken,expiration:o.Expiration,...o.CredentialScope&&{credentialScope:o.CredentialScope},...c&&{accountId:c}};return ni(l,"CREDENTIALS_STS_ASSUME_ROLE","i"),l}},BD=(t,e)=>{let r;return async n=>{if(!r){let{logger:c=t?.parentClientConfig?.logger,region:l,requestHandler:d=t?.parentClientConfig?.requestHandler,credentialProviderLogger:m}=t,f=await LD(l,t?.parentClientConfig?.region,m),h=!UD(d);r=new e({profile:t?.parentClientConfig?.profile,region:f,requestHandler:h?d:void 0,logger:c})}let{Credentials:i,AssumedRoleUser:s}=await r.send(new ws(n));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);let o=jD(s),a={accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration,...i.CredentialScope&&{credentialScope:i.CredentialScope},...o&&{accountId:o}};return o&&ni(a,"RESOLVED_ACCOUNT_ID","T"),ni(a,"CREDENTIALS_STS_ASSUME_ROLE_WEB_ID","k"),a}},UD=t=>t?.metadata?.handlerProtocol==="h2"});var VD,GD,HD,dre,KD=T(()=>{qD();hc();VD=(t,e)=>e?class extends t{constructor(n){super(n);for(let i of e)this.middlewareStack.use(i)}}:t,GD=(t={},e)=>$D(t,VD(an,e)),HD=(t={},e)=>BD(t,VD(an,e)),dre=t=>e=>t({roleAssumer:GD(e),roleAssumerWithWebIdentity:HD(e),...e})});var Tp={};$r(Tp,{AssumeRoleCommand:()=>xs,AssumeRoleResponseFilterSensitiveLog:()=>av,AssumeRoleWithWebIdentityCommand:()=>ws,AssumeRoleWithWebIdentityRequestFilterSensitiveLog:()=>cv,AssumeRoleWithWebIdentityResponseFilterSensitiveLog:()=>lv,CredentialsFilterSensitiveLog:()=>ov,ExpiredTokenException:()=>yc,IDPCommunicationErrorException:()=>Sc,IDPRejectedClaimException:()=>bc,InvalidIdentityTokenException:()=>Ec,MalformedPolicyDocumentException:()=>gc,PackedPolicyTooLargeException:()=>vc,RegionDisabledException:()=>_c,STS:()=>Ip,STSClient:()=>an,STSServiceException:()=>Wt,__Client:()=>iv.Client,decorateDefaultCredentialProvider:()=>dre,getDefaultRoleAssumer:()=>GD,getDefaultRoleAssumerWithWebIdentity:()=>HD});var Pp=T(()=>{hc();kD();DD();MD();KD();Cp()});var Op=E((a0e,JD)=>{"use strict";var Ap=Object.defineProperty,ure=Object.getOwnPropertyDescriptor,pre=Object.getOwnPropertyNames,mre=Object.prototype.hasOwnProperty,Dv=(t,e)=>Ap(t,"name",{value:e,configurable:!0}),fre=(t,e)=>{for(var r in e)Ap(t,r,{get:e[r],enumerable:!0})},hre=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pre(e))!mre.call(t,i)&&i!==r&&Ap(t,i,{get:()=>e[i],enumerable:!(n=ure(e,i))||n.enumerable});return t},yre=t=>hre(Ap({},"__esModule",{value:!0}),t),WD={};fre(WD,{fromProcess:()=>Sre});JD.exports=yre(WD);var zD=pi(),kv=gt(),gre=require("child_process"),vre=require("util"),_re=(Ar(),X(ii)),bre=Dv((t,e,r)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let s=new Date;if(new Date(e.Expiration)<s)throw Error(`Profile ${t} credential_process returned expired credentials.`)}let n=e.AccountId;!n&&r?.[t]?.aws_account_id&&(n=r[t].aws_account_id);let i={accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)},...e.CredentialScope&&{credentialScope:e.CredentialScope},...n&&{accountId:n}};return(0,_re.setCredentialFeature)(i,"CREDENTIALS_PROCESS","w"),i},"getValidatedProcessCredentials"),Ere=Dv(async(t,e,r)=>{let n=e[t];if(e[t]){let i=n.credential_process;if(i!==void 0){let s=(0,vre.promisify)(gre.exec);try{let{stdout:o}=await s(i),a;try{a=JSON.parse(o.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return bre(t,a,e)}catch(o){throw new kv.CredentialsProviderError(o.message,{logger:r})}}else throw new kv.CredentialsProviderError(`Profile ${t} did not contain credential_process.`,{logger:r})}else throw new kv.CredentialsProviderError(`Profile ${t} could not be found in shared credentials file.`,{logger:r})},"resolveProcessCredentials"),Sre=Dv((t={})=>async({callerClientConfig:e}={})=>{t.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let r=await(0,zD.parseKnownFiles)(t);return Ere((0,zD.getProfileName)({profile:t.profile??e?.profile}),r,t.logger)},"fromProcess")});var Mv=E(ln=>{"use strict";var Cre=ln&&ln.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),xre=ln&&ln.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),wre=ln&&ln.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&Cre(e,t,r);return xre(e,t),e};Object.defineProperty(ln,"__esModule",{value:!0});ln.fromWebToken=void 0;var Ire=t=>async e=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:r,roleSessionName:n,webIdentityToken:i,providerId:s,policyArns:o,policy:a,durationSeconds:c}=t,{roleAssumerWithWebIdentity:l}=t;if(!l){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.resolve().then(()=>wre((Pp(),X(Tp))));l=d({...t.clientConfig,credentialProviderLogger:t.logger,parentClientConfig:{...e?.callerClientConfig,...t.parentClientConfig}},t.clientPlugins)}return l({RoleArn:r,RoleSessionName:n??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:i,ProviderId:s,PolicyArns:o,Policy:a,DurationSeconds:c})};ln.fromWebToken=Ire});var ZD=E(Rp=>{"use strict";Object.defineProperty(Rp,"__esModule",{value:!0});Rp.fromTokenFile=void 0;var Tre=(Ar(),X(ii)),Pre=gt(),Are=require("fs"),Ore=Mv(),YD="AWS_WEB_IDENTITY_TOKEN_FILE",Rre="AWS_ROLE_ARN",Nre="AWS_ROLE_SESSION_NAME",kre=(t={})=>async()=>{t.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let e=t?.webIdentityTokenFile??process.env[YD],r=t?.roleArn??process.env[Rre],n=t?.roleSessionName??process.env[Nre];if(!e||!r)throw new Pre.CredentialsProviderError("Web identity configuration not specified",{logger:t.logger});let i=await(0,Ore.fromWebToken)({...t,webIdentityToken:(0,Are.readFileSync)(e,{encoding:"ascii"}),roleArn:r,roleSessionName:n})();return e===process.env[YD]&&(0,Tre.setCredentialFeature)(i,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),i};Rp.fromTokenFile=kre});var xc=E((d0e,Np)=>{"use strict";var QD=Object.defineProperty,Dre=Object.getOwnPropertyDescriptor,Mre=Object.getOwnPropertyNames,Fre=Object.prototype.hasOwnProperty,Fv=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Mre(e))!Fre.call(t,i)&&i!==r&&QD(t,i,{get:()=>e[i],enumerable:!(n=Dre(e,i))||n.enumerable});return t},XD=(t,e,r)=>(Fv(t,e,"default"),r&&Fv(r,e,"default")),jre=t=>Fv(QD({},"__esModule",{value:!0}),t),jv={};Np.exports=jre(jv);XD(jv,ZD(),Np.exports);XD(jv,Mv(),Np.exports)});var Bv=E((u0e,oM)=>{"use strict";var Lre=Object.create,Ic=Object.defineProperty,$re=Object.getOwnPropertyDescriptor,Bre=Object.getOwnPropertyNames,Ure=Object.getPrototypeOf,qre=Object.prototype.hasOwnProperty,dt=(t,e)=>Ic(t,"name",{value:e,configurable:!0}),Vre=(t,e)=>{for(var r in e)Ic(t,r,{get:e[r],enumerable:!0})},nM=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Bre(e))!qre.call(t,i)&&i!==r&&Ic(t,i,{get:()=>e[i],enumerable:!(n=$re(e,i))||n.enumerable});return t},Ci=(t,e,r)=>(r=t!=null?Lre(Ure(t)):{},nM(e||!t||!t.__esModule?Ic(r,"default",{value:t,enumerable:!0}):r,t)),Gre=t=>nM(Ic({},"__esModule",{value:!0}),t),iM={};Vre(iM,{fromIni:()=>rne});oM.exports=Gre(iM);var $v=pi(),xi=(Ar(),X(ii)),wc=gt(),Hre=dt((t,e,r)=>{let n={EcsContainer:dt(async i=>{let{fromHttp:s}=await Promise.resolve().then(()=>Ci(Iu())),{fromContainerMetadata:o}=await Promise.resolve().then(()=>Ci(bs()));return r?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,wc.chain)(s(i??{}),o(i))().then(Lv)},"EcsContainer"),Ec2InstanceMetadata:dt(async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:s}=await Promise.resolve().then(()=>Ci(bs()));return async()=>s(i)().then(Lv)},"Ec2InstanceMetadata"),Environment:dt(async i=>{r?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:s}=await Promise.resolve().then(()=>Ci(vu()));return async()=>s(i)().then(Lv)},"Environment")};if(t in n)return n[t];throw new wc.CredentialsProviderError(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:r})},"resolveCredentialSource"),Lv=dt(t=>(0,xi.setCredentialFeature)(t,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),"setNamedProvider"),Kre=dt((t,{profile:e="default",logger:r}={})=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(zre(t,{profile:e,logger:r})||Wre(t,{profile:e,logger:r})),"isAssumeRoleProfile"),zre=dt((t,{profile:e,logger:r})=>{let n=typeof t.source_profile=="string"&&typeof t.credential_source>"u";return n&&r?.debug?.(`    ${e} isAssumeRoleWithSourceProfile source_profile=${t.source_profile}`),n},"isAssumeRoleWithSourceProfile"),Wre=dt((t,{profile:e,logger:r})=>{let n=typeof t.credential_source=="string"&&typeof t.source_profile>"u";return n&&r?.debug?.(`    ${e} isCredentialSourceProfile credential_source=${t.credential_source}`),n},"isCredentialSourceProfile"),Jre=dt(async(t,e,r,n={})=>{r.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let i=e[t],{source_profile:s,region:o}=i;if(!r.roleAssumer){let{getDefaultRoleAssumer:c}=await Promise.resolve().then(()=>Ci((Pp(),X(Tp))));r.roleAssumer=c({...r.clientConfig,credentialProviderLogger:r.logger,parentClientConfig:{...r?.parentClientConfig,region:o??r?.parentClientConfig?.region}},r.clientPlugins)}if(s&&s in n)throw new wc.CredentialsProviderError(`Detected a cycle attempting to resolve credentials for profile ${(0,$v.getProfileName)(r)}. Profiles visited: `+Object.keys(n).join(", "),{logger:r.logger});r.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${s?`source_profile=[${s}]`:`profile=[${t}]`}`);let a=s?sM(s,e,r,{...n,[s]:!0},eM(e[s]??{})):(await Hre(i.credential_source,t,r.logger)(r))();if(eM(i))return a.then(c=>(0,xi.setCredentialFeature)(c,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let c={RoleArn:i.role_arn,RoleSessionName:i.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:i.external_id,DurationSeconds:parseInt(i.duration_seconds||"3600",10)},{mfa_serial:l}=i;if(l){if(!r.mfaCodeProvider)throw new wc.CredentialsProviderError(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:r.logger,tryNextLink:!1});c.SerialNumber=l,c.TokenCode=await r.mfaCodeProvider(l)}let d=await a;return r.roleAssumer(d,c).then(m=>(0,xi.setCredentialFeature)(m,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},"resolveAssumeRoleCredentials"),eM=dt(t=>!t.role_arn&&!!t.credential_source,"isCredentialSourceWithoutRoleArn"),Yre=dt(t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string","isProcessProfile"),Zre=dt(async(t,e)=>Promise.resolve().then(()=>Ci(Op())).then(({fromProcess:r})=>r({...t,profile:e})().then(n=>(0,xi.setCredentialFeature)(n,"CREDENTIALS_PROFILE_PROCESS","v"))),"resolveProcessCredentials"),Qre=dt(async(t,e,r={})=>{let{fromSSO:n}=await Promise.resolve().then(()=>Ci(lp()));return n({profile:t,logger:r.logger,parentClientConfig:r.parentClientConfig,clientConfig:r.clientConfig})().then(i=>e.sso_session?(0,xi.setCredentialFeature)(i,"CREDENTIALS_PROFILE_SSO","r"):(0,xi.setCredentialFeature)(i,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},"resolveSsoCredentials"),Xre=dt(t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string"),"isSsoProfile"),tM=dt(t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1&&["undefined","string"].indexOf(typeof t.aws_account_id)>-1,"isStaticCredsProfile"),rM=dt(async(t,e)=>{e?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let r={accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token,...t.aws_credential_scope&&{credentialScope:t.aws_credential_scope},...t.aws_account_id&&{accountId:t.aws_account_id}};return(0,xi.setCredentialFeature)(r,"CREDENTIALS_PROFILE","n")},"resolveStaticCredentials"),ene=dt(t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,"isWebIdentityProfile"),tne=dt(async(t,e)=>Promise.resolve().then(()=>Ci(xc())).then(({fromTokenFile:r})=>r({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity,logger:e.logger,parentClientConfig:e.parentClientConfig})().then(n=>(0,xi.setCredentialFeature)(n,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),"resolveWebIdentityCredentials"),sM=dt(async(t,e,r,n={},i=!1)=>{let s=e[t];if(Object.keys(n).length>0&&tM(s))return rM(s,r);if(i||Kre(s,{profile:t,logger:r.logger}))return Jre(t,e,r,n);if(tM(s))return rM(s,r);if(ene(s))return tne(s,r);if(Yre(s))return Zre(r,t);if(Xre(s))return await Qre(t,s,r);throw new wc.CredentialsProviderError(`Could not resolve credentials using profile: [${t}] in configuration/credentials file(s).`,{logger:r.logger})},"resolveProfileData"),rne=dt((t={})=>async({callerClientConfig:e}={})=>{let r={...t,parentClientConfig:{...e,...t.parentClientConfig}};r.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let n=await(0,$v.parseKnownFiles)(r);return sM((0,$v.getProfileName)({profile:t.profile??e?.profile}),n,r)},"fromIni")});var Dp=E((p0e,mM)=>{"use strict";var nne=Object.create,Tc=Object.defineProperty,ine=Object.getOwnPropertyDescriptor,sne=Object.getOwnPropertyNames,one=Object.getPrototypeOf,ane=Object.prototype.hasOwnProperty,kp=(t,e)=>Tc(t,"name",{value:e,configurable:!0}),cne=(t,e)=>{for(var r in e)Tc(t,r,{get:e[r],enumerable:!0})},lM=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sne(e))!ane.call(t,i)&&i!==r&&Tc(t,i,{get:()=>e[i],enumerable:!(n=ine(e,i))||n.enumerable});return t},zo=(t,e,r)=>(r=t!=null?nne(one(t)):{},lM(e||!t||!t.__esModule?Tc(r,"default",{value:t,enumerable:!0}):r,t)),lne=t=>lM(Tc({},"__esModule",{value:!0}),t),dM={};cne(dM,{credentialsTreatedAsExpired:()=>pM,credentialsWillNeedRefresh:()=>uM,defaultProvider:()=>pne});mM.exports=lne(dM);var Uv=vu(),dne=pi(),Is=gt(),aM="AWS_EC2_METADATA_DISABLED",une=kp(async t=>{let{ENV_CMDS_FULL_URI:e,ENV_CMDS_RELATIVE_URI:r,fromContainerMetadata:n,fromInstanceMetadata:i}=await Promise.resolve().then(()=>zo(bs()));if(process.env[r]||process.env[e]){t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:s}=await Promise.resolve().then(()=>zo(Iu()));return(0,Is.chain)(s(t),n(t))}return process.env[aM]&&process.env[aM]!=="false"?async()=>{throw new Is.CredentialsProviderError("EC2 Instance Metadata Service access disabled",{logger:t.logger})}:(t.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),i(t))},"remoteProvider"),cM=!1,pne=kp((t={})=>(0,Is.memoize)((0,Is.chain)(async()=>{if(t.profile??process.env[dne.ENV_PROFILE])throw process.env[Uv.ENV_KEY]&&process.env[Uv.ENV_SECRET]&&(cM||((t.logger?.warn&&t.logger?.constructor?.name!=="NoOpLogger"?t.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),cM=!0)),new Is.CredentialsProviderError("AWS_PROFILE is set, skipping fromEnv provider.",{logger:t.logger,tryNextLink:!0});return t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,Uv.fromEnv)(t)()},async()=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:i,ssoSession:s}=t;if(!e&&!r&&!n&&!i&&!s)throw new Is.CredentialsProviderError("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:t.logger});let{fromSSO:o}=await Promise.resolve().then(()=>zo(lp()));return o(t)()},async()=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:e}=await Promise.resolve().then(()=>zo(Bv()));return e(t)()},async()=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:e}=await Promise.resolve().then(()=>zo(Op()));return e(t)()},async()=>{t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:e}=await Promise.resolve().then(()=>zo(xc()));return e(t)()},async()=>(t.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await une(t))()),async()=>{throw new Is.CredentialsProviderError("Could not load credentials from any providers",{tryNextLink:!1,logger:t.logger})}),pM,uM),"defaultProvider"),uM=kp(t=>t?.expiration!==void 0,"credentialsWillNeedRefresh"),pM=kp(t=>t?.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,"credentialsTreatedAsExpired")});var jM=E(Bp=>{"use strict";Object.defineProperty(Bp,"__esModule",{value:!0});Bp.ruleSet=void 0;var Kv="required",ie="type",ge="fn",ve="argv",pt="ref",wi="properties",Ii="headers",fM=!1,Ts="isSet",wt="error",dn="endpoint",ut="tree",$p="PartitionResult",Ti="stringEquals",DM="dynamodb",Pi="getAttr",hM="aws.parseArn",Wo="ParsedArn",zv="isValidHostLabel",yM="FirstArn",Pc={[Kv]:!1,[ie]:"String"},gM={[Kv]:!0,default:!1,[ie]:"Boolean"},Wv={[ge]:"booleanEquals",[ve]:[{[pt]:"UseFIPS"},!0]},Jv={[ge]:"booleanEquals",[ve]:[{[pt]:"UseDualStack"},!0]},Fr={},MM={[pt]:"Region"},vM={[ge]:"booleanEquals",[ve]:[{[ge]:Pi,[ve]:[{[pt]:$p},"supportsFIPS"]},!0]},_M={[ge]:"booleanEquals",[ve]:[{[ge]:Pi,[ve]:[{[pt]:$p},"supportsDualStack"]},!0]},qv={conditions:[{[ge]:Ts,[ve]:[{[pt]:"AccountIdEndpointMode"}]},{[ge]:Ti,[ve]:[{[pt]:"AccountIdEndpointMode"},"required"]}],rules:[{[wt]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[ie]:wt}],[ie]:ut},jp={[ge]:Ts,[ve]:[{[pt]:"AccountIdEndpointMode"}]},bM={[wt]:"Invalid Configuration: AccountIdEndpointMode is required and FIPS is enabled, but FIPS account endpoints are not supported",[ie]:wt},FM={[ge]:Pi,[ve]:[{[pt]:$p},"name"]},EM={[dn]:{url:"https://dynamodb.{Region}.{PartitionResult#dnsSuffix}",[wi]:{},[Ii]:{}},[ie]:dn},Lp={[ge]:"not",[ve]:[Wv]},SM={[wt]:"Invalid Configuration: AccountIdEndpointMode is required and DualStack is enabled, but DualStack account endpoints are not supported",[ie]:wt},Vv={[ge]:"not",[ve]:[{[ge]:Ti,[ve]:[{[pt]:"AccountIdEndpointMode"},"disabled"]}]},Mp={[ge]:Ti,[ve]:[FM,"aws"]},Fp={[ge]:"not",[ve]:[Jv]},CM={[ge]:Ti,[ve]:[{[ge]:Pi,[ve]:[{[pt]:Wo},"service"]},DM]},xM={[ge]:zv,[ve]:[{[ge]:Pi,[ve]:[{[pt]:Wo},"region"]},!1]},wM={[ge]:Ti,[ve]:[{[ge]:Pi,[ve]:[{[pt]:Wo},"region"]},"{Region}"]},IM={[ge]:zv,[ve]:[{[ge]:Pi,[ve]:[{[pt]:Wo},"accountId"]},!1]},TM={url:"https://{ParsedArn#accountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[wi]:{},[Ii]:{}},PM={[pt]:"ResourceArnList"},AM={[pt]:"AccountId"},Gv=[Wv],Hv=[Jv],OM=[MM],RM=[jp,{[ge]:Ti,[ve]:[{[pt]:"AccountIdEndpointMode"},"required"]}],NM=[Lp],kM=[{[pt]:"ResourceArn"}],mne={version:"1.0",parameters:{Region:Pc,UseDualStack:gM,UseFIPS:gM,Endpoint:Pc,AccountId:Pc,AccountIdEndpointMode:Pc,ResourceArn:Pc,ResourceArnList:{[Kv]:fM,[ie]:"stringArray"}},rules:[{conditions:[{[ge]:Ts,[ve]:[{[pt]:"Endpoint"}]}],rules:[{conditions:Gv,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[ie]:wt},{conditions:Hv,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[ie]:wt},{endpoint:{url:"{Endpoint}",[wi]:Fr,[Ii]:Fr},[ie]:dn}],[ie]:ut},{conditions:[{[ge]:Ts,[ve]:OM}],rules:[{conditions:[{[ge]:"aws.partition",[ve]:OM,assign:$p}],rules:[{conditions:[{[ge]:Ti,[ve]:[MM,"local"]}],rules:[{conditions:Gv,error:"Invalid Configuration: FIPS and local endpoint are not supported",[ie]:wt},{conditions:Hv,error:"Invalid Configuration: Dualstack and local endpoint are not supported",[ie]:wt},{endpoint:{url:"http://localhost:8000",[wi]:{authSchemes:[{signingRegion:"us-east-1",name:"sigv4",signingName:DM}]},[Ii]:Fr},[ie]:dn}],[ie]:ut},{conditions:[Wv,Jv],rules:[{conditions:[vM,_M],rules:[qv,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[wi]:Fr,[Ii]:Fr},[ie]:dn}],[ie]:ut},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[ie]:wt}],[ie]:ut},{conditions:Gv,rules:[{conditions:[vM],rules:[{conditions:[{[ge]:Ti,[ve]:[FM,"aws-us-gov"]}],rules:[qv,EM],[ie]:ut},qv,{endpoint:{url:"https://dynamodb-fips.{Region}.{PartitionResult#dnsSuffix}",[wi]:Fr,[Ii]:Fr},[ie]:dn}],[ie]:ut},{error:"FIPS is enabled but this partition does not support FIPS",[ie]:wt}],[ie]:ut},{conditions:Hv,rules:[{conditions:[_M],rules:[{conditions:RM,rules:[{conditions:NM,rules:[SM],[ie]:ut},bM],[ie]:ut},{endpoint:{url:"https://dynamodb.{Region}.{PartitionResult#dualStackDnsSuffix}",[wi]:Fr,[Ii]:Fr},[ie]:dn}],[ie]:ut},{error:"DualStack is enabled but this partition does not support DualStack",[ie]:wt}],[ie]:ut},{conditions:[jp,Vv,Mp,Lp,Fp,{[ge]:Ts,[ve]:kM},{[ge]:hM,[ve]:kM,assign:Wo},CM,xM,wM,IM],endpoint:TM,[ie]:dn},{conditions:[jp,Vv,Mp,Lp,Fp,{[ge]:Ts,[ve]:[PM]},{[ge]:Pi,[ve]:[PM,"[0]"],assign:yM},{[ge]:hM,[ve]:[{[pt]:yM}],assign:Wo},CM,xM,wM,IM],endpoint:TM,[ie]:dn},{conditions:[jp,Vv,Mp,Lp,Fp,{[ge]:Ts,[ve]:[AM]}],rules:[{conditions:[{[ge]:zv,[ve]:[AM,fM]}],rules:[{endpoint:{url:"https://{AccountId}.ddb.{Region}.{PartitionResult#dnsSuffix}",[wi]:Fr,[Ii]:Fr},[ie]:dn}],[ie]:ut},{error:"Credentials-sourced account ID parameter is invalid",[ie]:wt}],[ie]:ut},{conditions:RM,rules:[{conditions:NM,rules:[{conditions:[Fp],rules:[{conditions:[Mp],rules:[{error:"AccountIdEndpointMode is required but no AccountID was provided or able to be loaded",[ie]:wt}],[ie]:ut},{error:"Invalid Configuration: AccountIdEndpointMode is required but account endpoints are not supported in this partition",[ie]:wt}],[ie]:ut},SM],[ie]:ut},bM],[ie]:ut},EM],[ie]:ut}],[ie]:ut},{error:"Invalid Configuration: Missing Region",[ie]:wt}]};Bp.ruleSet=mne});var LM=E(Up=>{"use strict";Object.defineProperty(Up,"__esModule",{value:!0});Up.defaultEndpointResolver=void 0;var fne=ds(),Yv=ls(),hne=jM(),yne=new Yv.EndpointCache({size:50,params:["AccountId","AccountIdEndpointMode","Endpoint","Region","ResourceArn","ResourceArnList","UseDualStack","UseFIPS"]}),gne=(t,e={})=>yne.get(t,()=>(0,Yv.resolveEndpoint)(hne.ruleSet,{endpointParams:t,logger:e.logger}));Up.defaultEndpointResolver=gne;Yv.customEndpointFunctions.aws=fne.awsEndpointFunctions});var UM=E(qp=>{"use strict";Object.defineProperty(qp,"__esModule",{value:!0});qp.getRuntimeConfig=void 0;var vne=(Ge(),X($t)),_ne=me(),bne=mi(),$M=Pr(),BM=jt(),Ene=lg(),Sne=LM(),Cne=t=>({apiVersion:"2012-08-10",base64Decoder:t?.base64Decoder??$M.fromBase64,base64Encoder:t?.base64Encoder??$M.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Sne.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Ene.defaultDynamoDBHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new vne.AwsSdkSigV4Signer}],logger:t?.logger??new _ne.NoOpLogger,serviceId:t?.serviceId??"DynamoDB",urlParser:t?.urlParser??bne.parseUrl,utf8Decoder:t?.utf8Decoder??BM.fromUtf8,utf8Encoder:t?.utf8Encoder??BM.toUtf8});qp.getRuntimeConfig=Cne});var KM=E(Gp=>{"use strict";Object.defineProperty(Gp,"__esModule",{value:!0});Gp.getRuntimeConfig=void 0;var xne=(Eo(),X(bo)),wne=xne.__importDefault(GA()),qM=(Ge(),X($t)),Ine=(Qf(),X(Zf)),Tne=Dp(),Pne=oh(),VM=xo(),Vp=rr(),Ane=wo(),GM=Nr(),qn=nn(),HM=ti(),One=Io(),Rne=vs(),Nne=UM(),kne=me(),Dne=Oo(),Mne=me(),Fne=t=>{(0,Mne.emitWarningIfUnsupportedVersion)(process.version);let e=(0,Dne.resolveDefaultsModeConfig)(t),r=()=>e().then(kne.loadConfigsForDefaultMode),n=(0,Nne.getRuntimeConfig)(t);(0,qM.emitWarningIfUnsupportedVersion)(process.version);let i={profile:t?.profile};return{...n,...t,runtime:"node",defaultsMode:e,accountIdEndpointMode:t?.accountIdEndpointMode??(0,qn.loadConfig)(Ine.NODE_ACCOUNT_ID_ENDPOINT_MODE_CONFIG_OPTIONS,i),authSchemePreference:t?.authSchemePreference??(0,qn.loadConfig)(qM.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:t?.bodyLengthChecker??One.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??Tne.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,VM.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:wne.default.version}),endpointDiscoveryEnabledProvider:t?.endpointDiscoveryEnabledProvider??(0,qn.loadConfig)(Pne.NODE_ENDPOINT_DISCOVERY_CONFIG_OPTIONS,i),maxAttempts:t?.maxAttempts??(0,qn.loadConfig)(GM.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,qn.loadConfig)(Vp.NODE_REGION_CONFIG_OPTIONS,{...Vp.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:HM.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,qn.loadConfig)({...GM.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Rne.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??Ane.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??HM.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,qn.loadConfig)(Vp.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,qn.loadConfig)(Vp.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,qn.loadConfig)(VM.NODE_APP_ID_CONFIG_OPTIONS,i)}};Gp.getRuntimeConfig=Fne});var XM=E((g0e,QM)=>{var Hp=Object.defineProperty,jne=Object.getOwnPropertyDescriptor,Lne=Object.getOwnPropertyNames,$ne=Object.prototype.hasOwnProperty,un=(t,e)=>Hp(t,"name",{value:e,configurable:!0}),Bne=(t,e)=>{for(var r in e)Hp(t,r,{get:e[r],enumerable:!0})},Une=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Lne(e))!$ne.call(t,i)&&i!==r&&Hp(t,i,{get:()=>e[i],enumerable:!(n=jne(e,i))||n.enumerable});return t},qne=t=>Une(Hp({},"__esModule",{value:!0}),t),JM={};Bne(JM,{WaiterState:()=>ZM,checkExceptions:()=>Gne,createWaiter:()=>Jne,waiterServiceDefaults:()=>YM});QM.exports=qne(JM);var Vne=un(t=>new Promise(e=>setTimeout(e,t*1e3)),"sleep"),YM={minDelay:2,maxDelay:120},ZM=(t=>(t.ABORTED="ABORTED",t.FAILURE="FAILURE",t.SUCCESS="SUCCESS",t.RETRY="RETRY",t.TIMEOUT="TIMEOUT",t))(ZM||{}),Gne=un(t=>{if(t.state==="ABORTED"){let e=new Error(`${JSON.stringify({...t,reason:"Request was aborted"})}`);throw e.name="AbortError",e}else if(t.state==="TIMEOUT"){let e=new Error(`${JSON.stringify({...t,reason:"Waiter has timed out"})}`);throw e.name="TimeoutError",e}else if(t.state!=="SUCCESS")throw new Error(`${JSON.stringify(t)}`);return t},"checkExceptions"),Hne=un((t,e,r,n)=>{if(n>r)return e;let i=t*2**(n-1);return Kne(t,i)},"exponentialBackoffWithJitter"),Kne=un((t,e)=>t+Math.random()*(e-t),"randomInRange"),zne=un(async({minDelay:t,maxDelay:e,maxWaitTime:r,abortController:n,client:i,abortSignal:s},o,a)=>{let c={},{state:l,reason:d}=await a(i,o);if(d){let y=zM(d);c[y]|=0,c[y]+=1}if(l!=="RETRY")return{state:l,reason:d,observedResponses:c};let m=1,f=Date.now()+r*1e3,h=Math.log(e/t)/Math.log(2)+1;for(;;){if(n?.signal?.aborted||s?.aborted){let _="AbortController signal aborted.";return c[_]|=0,c[_]+=1,{state:"ABORTED",observedResponses:c}}let y=Hne(t,e,h,m);if(Date.now()+y*1e3>f)return{state:"TIMEOUT",observedResponses:c};await Vne(y);let{state:v,reason:g}=await a(i,o);if(g){let _=zM(g);c[_]|=0,c[_]+=1}if(v!=="RETRY")return{state:v,reason:g,observedResponses:c};m+=1}},"runPolling"),zM=un(t=>t?.$responseBodyText?`Deserialization error for body: ${t.$responseBodyText}`:t?.$metadata?.httpStatusCode?t.$response||t.message?`${t.$response.statusCode??t.$metadata.httpStatusCode??"Unknown"}: ${t.message}`:`${t.$metadata.httpStatusCode}: OK`:String(t?.message??JSON.stringify(t)??"Unknown"),"createMessageFromResponse"),Wne=un(t=>{if(t.maxWaitTime<=0)throw new Error("WaiterConfiguration.maxWaitTime must be greater than 0");if(t.minDelay<=0)throw new Error("WaiterConfiguration.minDelay must be greater than 0");if(t.maxDelay<=0)throw new Error("WaiterConfiguration.maxDelay must be greater than 0");if(t.maxWaitTime<=t.minDelay)throw new Error(`WaiterConfiguration.maxWaitTime [${t.maxWaitTime}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`);if(t.maxDelay<t.minDelay)throw new Error(`WaiterConfiguration.maxDelay [${t.maxDelay}] must be greater than WaiterConfiguration.minDelay [${t.minDelay}] for this waiter`)},"validateWaiterOptions"),WM=un(async t=>new Promise(e=>{let r=un(()=>e({state:"ABORTED"}),"onAbort");typeof t.addEventListener=="function"?t.addEventListener("abort",r):t.onabort=r}),"abortTimeout"),Jne=un(async(t,e,r)=>{let n={...YM,...t};Wne(n);let i=[zne(n,e,r)];return t.abortController&&i.push(WM(t.abortController.signal)),t.abortSignal&&i.push(WM(t.abortSignal)),Promise.race(i)},"createWaiter")});var u_=E((v0e,jL)=>{"use strict";var zp=Object.defineProperty,Yne=Object.getOwnPropertyDescriptor,Zne=Object.getOwnPropertyNames,Qne=Object.prototype.hasOwnProperty,u=(t,e)=>zp(t,"name",{value:e,configurable:!0}),Xne=(t,e)=>{for(var r in e)zp(t,r,{get:e[r],enumerable:!0})},eie=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Zne(e))!Qne.call(t,i)&&i!==r&&zp(t,i,{get:()=>e[i],enumerable:!(n=Yne(e,i))||n.enumerable});return t},tie=t=>eie(zp({},"__esModule",{value:!0}),t),oF={};Xne(oF,{ApproximateCreationDateTimePrecision:()=>lie,AttributeAction:()=>die,AttributeValue:()=>Kp,BackupInUseException:()=>cF,BackupNotFoundException:()=>dF,BackupStatus:()=>pie,BackupType:()=>mie,BackupTypeFilter:()=>Eie,BatchExecuteStatementCommand:()=>$j,BatchGetItemCommand:()=>Bj,BatchStatementErrorCodeEnum:()=>xie,BatchWriteItemCommand:()=>Uj,BillingMode:()=>fie,ComparisonOperator:()=>Iie,ConditionalCheckFailedException:()=>vj,ConditionalOperator:()=>Tie,ContinuousBackupsStatus:()=>Pie,ContinuousBackupsUnavailableException:()=>xF,ContributorInsightsAction:()=>Oie,ContributorInsightsStatus:()=>Rie,CreateBackupCommand:()=>qj,CreateGlobalTableCommand:()=>Vj,CreateTableCommand:()=>Gj,DeleteBackupCommand:()=>Hj,DeleteItemCommand:()=>Kj,DeleteResourcePolicyCommand:()=>zj,DeleteTableCommand:()=>Wj,DescribeBackupCommand:()=>Jj,DescribeContinuousBackupsCommand:()=>Yj,DescribeContributorInsightsCommand:()=>Zj,DescribeEndpointsCommand:()=>i_,DescribeExportCommand:()=>Qj,DescribeGlobalTableCommand:()=>Xj,DescribeGlobalTableSettingsCommand:()=>eL,DescribeImportCommand:()=>tL,DescribeKinesisStreamingDestinationCommand:()=>rL,DescribeLimitsCommand:()=>nL,DescribeTableCommand:()=>Zp,DescribeTableReplicaAutoScalingCommand:()=>iL,DescribeTimeToLiveCommand:()=>sL,DestinationStatus:()=>zie,DisableKinesisStreamingDestinationCommand:()=>oL,DuplicateItemException:()=>WF,DynamoDB:()=>DL,DynamoDBClient:()=>Ni,DynamoDBServiceException:()=>_e,EnableKinesisStreamingDestinationCommand:()=>aL,ExecuteStatementCommand:()=>cL,ExecuteTransactionCommand:()=>lL,ExportConflictException:()=>ej,ExportFormat:()=>$ie,ExportNotFoundException:()=>qF,ExportStatus:()=>Bie,ExportTableToPointInTimeCommand:()=>dL,ExportType:()=>Uie,ExportViewType:()=>qie,GetItemCommand:()=>uL,GetResourcePolicyCommand:()=>pL,GlobalTableAlreadyExistsException:()=>NF,GlobalTableNotFoundException:()=>GF,GlobalTableStatus:()=>Nie,IdempotentParameterMismatchException:()=>YF,ImportConflictException:()=>oj,ImportNotFoundException:()=>KF,ImportStatus:()=>Gie,ImportTableCommand:()=>mL,IndexNotFoundException:()=>yj,IndexStatus:()=>kie,InputCompressionType:()=>Hie,InputFormat:()=>Kie,InternalServerError:()=>pF,InvalidEndpointException:()=>yF,InvalidExportTimeException:()=>rj,InvalidRestoreTimeException:()=>dj,ItemCollectionSizeLimitExceededException:()=>SF,KeyType:()=>hie,LimitExceededException:()=>IF,ListBackupsCommand:()=>fL,ListContributorInsightsCommand:()=>s_,ListExportsCommand:()=>o_,ListGlobalTablesCommand:()=>hL,ListImportsCommand:()=>a_,ListTablesCommand:()=>c_,ListTagsOfResourceCommand:()=>yL,MultiRegionConsistency:()=>jie,PointInTimeRecoveryStatus:()=>Aie,PointInTimeRecoveryUnavailableException:()=>ij,PolicyNotFoundException:()=>BF,ProjectionType:()=>yie,ProvisionedThroughputExceededException:()=>vF,PutItemCommand:()=>gL,PutResourcePolicyCommand:()=>vL,QueryCommand:()=>l_,ReplicaAlreadyExistsException:()=>pj,ReplicaNotFoundException:()=>fj,ReplicaStatus:()=>Die,ReplicatedWriteConflictException:()=>FF,RequestLimitExceeded:()=>fF,ResourceInUseException:()=>DF,ResourceNotFoundException:()=>bF,RestoreTableFromBackupCommand:()=>_L,RestoreTableToPointInTimeCommand:()=>bL,ReturnConsumedCapacity:()=>Sie,ReturnItemCollectionMetrics:()=>wie,ReturnValue:()=>Lie,ReturnValuesOnConditionCheckFailure:()=>Cie,S3SseAlgorithm:()=>Vie,SSEStatus:()=>vie,SSEType:()=>gie,ScalarAttributeType:()=>uie,ScanCommand:()=>d_,Select:()=>Wie,StreamViewType:()=>_ie,TableAlreadyExistsException:()=>cj,TableClass:()=>Mie,TableInUseException:()=>PF,TableNotFoundException:()=>OF,TableStatus:()=>Fie,TagResourceCommand:()=>EL,TimeToLiveStatus:()=>bie,TransactGetItemsCommand:()=>SL,TransactWriteItemsCommand:()=>CL,TransactionCanceledException:()=>bj,TransactionConflictException:()=>LF,TransactionInProgressException:()=>QF,UntagResourceCommand:()=>xL,UpdateContinuousBackupsCommand:()=>wL,UpdateContributorInsightsCommand:()=>IL,UpdateGlobalTableCommand:()=>TL,UpdateGlobalTableSettingsCommand:()=>PL,UpdateItemCommand:()=>AL,UpdateKinesisStreamingDestinationCommand:()=>OL,UpdateTableCommand:()=>RL,UpdateTableReplicaAutoScalingCommand:()=>NL,UpdateTimeToLiveCommand:()=>kL,__Client:()=>p.Client,paginateListContributorInsights:()=>Tde,paginateListExports:()=>Ade,paginateListImports:()=>Rde,paginateListTables:()=>kde,paginateQuery:()=>Mde,paginateScan:()=>jde,waitForTableExists:()=>Lde,waitForTableNotExists:()=>Bde,waitUntilTableExists:()=>$de,waitUntilTableNotExists:()=>Ude});jL.exports=tie(oF);var rie=(Qf(),X(Zf)),nie=oh(),eF=eo(),iie=to(),sie=ro(),tF=hs(),oie=rr(),Zv=(Le(),X(bt)),aie=ho(),rF=Nr(),nF=lg(),K=Fn(),W=On(),cie=u(t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"dynamodb"}),"resolveClientEndpointParameters"),J={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},AccountId:{type:"builtInParams",name:"accountId"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"},AccountIdEndpointMode:{type:"builtInParams",name:"accountIdEndpointMode"}},q=(Ge(),X($t)),Qv=$e(),Wp=(Xy(),X(Qy)),p=me(),_e=class aF extends p.ServiceException{static{u(this,"DynamoDBServiceException")}constructor(e){super(e),Object.setPrototypeOf(this,aF.prototype)}},lie={MICROSECOND:"MICROSECOND",MILLISECOND:"MILLISECOND"},die={ADD:"ADD",DELETE:"DELETE",PUT:"PUT"},uie={B:"B",N:"N",S:"S"},pie={AVAILABLE:"AVAILABLE",CREATING:"CREATING",DELETED:"DELETED"},mie={AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},fie={PAY_PER_REQUEST:"PAY_PER_REQUEST",PROVISIONED:"PROVISIONED"},hie={HASH:"HASH",RANGE:"RANGE"},yie={ALL:"ALL",INCLUDE:"INCLUDE",KEYS_ONLY:"KEYS_ONLY"},gie={AES256:"AES256",KMS:"KMS"},vie={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",UPDATING:"UPDATING"},_ie={KEYS_ONLY:"KEYS_ONLY",NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE",OLD_IMAGE:"OLD_IMAGE"},bie={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING"},cF=class lF extends _e{static{u(this,"BackupInUseException")}name="BackupInUseException";$fault="client";constructor(e){super({name:"BackupInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,lF.prototype)}},dF=class uF extends _e{static{u(this,"BackupNotFoundException")}name="BackupNotFoundException";$fault="client";constructor(e){super({name:"BackupNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,uF.prototype)}},Eie={ALL:"ALL",AWS_BACKUP:"AWS_BACKUP",SYSTEM:"SYSTEM",USER:"USER"},Sie={INDEXES:"INDEXES",NONE:"NONE",TOTAL:"TOTAL"},Cie={ALL_OLD:"ALL_OLD",NONE:"NONE"},xie={AccessDenied:"AccessDenied",ConditionalCheckFailed:"ConditionalCheckFailed",DuplicateItem:"DuplicateItem",InternalServerError:"InternalServerError",ItemCollectionSizeLimitExceeded:"ItemCollectionSizeLimitExceeded",ProvisionedThroughputExceeded:"ProvisionedThroughputExceeded",RequestLimitExceeded:"RequestLimitExceeded",ResourceNotFound:"ResourceNotFound",ThrottlingError:"ThrottlingError",TransactionConflict:"TransactionConflict",ValidationError:"ValidationError"},pF=class mF extends _e{static{u(this,"InternalServerError")}name="InternalServerError";$fault="server";constructor(e){super({name:"InternalServerError",$fault:"server",...e}),Object.setPrototypeOf(this,mF.prototype)}},fF=class hF extends _e{static{u(this,"RequestLimitExceeded")}name="RequestLimitExceeded";$fault="client";constructor(e){super({name:"RequestLimitExceeded",$fault:"client",...e}),Object.setPrototypeOf(this,hF.prototype)}},yF=class gF extends _e{static{u(this,"InvalidEndpointException")}name="InvalidEndpointException";$fault="client";Message;constructor(e){super({name:"InvalidEndpointException",$fault:"client",...e}),Object.setPrototypeOf(this,gF.prototype),this.Message=e.Message}},vF=class _F extends _e{static{u(this,"ProvisionedThroughputExceededException")}name="ProvisionedThroughputExceededException";$fault="client";constructor(e){super({name:"ProvisionedThroughputExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,_F.prototype)}},bF=class EF extends _e{static{u(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,EF.prototype)}},wie={NONE:"NONE",SIZE:"SIZE"},SF=class CF extends _e{static{u(this,"ItemCollectionSizeLimitExceededException")}name="ItemCollectionSizeLimitExceededException";$fault="client";constructor(e){super({name:"ItemCollectionSizeLimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,CF.prototype)}},Iie={BEGINS_WITH:"BEGINS_WITH",BETWEEN:"BETWEEN",CONTAINS:"CONTAINS",EQ:"EQ",GE:"GE",GT:"GT",IN:"IN",LE:"LE",LT:"LT",NE:"NE",NOT_CONTAINS:"NOT_CONTAINS",NOT_NULL:"NOT_NULL",NULL:"NULL"},Tie={AND:"AND",OR:"OR"},Pie={DISABLED:"DISABLED",ENABLED:"ENABLED"},Aie={DISABLED:"DISABLED",ENABLED:"ENABLED"},xF=class wF extends _e{static{u(this,"ContinuousBackupsUnavailableException")}name="ContinuousBackupsUnavailableException";$fault="client";constructor(e){super({name:"ContinuousBackupsUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,wF.prototype)}},Oie={DISABLE:"DISABLE",ENABLE:"ENABLE"},Rie={DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLED:"ENABLED",ENABLING:"ENABLING",FAILED:"FAILED"},IF=class TF extends _e{static{u(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,TF.prototype)}},PF=class AF extends _e{static{u(this,"TableInUseException")}name="TableInUseException";$fault="client";constructor(e){super({name:"TableInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,AF.prototype)}},OF=class RF extends _e{static{u(this,"TableNotFoundException")}name="TableNotFoundException";$fault="client";constructor(e){super({name:"TableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,RF.prototype)}},Nie={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},kie={ACTIVE:"ACTIVE",CREATING:"CREATING",DELETING:"DELETING",UPDATING:"UPDATING"},Die={ACTIVE:"ACTIVE",CREATING:"CREATING",CREATION_FAILED:"CREATION_FAILED",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",REGION_DISABLED:"REGION_DISABLED",UPDATING:"UPDATING"},Mie={STANDARD:"STANDARD",STANDARD_INFREQUENT_ACCESS:"STANDARD_INFREQUENT_ACCESS"},Fie={ACTIVE:"ACTIVE",ARCHIVED:"ARCHIVED",ARCHIVING:"ARCHIVING",CREATING:"CREATING",DELETING:"DELETING",INACCESSIBLE_ENCRYPTION_CREDENTIALS:"INACCESSIBLE_ENCRYPTION_CREDENTIALS",UPDATING:"UPDATING"},NF=class kF extends _e{static{u(this,"GlobalTableAlreadyExistsException")}name="GlobalTableAlreadyExistsException";$fault="client";constructor(e){super({name:"GlobalTableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,kF.prototype)}},jie={EVENTUAL:"EVENTUAL",STRONG:"STRONG"},DF=class MF extends _e{static{u(this,"ResourceInUseException")}name="ResourceInUseException";$fault="client";constructor(e){super({name:"ResourceInUseException",$fault:"client",...e}),Object.setPrototypeOf(this,MF.prototype)}},Lie={ALL_NEW:"ALL_NEW",ALL_OLD:"ALL_OLD",NONE:"NONE",UPDATED_NEW:"UPDATED_NEW",UPDATED_OLD:"UPDATED_OLD"},FF=class jF extends _e{static{u(this,"ReplicatedWriteConflictException")}name="ReplicatedWriteConflictException";$fault="client";constructor(e){super({name:"ReplicatedWriteConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,jF.prototype)}},LF=class $F extends _e{static{u(this,"TransactionConflictException")}name="TransactionConflictException";$fault="client";constructor(e){super({name:"TransactionConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,$F.prototype)}},BF=class UF extends _e{static{u(this,"PolicyNotFoundException")}name="PolicyNotFoundException";$fault="client";constructor(e){super({name:"PolicyNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,UF.prototype)}},$ie={DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},Bie={COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Uie={FULL_EXPORT:"FULL_EXPORT",INCREMENTAL_EXPORT:"INCREMENTAL_EXPORT"},qie={NEW_AND_OLD_IMAGES:"NEW_AND_OLD_IMAGES",NEW_IMAGE:"NEW_IMAGE"},Vie={AES256:"AES256",KMS:"KMS"},qF=class VF extends _e{static{u(this,"ExportNotFoundException")}name="ExportNotFoundException";$fault="client";constructor(e){super({name:"ExportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,VF.prototype)}},GF=class HF extends _e{static{u(this,"GlobalTableNotFoundException")}name="GlobalTableNotFoundException";$fault="client";constructor(e){super({name:"GlobalTableNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,HF.prototype)}},Gie={CANCELLED:"CANCELLED",CANCELLING:"CANCELLING",COMPLETED:"COMPLETED",FAILED:"FAILED",IN_PROGRESS:"IN_PROGRESS"},Hie={GZIP:"GZIP",NONE:"NONE",ZSTD:"ZSTD"},Kie={CSV:"CSV",DYNAMODB_JSON:"DYNAMODB_JSON",ION:"ION"},KF=class zF extends _e{static{u(this,"ImportNotFoundException")}name="ImportNotFoundException";$fault="client";constructor(e){super({name:"ImportNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,zF.prototype)}},zie={ACTIVE:"ACTIVE",DISABLED:"DISABLED",DISABLING:"DISABLING",ENABLE_FAILED:"ENABLE_FAILED",ENABLING:"ENABLING",UPDATING:"UPDATING"},WF=class JF extends _e{static{u(this,"DuplicateItemException")}name="DuplicateItemException";$fault="client";constructor(e){super({name:"DuplicateItemException",$fault:"client",...e}),Object.setPrototypeOf(this,JF.prototype)}},YF=class ZF extends _e{static{u(this,"IdempotentParameterMismatchException")}name="IdempotentParameterMismatchException";$fault="client";Message;constructor(e){super({name:"IdempotentParameterMismatchException",$fault:"client",...e}),Object.setPrototypeOf(this,ZF.prototype),this.Message=e.Message}},QF=class XF extends _e{static{u(this,"TransactionInProgressException")}name="TransactionInProgressException";$fault="client";Message;constructor(e){super({name:"TransactionInProgressException",$fault:"client",...e}),Object.setPrototypeOf(this,XF.prototype),this.Message=e.Message}},ej=class tj extends _e{static{u(this,"ExportConflictException")}name="ExportConflictException";$fault="client";constructor(e){super({name:"ExportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,tj.prototype)}},rj=class nj extends _e{static{u(this,"InvalidExportTimeException")}name="InvalidExportTimeException";$fault="client";constructor(e){super({name:"InvalidExportTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,nj.prototype)}},ij=class sj extends _e{static{u(this,"PointInTimeRecoveryUnavailableException")}name="PointInTimeRecoveryUnavailableException";$fault="client";constructor(e){super({name:"PointInTimeRecoveryUnavailableException",$fault:"client",...e}),Object.setPrototypeOf(this,sj.prototype)}},oj=class aj extends _e{static{u(this,"ImportConflictException")}name="ImportConflictException";$fault="client";constructor(e){super({name:"ImportConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,aj.prototype)}},Wie={ALL_ATTRIBUTES:"ALL_ATTRIBUTES",ALL_PROJECTED_ATTRIBUTES:"ALL_PROJECTED_ATTRIBUTES",COUNT:"COUNT",SPECIFIC_ATTRIBUTES:"SPECIFIC_ATTRIBUTES"},cj=class lj extends _e{static{u(this,"TableAlreadyExistsException")}name="TableAlreadyExistsException";$fault="client";constructor(e){super({name:"TableAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,lj.prototype)}},dj=class uj extends _e{static{u(this,"InvalidRestoreTimeException")}name="InvalidRestoreTimeException";$fault="client";constructor(e){super({name:"InvalidRestoreTimeException",$fault:"client",...e}),Object.setPrototypeOf(this,uj.prototype)}},pj=class mj extends _e{static{u(this,"ReplicaAlreadyExistsException")}name="ReplicaAlreadyExistsException";$fault="client";constructor(e){super({name:"ReplicaAlreadyExistsException",$fault:"client",...e}),Object.setPrototypeOf(this,mj.prototype)}},fj=class hj extends _e{static{u(this,"ReplicaNotFoundException")}name="ReplicaNotFoundException";$fault="client";constructor(e){super({name:"ReplicaNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,hj.prototype)}},yj=class gj extends _e{static{u(this,"IndexNotFoundException")}name="IndexNotFoundException";$fault="client";constructor(e){super({name:"IndexNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,gj.prototype)}},Kp;(t=>{t.visit=u((e,r)=>e.S!==void 0?r.S(e.S):e.N!==void 0?r.N(e.N):e.B!==void 0?r.B(e.B):e.SS!==void 0?r.SS(e.SS):e.NS!==void 0?r.NS(e.NS):e.BS!==void 0?r.BS(e.BS):e.M!==void 0?r.M(e.M):e.L!==void 0?r.L(e.L):e.NULL!==void 0?r.NULL(e.NULL):e.BOOL!==void 0?r.BOOL(e.BOOL):r._(e.$unknown[0],e.$unknown[1]),"visit")})(Kp||(Kp={}));var vj=class _j extends _e{static{u(this,"ConditionalCheckFailedException")}name="ConditionalCheckFailedException";$fault="client";Item;constructor(e){super({name:"ConditionalCheckFailedException",$fault:"client",...e}),Object.setPrototypeOf(this,_j.prototype),this.Item=e.Item}},bj=class Ej extends _e{static{u(this,"TransactionCanceledException")}name="TransactionCanceledException";$fault="client";Message;CancellationReasons;constructor(e){super({name:"TransactionCanceledException",$fault:"client",...e}),Object.setPrototypeOf(this,Ej.prototype),this.Message=e.Message,this.CancellationReasons=e.CancellationReasons}},Jie=u(async(t,e)=>{let r=z("BatchExecuteStatement"),n;return n=JSON.stringify($ae(t,e)),Z(e,r,"/",void 0,n)},"se_BatchExecuteStatementCommand"),Yie=u(async(t,e)=>{let r=z("BatchGetItem"),n;return n=JSON.stringify(Bae(t,e)),Z(e,r,"/",void 0,n)},"se_BatchGetItemCommand"),Zie=u(async(t,e)=>{let r=z("BatchWriteItem"),n;return n=JSON.stringify(Vae(t,e)),Z(e,r,"/",void 0,n)},"se_BatchWriteItemCommand"),Qie=u(async(t,e)=>{let r=z("CreateBackup"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_CreateBackupCommand"),Xie=u(async(t,e)=>{let r=z("CreateGlobalTable"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_CreateGlobalTableCommand"),ese=u(async(t,e)=>{let r=z("CreateTable"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_CreateTableCommand"),tse=u(async(t,e)=>{let r=z("DeleteBackup"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DeleteBackupCommand"),rse=u(async(t,e)=>{let r=z("DeleteItem"),n;return n=JSON.stringify(Wae(t,e)),Z(e,r,"/",void 0,n)},"se_DeleteItemCommand"),nse=u(async(t,e)=>{let r=z("DeleteResourcePolicy"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DeleteResourcePolicyCommand"),ise=u(async(t,e)=>{let r=z("DeleteTable"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DeleteTableCommand"),sse=u(async(t,e)=>{let r=z("DescribeBackup"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeBackupCommand"),ose=u(async(t,e)=>{let r=z("DescribeContinuousBackups"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeContinuousBackupsCommand"),ase=u(async(t,e)=>{let r=z("DescribeContributorInsights"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeContributorInsightsCommand"),cse=u(async(t,e)=>{let r=z("DescribeEndpoints"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeEndpointsCommand"),lse=u(async(t,e)=>{let r=z("DescribeExport"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeExportCommand"),dse=u(async(t,e)=>{let r=z("DescribeGlobalTable"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeGlobalTableCommand"),use=u(async(t,e)=>{let r=z("DescribeGlobalTableSettings"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeGlobalTableSettingsCommand"),pse=u(async(t,e)=>{let r=z("DescribeImport"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeImportCommand"),mse=u(async(t,e)=>{let r=z("DescribeKinesisStreamingDestination"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeKinesisStreamingDestinationCommand"),fse=u(async(t,e)=>{let r=z("DescribeLimits"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeLimitsCommand"),hse=u(async(t,e)=>{let r=z("DescribeTable"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeTableCommand"),yse=u(async(t,e)=>{let r=z("DescribeTableReplicaAutoScaling"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeTableReplicaAutoScalingCommand"),gse=u(async(t,e)=>{let r=z("DescribeTimeToLive"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DescribeTimeToLiveCommand"),vse=u(async(t,e)=>{let r=z("DisableKinesisStreamingDestination"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_DisableKinesisStreamingDestinationCommand"),_se=u(async(t,e)=>{let r=z("EnableKinesisStreamingDestination"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_EnableKinesisStreamingDestinationCommand"),bse=u(async(t,e)=>{let r=z("ExecuteStatement"),n;return n=JSON.stringify(Yae(t,e)),Z(e,r,"/",void 0,n)},"se_ExecuteStatementCommand"),Ese=u(async(t,e)=>{let r=z("ExecuteTransaction"),n;return n=JSON.stringify(Zae(t,e)),Z(e,r,"/",void 0,n)},"se_ExecuteTransactionCommand"),Sse=u(async(t,e)=>{let r=z("ExportTableToPointInTime"),n;return n=JSON.stringify(Xae(t,e)),Z(e,r,"/",void 0,n)},"se_ExportTableToPointInTimeCommand"),Cse=u(async(t,e)=>{let r=z("GetItem"),n;return n=JSON.stringify(tce(t,e)),Z(e,r,"/",void 0,n)},"se_GetItemCommand"),xse=u(async(t,e)=>{let r=z("GetResourcePolicy"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_GetResourcePolicyCommand"),wse=u(async(t,e)=>{let r=z("ImportTable"),n;return n=JSON.stringify(oce(t,e)),Z(e,r,"/",void 0,n)},"se_ImportTableCommand"),Ise=u(async(t,e)=>{let r=z("ListBackups"),n;return n=JSON.stringify(pce(t,e)),Z(e,r,"/",void 0,n)},"se_ListBackupsCommand"),Tse=u(async(t,e)=>{let r=z("ListContributorInsights"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_ListContributorInsightsCommand"),Pse=u(async(t,e)=>{let r=z("ListExports"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_ListExportsCommand"),Ase=u(async(t,e)=>{let r=z("ListGlobalTables"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_ListGlobalTablesCommand"),Ose=u(async(t,e)=>{let r=z("ListImports"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_ListImportsCommand"),Rse=u(async(t,e)=>{let r=z("ListTables"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_ListTablesCommand"),Nse=u(async(t,e)=>{let r=z("ListTagsOfResource"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_ListTagsOfResourceCommand"),kse=u(async(t,e)=>{let r=z("PutItem"),n;return n=JSON.stringify(vce(t,e)),Z(e,r,"/",void 0,n)},"se_PutItemCommand"),Dse=u(async(t,e)=>{let r=z("PutResourcePolicy"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_PutResourcePolicyCommand"),Mse=u(async(t,e)=>{let r=z("Query"),n;return n=JSON.stringify(bce(t,e)),Z(e,r,"/",void 0,n)},"se_QueryCommand"),Fse=u(async(t,e)=>{let r=z("RestoreTableFromBackup"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_RestoreTableFromBackupCommand"),jse=u(async(t,e)=>{let r=z("RestoreTableToPointInTime"),n;return n=JSON.stringify(Ace(t,e)),Z(e,r,"/",void 0,n)},"se_RestoreTableToPointInTimeCommand"),Lse=u(async(t,e)=>{let r=z("Scan"),n;return n=JSON.stringify(Oce(t,e)),Z(e,r,"/",void 0,n)},"se_ScanCommand"),$se=u(async(t,e)=>{let r=z("TagResource"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_TagResourceCommand"),Bse=u(async(t,e)=>{let r=z("TransactGetItems"),n;return n=JSON.stringify(kce(t,e)),Z(e,r,"/",void 0,n)},"se_TransactGetItemsCommand"),Use=u(async(t,e)=>{let r=z("TransactWriteItems"),n;return n=JSON.stringify(Fce(t,e)),Z(e,r,"/",void 0,n)},"se_TransactWriteItemsCommand"),qse=u(async(t,e)=>{let r=z("UntagResource"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_UntagResourceCommand"),Vse=u(async(t,e)=>{let r=z("UpdateContinuousBackups"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_UpdateContinuousBackupsCommand"),Gse=u(async(t,e)=>{let r=z("UpdateContributorInsights"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_UpdateContributorInsightsCommand"),Hse=u(async(t,e)=>{let r=z("UpdateGlobalTable"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_UpdateGlobalTableCommand"),Kse=u(async(t,e)=>{let r=z("UpdateGlobalTableSettings"),n;return n=JSON.stringify(Lce(t,e)),Z(e,r,"/",void 0,n)},"se_UpdateGlobalTableSettingsCommand"),zse=u(async(t,e)=>{let r=z("UpdateItem"),n;return n=JSON.stringify($ce(t,e)),Z(e,r,"/",void 0,n)},"se_UpdateItemCommand"),Wse=u(async(t,e)=>{let r=z("UpdateKinesisStreamingDestination"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_UpdateKinesisStreamingDestinationCommand"),Jse=u(async(t,e)=>{let r=z("UpdateTable"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_UpdateTableCommand"),Yse=u(async(t,e)=>{let r=z("UpdateTableReplicaAutoScaling"),n;return n=JSON.stringify(Bce(t,e)),Z(e,r,"/",void 0,n)},"se_UpdateTableReplicaAutoScalingCommand"),Zse=u(async(t,e)=>{let r=z("UpdateTimeToLive"),n;return n=JSON.stringify((0,p._json)(t)),Z(e,r,"/",void 0,n)},"se_UpdateTimeToLiveCommand"),Qse=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Jce(r,e),{$metadata:k(t),...n}},"de_BatchExecuteStatementCommand"),Xse=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Yce(r,e),{$metadata:k(t),...n}},"de_BatchGetItemCommand"),eoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=tle(r,e),{$metadata:k(t),...n}},"de_BatchWriteItemCommand"),toe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=ale(r,e),{$metadata:k(t),...n}},"de_CreateBackupCommand"),roe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=cle(r,e),{$metadata:k(t),...n}},"de_CreateGlobalTableCommand"),noe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=lle(r,e),{$metadata:k(t),...n}},"de_CreateTableCommand"),ioe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=dle(r,e),{$metadata:k(t),...n}},"de_DeleteBackupCommand"),soe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=ule(r,e),{$metadata:k(t),...n}},"de_DeleteItemCommand"),ooe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_DeleteResourcePolicyCommand"),aoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=mle(r,e),{$metadata:k(t),...n}},"de_DeleteTableCommand"),coe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=fle(r,e),{$metadata:k(t),...n}},"de_DescribeBackupCommand"),loe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=hle(r,e),{$metadata:k(t),...n}},"de_DescribeContinuousBackupsCommand"),doe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=yle(r,e),{$metadata:k(t),...n}},"de_DescribeContributorInsightsCommand"),uoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_DescribeEndpointsCommand"),poe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=gle(r,e),{$metadata:k(t),...n}},"de_DescribeExportCommand"),moe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=vle(r,e),{$metadata:k(t),...n}},"de_DescribeGlobalTableCommand"),foe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=_le(r,e),{$metadata:k(t),...n}},"de_DescribeGlobalTableSettingsCommand"),hoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=ble(r,e),{$metadata:k(t),...n}},"de_DescribeImportCommand"),yoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_DescribeKinesisStreamingDestinationCommand"),goe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_DescribeLimitsCommand"),voe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Ele(r,e),{$metadata:k(t),...n}},"de_DescribeTableCommand"),_oe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Sle(r,e),{$metadata:k(t),...n}},"de_DescribeTableReplicaAutoScalingCommand"),boe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_DescribeTimeToLiveCommand"),Eoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_DisableKinesisStreamingDestinationCommand"),Soe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_EnableKinesisStreamingDestinationCommand"),Coe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Cle(r,e),{$metadata:k(t),...n}},"de_ExecuteStatementCommand"),xoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=xle(r,e),{$metadata:k(t),...n}},"de_ExecuteTransactionCommand"),woe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=wle(r,e),{$metadata:k(t),...n}},"de_ExportTableToPointInTimeCommand"),Ioe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Ile(r,e),{$metadata:k(t),...n}},"de_GetItemCommand"),Toe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_GetResourcePolicyCommand"),Poe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Rle(r,e),{$metadata:k(t),...n}},"de_ImportTableCommand"),Aoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Ble(r,e),{$metadata:k(t),...n}},"de_ListBackupsCommand"),Ooe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_ListContributorInsightsCommand"),Roe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_ListExportsCommand"),Noe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_ListGlobalTablesCommand"),koe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Ule(r,e),{$metadata:k(t),...n}},"de_ListImportsCommand"),Doe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_ListTablesCommand"),Moe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_ListTagsOfResourceCommand"),Foe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Kle(r,e),{$metadata:k(t),...n}},"de_PutItemCommand"),joe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_PutResourcePolicyCommand"),Loe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=Wle(r,e),{$metadata:k(t),...n}},"de_QueryCommand"),$oe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=ide(r,e),{$metadata:k(t),...n}},"de_RestoreTableFromBackupCommand"),Boe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=sde(r,e),{$metadata:k(t),...n}},"de_RestoreTableToPointInTimeCommand"),Uoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=ode(r,e),{$metadata:k(t),...n}},"de_ScanCommand"),qoe=u(async(t,e)=>t.statusCode>=300?Y(t,e):(await(0,p.collectBody)(t.body,e),{$metadata:k(t)}),"de_TagResourceCommand"),Voe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=lde(r,e),{$metadata:k(t),...n}},"de_TransactGetItemsCommand"),Goe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=ude(r,e),{$metadata:k(t),...n}},"de_TransactWriteItemsCommand"),Hoe=u(async(t,e)=>t.statusCode>=300?Y(t,e):(await(0,p.collectBody)(t.body,e),{$metadata:k(t)}),"de_UntagResourceCommand"),Koe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=pde(r,e),{$metadata:k(t),...n}},"de_UpdateContinuousBackupsCommand"),zoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_UpdateContributorInsightsCommand"),Woe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=mde(r,e),{$metadata:k(t),...n}},"de_UpdateGlobalTableCommand"),Joe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=fde(r,e),{$metadata:k(t),...n}},"de_UpdateGlobalTableSettingsCommand"),Yoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=hde(r,e),{$metadata:k(t),...n}},"de_UpdateItemCommand"),Zoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_UpdateKinesisStreamingDestinationCommand"),Qoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=yde(r,e),{$metadata:k(t),...n}},"de_UpdateTableCommand"),Xoe=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=gde(r,e),{$metadata:k(t),...n}},"de_UpdateTableReplicaAutoScalingCommand"),eae=u(async(t,e)=>{if(t.statusCode>=300)return Y(t,e);let r=await(0,q.parseJsonBody)(t.body,e),n={};return n=(0,p._json)(r),{$metadata:k(t),...n}},"de_UpdateTimeToLiveCommand"),Y=u(async(t,e)=>{let r={...t,body:await(0,q.parseJsonErrorBody)(t.body,e)},n=(0,q.loadRestJsonErrorCode)(t,r.body);switch(n){case"InternalServerError":case"com.amazonaws.dynamodb#InternalServerError":throw await fae(r,e);case"RequestLimitExceeded":case"com.amazonaws.dynamodb#RequestLimitExceeded":throw await Iae(r,e);case"InvalidEndpointException":case"com.amazonaws.dynamodb#InvalidEndpointException":throw await hae(r,e);case"ProvisionedThroughputExceededException":case"com.amazonaws.dynamodb#ProvisionedThroughputExceededException":throw await Sae(r,e);case"ResourceNotFoundException":case"com.amazonaws.dynamodb#ResourceNotFoundException":throw await Pae(r,e);case"ItemCollectionSizeLimitExceededException":case"com.amazonaws.dynamodb#ItemCollectionSizeLimitExceededException":throw await vae(r,e);case"BackupInUseException":case"com.amazonaws.dynamodb#BackupInUseException":throw await tae(r,e);case"ContinuousBackupsUnavailableException":case"com.amazonaws.dynamodb#ContinuousBackupsUnavailableException":throw await iae(r,e);case"LimitExceededException":case"com.amazonaws.dynamodb#LimitExceededException":throw await _ae(r,e);case"TableInUseException":case"com.amazonaws.dynamodb#TableInUseException":throw await Oae(r,e);case"TableNotFoundException":case"com.amazonaws.dynamodb#TableNotFoundException":throw await Rae(r,e);case"GlobalTableAlreadyExistsException":case"com.amazonaws.dynamodb#GlobalTableAlreadyExistsException":throw await cae(r,e);case"ResourceInUseException":case"com.amazonaws.dynamodb#ResourceInUseException":throw await Tae(r,e);case"BackupNotFoundException":case"com.amazonaws.dynamodb#BackupNotFoundException":throw await rae(r,e);case"ConditionalCheckFailedException":case"com.amazonaws.dynamodb#ConditionalCheckFailedException":throw await nae(r,e);case"ReplicatedWriteConflictException":case"com.amazonaws.dynamodb#ReplicatedWriteConflictException":throw await wae(r,e);case"TransactionConflictException":case"com.amazonaws.dynamodb#TransactionConflictException":throw await kae(r,e);case"PolicyNotFoundException":case"com.amazonaws.dynamodb#PolicyNotFoundException":throw await Eae(r,e);case"ExportNotFoundException":case"com.amazonaws.dynamodb#ExportNotFoundException":throw await aae(r,e);case"GlobalTableNotFoundException":case"com.amazonaws.dynamodb#GlobalTableNotFoundException":throw await lae(r,e);case"ImportNotFoundException":case"com.amazonaws.dynamodb#ImportNotFoundException":throw await pae(r,e);case"DuplicateItemException":case"com.amazonaws.dynamodb#DuplicateItemException":throw await sae(r,e);case"IdempotentParameterMismatchException":case"com.amazonaws.dynamodb#IdempotentParameterMismatchException":throw await dae(r,e);case"TransactionCanceledException":case"com.amazonaws.dynamodb#TransactionCanceledException":throw await Nae(r,e);case"TransactionInProgressException":case"com.amazonaws.dynamodb#TransactionInProgressException":throw await Dae(r,e);case"ExportConflictException":case"com.amazonaws.dynamodb#ExportConflictException":throw await oae(r,e);case"InvalidExportTimeException":case"com.amazonaws.dynamodb#InvalidExportTimeException":throw await yae(r,e);case"PointInTimeRecoveryUnavailableException":case"com.amazonaws.dynamodb#PointInTimeRecoveryUnavailableException":throw await bae(r,e);case"ImportConflictException":case"com.amazonaws.dynamodb#ImportConflictException":throw await uae(r,e);case"TableAlreadyExistsException":case"com.amazonaws.dynamodb#TableAlreadyExistsException":throw await Aae(r,e);case"InvalidRestoreTimeException":case"com.amazonaws.dynamodb#InvalidRestoreTimeException":throw await gae(r,e);case"ReplicaAlreadyExistsException":case"com.amazonaws.dynamodb#ReplicaAlreadyExistsException":throw await Cae(r,e);case"ReplicaNotFoundException":case"com.amazonaws.dynamodb#ReplicaNotFoundException":throw await xae(r,e);case"IndexNotFoundException":case"com.amazonaws.dynamodb#IndexNotFoundException":throw await mae(r,e);default:let i=r.body;return bde({output:t,parsedBody:i,errorCode:n})}},"de_CommandError"),tae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new cF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_BackupInUseExceptionRes"),rae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new dF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_BackupNotFoundExceptionRes"),nae=u(async(t,e)=>{let r=t.body,n=ole(r,e),i=new vj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ConditionalCheckFailedExceptionRes"),iae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new xF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ContinuousBackupsUnavailableExceptionRes"),sae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new WF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_DuplicateItemExceptionRes"),oae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new ej({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ExportConflictExceptionRes"),aae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new qF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ExportNotFoundExceptionRes"),cae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new NF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_GlobalTableAlreadyExistsExceptionRes"),lae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new GF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_GlobalTableNotFoundExceptionRes"),dae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new YF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_IdempotentParameterMismatchExceptionRes"),uae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new oj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ImportConflictExceptionRes"),pae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new KF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ImportNotFoundExceptionRes"),mae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new yj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_IndexNotFoundExceptionRes"),fae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new pF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_InternalServerErrorRes"),hae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new yF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_InvalidEndpointExceptionRes"),yae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new rj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_InvalidExportTimeExceptionRes"),gae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new dj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_InvalidRestoreTimeExceptionRes"),vae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new SF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ItemCollectionSizeLimitExceededExceptionRes"),_ae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new IF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_LimitExceededExceptionRes"),bae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new ij({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_PointInTimeRecoveryUnavailableExceptionRes"),Eae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new BF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_PolicyNotFoundExceptionRes"),Sae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new vF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ProvisionedThroughputExceededExceptionRes"),Cae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new pj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ReplicaAlreadyExistsExceptionRes"),xae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new fj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ReplicaNotFoundExceptionRes"),wae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new FF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ReplicatedWriteConflictExceptionRes"),Iae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new fF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_RequestLimitExceededRes"),Tae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new DF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ResourceInUseExceptionRes"),Pae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new bF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_ResourceNotFoundExceptionRes"),Aae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new cj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_TableAlreadyExistsExceptionRes"),Oae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new PF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_TableInUseExceptionRes"),Rae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new OF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_TableNotFoundExceptionRes"),Nae=u(async(t,e)=>{let r=t.body,n=dde(r,e),i=new bj({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_TransactionCanceledExceptionRes"),kae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new LF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_TransactionConflictExceptionRes"),Dae=u(async(t,e)=>{let r=t.body,n=(0,p._json)(r),i=new QF({$metadata:k(t),...n});return(0,p.decorateServiceException)(i,r)},"de_TransactionInProgressExceptionRes"),Mae=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Fae(i,e)),r),{}),"se_AttributeUpdates"),Vn=u((t,e)=>Kp.visit(t,{B:u(r=>({B:e.base64Encoder(r)}),"B"),BOOL:u(r=>({BOOL:r}),"BOOL"),BS:u(r=>({BS:Hae(r,e)}),"BS"),L:u(r=>({L:uce(r,e)}),"L"),M:u(r=>({M:mce(r,e)}),"M"),N:u(r=>({N:r}),"N"),NS:u(r=>({NS:(0,p._json)(r)}),"NS"),NULL:u(r=>({NULL:r}),"NULL"),S:u(r=>({S:r}),"S"),SS:u(r=>({SS:(0,p._json)(r)}),"SS"),_:u((r,n)=>({[r]:n}),"_")}),"se_AttributeValue"),Sj=u((t,e)=>t.filter(r=>r!=null).map(r=>Vn(r,e)),"se_AttributeValueList"),Fae=u((t,e)=>(0,p.take)(t,{Action:[],Value:u(r=>Vn(r,e),"Value")}),"se_AttributeValueUpdate"),jae=u((t,e)=>(0,p.take)(t,{PolicyName:[],TargetTrackingScalingPolicyConfiguration:u(r=>Lae(r,e),"TargetTrackingScalingPolicyConfiguration")}),"se_AutoScalingPolicyUpdate"),Oi=u((t,e)=>(0,p.take)(t,{AutoScalingDisabled:[],AutoScalingRoleArn:[],MaximumUnits:[],MinimumUnits:[],ScalingPolicyUpdate:u(r=>jae(r,e),"ScalingPolicyUpdate")}),"se_AutoScalingSettingsUpdate"),Lae=u((t,e)=>(0,p.take)(t,{DisableScaleIn:[],ScaleInCooldown:[],ScaleOutCooldown:[],TargetValue:p.serializeFloat}),"se_AutoScalingTargetTrackingScalingPolicyConfigurationUpdate"),$ae=u((t,e)=>(0,p.take)(t,{ReturnConsumedCapacity:[],Statements:u(r=>yce(r,e),"Statements")}),"se_BatchExecuteStatementInput"),Bae=u((t,e)=>(0,p.take)(t,{RequestItems:u(r=>Uae(r,e),"RequestItems"),ReturnConsumedCapacity:[]}),"se_BatchGetItemInput"),Uae=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=dce(i,e)),r),{}),"se_BatchGetRequestMap"),qae=u((t,e)=>(0,p.take)(t,{ConsistentRead:[],Parameters:u(r=>e_(r,e),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_BatchStatementRequest"),Vae=u((t,e)=>(0,p.take)(t,{RequestItems:u(r=>Gae(r,e),"RequestItems"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[]}),"se_BatchWriteItemInput"),Gae=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=qce(i,e)),r),{}),"se_BatchWriteItemRequestMap"),Hae=u((t,e)=>t.filter(r=>r!=null).map(r=>e.base64Encoder(r)),"se_BinarySetAttributeValue"),Cj=u((t,e)=>(0,p.take)(t,{AttributeValueList:u(r=>Sj(r,e),"AttributeValueList"),ComparisonOperator:[]}),"se_Condition"),Kae=u((t,e)=>(0,p.take)(t,{ConditionExpression:[],ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),Key:u(r=>Lr(r,e),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_ConditionCheck"),zae=u((t,e)=>(0,p.take)(t,{ConditionExpression:[],ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),Key:u(r=>Lr(r,e),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Delete"),Wae=u((t,e)=>(0,p.take)(t,{ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Xv(r,e),"Expected"),ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),Key:u(r=>Lr(r,e),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_DeleteItemInput"),Jae=u((t,e)=>(0,p.take)(t,{Key:u(r=>Lr(r,e),"Key")}),"se_DeleteRequest"),Yae=u((t,e)=>(0,p.take)(t,{ConsistentRead:[],Limit:[],NextToken:[],Parameters:u(r=>e_(r,e),"Parameters"),ReturnConsumedCapacity:[],ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ExecuteStatementInput"),Zae=u((t,e)=>(0,p.take)(t,{ClientRequestToken:[!0,r=>r??(0,Wp.v4)()],ReturnConsumedCapacity:[],TransactStatements:u(r=>hce(r,e),"TransactStatements")}),"se_ExecuteTransactionInput"),Xv=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Qae(i,e)),r),{}),"se_ExpectedAttributeMap"),Qae=u((t,e)=>(0,p.take)(t,{AttributeValueList:u(r=>Sj(r,e),"AttributeValueList"),ComparisonOperator:[],Exists:[],Value:u(r=>Vn(r,e),"Value")}),"se_ExpectedAttributeValue"),Xae=u((t,e)=>(0,p.take)(t,{ClientToken:[!0,r=>r??(0,Wp.v4)()],ExportFormat:[],ExportTime:u(r=>r.getTime()/1e3,"ExportTime"),ExportType:[],IncrementalExportSpecification:u(r=>ace(r,e),"IncrementalExportSpecification"),S3Bucket:[],S3BucketOwner:[],S3Prefix:[],S3SseAlgorithm:[],S3SseKmsKeyId:[],TableArn:[]}),"se_ExportTableToPointInTimeInput"),Gn=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Vn(i,e)),r),{}),"se_ExpressionAttributeValueMap"),xj=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Cj(i,e)),r),{}),"se_FilterConditionMap"),ece=u((t,e)=>(0,p.take)(t,{ExpressionAttributeNames:p._json,Key:u(r=>Lr(r,e),"Key"),ProjectionExpression:[],TableName:[]}),"se_Get"),tce=u((t,e)=>(0,p.take)(t,{AttributesToGet:p._json,ConsistentRead:[],ExpressionAttributeNames:p._json,Key:u(r=>Lr(r,e),"Key"),ProjectionExpression:[],ReturnConsumedCapacity:[],TableName:[]}),"se_GetItemInput"),rce=u((t,e)=>(0,p.take)(t,{IndexName:[],ProvisionedWriteCapacityAutoScalingUpdate:u(r=>Oi(r,e),"ProvisionedWriteCapacityAutoScalingUpdate")}),"se_GlobalSecondaryIndexAutoScalingUpdate"),nce=u((t,e)=>t.filter(r=>r!=null).map(r=>rce(r,e)),"se_GlobalSecondaryIndexAutoScalingUpdateList"),ice=u((t,e)=>(0,p.take)(t,{IndexName:[],ProvisionedWriteCapacityAutoScalingSettingsUpdate:u(r=>Oi(r,e),"ProvisionedWriteCapacityAutoScalingSettingsUpdate"),ProvisionedWriteCapacityUnits:[]}),"se_GlobalTableGlobalSecondaryIndexSettingsUpdate"),sce=u((t,e)=>t.filter(r=>r!=null).map(r=>ice(r,e)),"se_GlobalTableGlobalSecondaryIndexSettingsUpdateList"),oce=u((t,e)=>(0,p.take)(t,{ClientToken:[!0,r=>r??(0,Wp.v4)()],InputCompressionType:[],InputFormat:[],InputFormatOptions:p._json,S3BucketSource:p._json,TableCreationParameters:p._json}),"se_ImportTableInput"),ace=u((t,e)=>(0,p.take)(t,{ExportFromTime:u(r=>r.getTime()/1e3,"ExportFromTime"),ExportToTime:u(r=>r.getTime()/1e3,"ExportToTime"),ExportViewType:[]}),"se_IncrementalExportSpecification"),Lr=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Vn(i,e)),r),{}),"se_Key"),cce=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Cj(i,e)),r),{}),"se_KeyConditions"),lce=u((t,e)=>t.filter(r=>r!=null).map(r=>Lr(r,e)),"se_KeyList"),dce=u((t,e)=>(0,p.take)(t,{AttributesToGet:p._json,ConsistentRead:[],ExpressionAttributeNames:p._json,Keys:u(r=>lce(r,e),"Keys"),ProjectionExpression:[]}),"se_KeysAndAttributes"),uce=u((t,e)=>t.filter(r=>r!=null).map(r=>Vn(r,e)),"se_ListAttributeValue"),pce=u((t,e)=>(0,p.take)(t,{BackupType:[],ExclusiveStartBackupArn:[],Limit:[],TableName:[],TimeRangeLowerBound:u(r=>r.getTime()/1e3,"TimeRangeLowerBound"),TimeRangeUpperBound:u(r=>r.getTime()/1e3,"TimeRangeUpperBound")}),"se_ListBackupsInput"),mce=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Vn(i,e)),r),{}),"se_MapAttributeValue"),fce=u((t,e)=>(0,p.take)(t,{Parameters:u(r=>e_(r,e),"Parameters"),ReturnValuesOnConditionCheckFailure:[],Statement:[]}),"se_ParameterizedStatement"),hce=u((t,e)=>t.filter(r=>r!=null).map(r=>fce(r,e)),"se_ParameterizedStatements"),yce=u((t,e)=>t.filter(r=>r!=null).map(r=>qae(r,e)),"se_PartiQLBatchRequest"),e_=u((t,e)=>t.filter(r=>r!=null).map(r=>Vn(r,e)),"se_PreparedStatementParameters"),gce=u((t,e)=>(0,p.take)(t,{ConditionExpression:[],ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),Item:u(r=>t_(r,e),"Item"),ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_Put"),vce=u((t,e)=>(0,p.take)(t,{ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Xv(r,e),"Expected"),ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),Item:u(r=>t_(r,e),"Item"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[]}),"se_PutItemInput"),t_=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Vn(i,e)),r),{}),"se_PutItemInputAttributeMap"),_ce=u((t,e)=>(0,p.take)(t,{Item:u(r=>t_(r,e),"Item")}),"se_PutRequest"),bce=u((t,e)=>(0,p.take)(t,{AttributesToGet:p._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:u(r=>Lr(r,e),"ExclusiveStartKey"),ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],KeyConditionExpression:[],KeyConditions:u(r=>cce(r,e),"KeyConditions"),Limit:[],ProjectionExpression:[],QueryFilter:u(r=>xj(r,e),"QueryFilter"),ReturnConsumedCapacity:[],ScanIndexForward:[],Select:[],TableName:[]}),"se_QueryInput"),Ece=u((t,e)=>(0,p.take)(t,{RegionName:[],ReplicaGlobalSecondaryIndexUpdates:u(r=>xce(r,e),"ReplicaGlobalSecondaryIndexUpdates"),ReplicaProvisionedReadCapacityAutoScalingUpdate:u(r=>Oi(r,e),"ReplicaProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaAutoScalingUpdate"),Sce=u((t,e)=>t.filter(r=>r!=null).map(r=>Ece(r,e)),"se_ReplicaAutoScalingUpdateList"),Cce=u((t,e)=>(0,p.take)(t,{IndexName:[],ProvisionedReadCapacityAutoScalingUpdate:u(r=>Oi(r,e),"ProvisionedReadCapacityAutoScalingUpdate")}),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdate"),xce=u((t,e)=>t.filter(r=>r!=null).map(r=>Cce(r,e)),"se_ReplicaGlobalSecondaryIndexAutoScalingUpdateList"),wce=u((t,e)=>(0,p.take)(t,{IndexName:[],ProvisionedReadCapacityAutoScalingSettingsUpdate:u(r=>Oi(r,e),"ProvisionedReadCapacityAutoScalingSettingsUpdate"),ProvisionedReadCapacityUnits:[]}),"se_ReplicaGlobalSecondaryIndexSettingsUpdate"),Ice=u((t,e)=>t.filter(r=>r!=null).map(r=>wce(r,e)),"se_ReplicaGlobalSecondaryIndexSettingsUpdateList"),Tce=u((t,e)=>(0,p.take)(t,{RegionName:[],ReplicaGlobalSecondaryIndexSettingsUpdate:u(r=>Ice(r,e),"ReplicaGlobalSecondaryIndexSettingsUpdate"),ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate:u(r=>Oi(r,e),"ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate"),ReplicaProvisionedReadCapacityUnits:[],ReplicaTableClass:[]}),"se_ReplicaSettingsUpdate"),Pce=u((t,e)=>t.filter(r=>r!=null).map(r=>Tce(r,e)),"se_ReplicaSettingsUpdateList"),Ace=u((t,e)=>(0,p.take)(t,{BillingModeOverride:[],GlobalSecondaryIndexOverride:p._json,LocalSecondaryIndexOverride:p._json,OnDemandThroughputOverride:p._json,ProvisionedThroughputOverride:p._json,RestoreDateTime:u(r=>r.getTime()/1e3,"RestoreDateTime"),SSESpecificationOverride:p._json,SourceTableArn:[],SourceTableName:[],TargetTableName:[],UseLatestRestorableTime:[]}),"se_RestoreTableToPointInTimeInput"),Oce=u((t,e)=>(0,p.take)(t,{AttributesToGet:p._json,ConditionalOperator:[],ConsistentRead:[],ExclusiveStartKey:u(r=>Lr(r,e),"ExclusiveStartKey"),ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),FilterExpression:[],IndexName:[],Limit:[],ProjectionExpression:[],ReturnConsumedCapacity:[],ScanFilter:u(r=>xj(r,e),"ScanFilter"),Segment:[],Select:[],TableName:[],TotalSegments:[]}),"se_ScanInput"),Rce=u((t,e)=>(0,p.take)(t,{Get:u(r=>ece(r,e),"Get")}),"se_TransactGetItem"),Nce=u((t,e)=>t.filter(r=>r!=null).map(r=>Rce(r,e)),"se_TransactGetItemList"),kce=u((t,e)=>(0,p.take)(t,{ReturnConsumedCapacity:[],TransactItems:u(r=>Nce(r,e),"TransactItems")}),"se_TransactGetItemsInput"),Dce=u((t,e)=>(0,p.take)(t,{ConditionCheck:u(r=>Kae(r,e),"ConditionCheck"),Delete:u(r=>zae(r,e),"Delete"),Put:u(r=>gce(r,e),"Put"),Update:u(r=>jce(r,e),"Update")}),"se_TransactWriteItem"),Mce=u((t,e)=>t.filter(r=>r!=null).map(r=>Dce(r,e)),"se_TransactWriteItemList"),Fce=u((t,e)=>(0,p.take)(t,{ClientRequestToken:[!0,r=>r??(0,Wp.v4)()],ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],TransactItems:u(r=>Mce(r,e),"TransactItems")}),"se_TransactWriteItemsInput"),jce=u((t,e)=>(0,p.take)(t,{ConditionExpression:[],ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),Key:u(r=>Lr(r,e),"Key"),ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_Update"),Lce=u((t,e)=>(0,p.take)(t,{GlobalTableBillingMode:[],GlobalTableGlobalSecondaryIndexSettingsUpdate:u(r=>sce(r,e),"GlobalTableGlobalSecondaryIndexSettingsUpdate"),GlobalTableName:[],GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate:u(r=>Oi(r,e),"GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate"),GlobalTableProvisionedWriteCapacityUnits:[],ReplicaSettingsUpdate:u(r=>Pce(r,e),"ReplicaSettingsUpdate")}),"se_UpdateGlobalTableSettingsInput"),$ce=u((t,e)=>(0,p.take)(t,{AttributeUpdates:u(r=>Mae(r,e),"AttributeUpdates"),ConditionExpression:[],ConditionalOperator:[],Expected:u(r=>Xv(r,e),"Expected"),ExpressionAttributeNames:p._json,ExpressionAttributeValues:u(r=>Gn(r,e),"ExpressionAttributeValues"),Key:u(r=>Lr(r,e),"Key"),ReturnConsumedCapacity:[],ReturnItemCollectionMetrics:[],ReturnValues:[],ReturnValuesOnConditionCheckFailure:[],TableName:[],UpdateExpression:[]}),"se_UpdateItemInput"),Bce=u((t,e)=>(0,p.take)(t,{GlobalSecondaryIndexUpdates:u(r=>nce(r,e),"GlobalSecondaryIndexUpdates"),ProvisionedWriteCapacityAutoScalingUpdate:u(r=>Oi(r,e),"ProvisionedWriteCapacityAutoScalingUpdate"),ReplicaUpdates:u(r=>Sce(r,e),"ReplicaUpdates"),TableName:[]}),"se_UpdateTableReplicaAutoScalingInput"),Uce=u((t,e)=>(0,p.take)(t,{DeleteRequest:u(r=>Jae(r,e),"DeleteRequest"),PutRequest:u(r=>_ce(r,e),"PutRequest")}),"se_WriteRequest"),qce=u((t,e)=>t.filter(r=>r!=null).map(r=>Uce(r,e)),"se_WriteRequests"),Vce=u((t,e)=>(0,p.take)(t,{ArchivalBackupArn:p.expectString,ArchivalDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"ArchivalDateTime"),ArchivalReason:p.expectString}),"de_ArchivalSummary"),pn=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Jo((0,q.awsExpectUnion)(i),e)),r),{}),"de_AttributeMap"),Jo=u((t,e)=>t.B!=null?{B:e.base64Decoder(t.B)}:(0,p.expectBoolean)(t.BOOL)!==void 0?{BOOL:(0,p.expectBoolean)(t.BOOL)}:t.BS!=null?{BS:nle(t.BS,e)}:t.L!=null?{L:$le(t.L,e)}:t.M!=null?{M:qle(t.M,e)}:(0,p.expectString)(t.N)!==void 0?{N:(0,p.expectString)(t.N)}:t.NS!=null?{NS:(0,p._json)(t.NS)}:(0,p.expectBoolean)(t.NULL)!==void 0?{NULL:(0,p.expectBoolean)(t.NULL)}:(0,p.expectString)(t.S)!==void 0?{S:(0,p.expectString)(t.S)}:t.SS!=null?{SS:(0,p._json)(t.SS)}:{$unknown:Object.entries(t)[0]},"de_AttributeValue"),Gce=u((t,e)=>(0,p.take)(t,{PolicyName:p.expectString,TargetTrackingScalingPolicyConfiguration:u(r=>Kce(r,e),"TargetTrackingScalingPolicyConfiguration")}),"de_AutoScalingPolicyDescription"),Hce=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Gce(n,e)),"de_AutoScalingPolicyDescriptionList"),Ai=u((t,e)=>(0,p.take)(t,{AutoScalingDisabled:p.expectBoolean,AutoScalingRoleArn:p.expectString,MaximumUnits:p.expectLong,MinimumUnits:p.expectLong,ScalingPolicies:u(r=>Hce(r,e),"ScalingPolicies")}),"de_AutoScalingSettingsDescription"),Kce=u((t,e)=>(0,p.take)(t,{DisableScaleIn:p.expectBoolean,ScaleInCooldown:p.expectInt32,ScaleOutCooldown:p.expectInt32,TargetValue:p.limitedParseDouble}),"de_AutoScalingTargetTrackingScalingPolicyConfigurationDescription"),wj=u((t,e)=>(0,p.take)(t,{BackupDetails:u(r=>Ij(r,e),"BackupDetails"),SourceTableDetails:u(r=>ade(r,e),"SourceTableDetails"),SourceTableFeatureDetails:u(r=>cde(r,e),"SourceTableFeatureDetails")}),"de_BackupDescription"),Ij=u((t,e)=>(0,p.take)(t,{BackupArn:p.expectString,BackupCreationDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:p.expectString,BackupSizeBytes:p.expectLong,BackupStatus:p.expectString,BackupType:p.expectString}),"de_BackupDetails"),zce=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Wce(n,e)),"de_BackupSummaries"),Wce=u((t,e)=>(0,p.take)(t,{BackupArn:p.expectString,BackupCreationDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"BackupCreationDateTime"),BackupExpiryDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"BackupExpiryDateTime"),BackupName:p.expectString,BackupSizeBytes:p.expectLong,BackupStatus:p.expectString,BackupType:p.expectString,TableArn:p.expectString,TableId:p.expectString,TableName:p.expectString}),"de_BackupSummary"),Jce=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Yo(r,e),"ConsumedCapacity"),Responses:u(r=>Vle(r,e),"Responses")}),"de_BatchExecuteStatementOutput"),Yce=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Yo(r,e),"ConsumedCapacity"),Responses:u(r=>Qce(r,e),"Responses"),UnprocessedKeys:u(r=>Zce(r,e),"UnprocessedKeys")}),"de_BatchGetItemOutput"),Zce=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Lle(i,e)),r),{}),"de_BatchGetRequestMap"),Qce=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Yp(i,e)),r),{}),"de_BatchGetResponseMap"),Xce=u((t,e)=>(0,p.take)(t,{Code:p.expectString,Item:u(r=>pn(r,e),"Item"),Message:p.expectString}),"de_BatchStatementError"),ele=u((t,e)=>(0,p.take)(t,{Error:u(r=>Xce(r,e),"Error"),Item:u(r=>pn(r,e),"Item"),TableName:p.expectString}),"de_BatchStatementResponse"),tle=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Yo(r,e),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>Nj(r,e),"ItemCollectionMetrics"),UnprocessedItems:u(r=>rle(r,e),"UnprocessedItems")}),"de_BatchWriteItemOutput"),rle=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=_de(i,e)),r),{}),"de_BatchWriteItemRequestMap"),Tj=u((t,e)=>(0,p.take)(t,{BillingMode:p.expectString,LastUpdateToPayPerRequestDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"LastUpdateToPayPerRequestDateTime")}),"de_BillingModeSummary"),nle=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>e.base64Decoder(n)),"de_BinarySetAttributeValue"),ile=u((t,e)=>(0,p.take)(t,{Code:p.expectString,Item:u(r=>pn(r,e),"Item"),Message:p.expectString}),"de_CancellationReason"),sle=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>ile(n,e)),"de_CancellationReasonList"),Pj=u((t,e)=>(0,p.take)(t,{CapacityUnits:p.limitedParseDouble,ReadCapacityUnits:p.limitedParseDouble,WriteCapacityUnits:p.limitedParseDouble}),"de_Capacity"),ole=u((t,e)=>(0,p.take)(t,{Item:u(r=>pn(r,e),"Item"),message:p.expectString}),"de_ConditionalCheckFailedException"),Ri=u((t,e)=>(0,p.take)(t,{CapacityUnits:p.limitedParseDouble,GlobalSecondaryIndexes:u(r=>iF(r,e),"GlobalSecondaryIndexes"),LocalSecondaryIndexes:u(r=>iF(r,e),"LocalSecondaryIndexes"),ReadCapacityUnits:p.limitedParseDouble,Table:u(r=>Pj(r,e),"Table"),TableName:p.expectString,WriteCapacityUnits:p.limitedParseDouble}),"de_ConsumedCapacity"),Yo=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Ri(n,e)),"de_ConsumedCapacityMultiple"),Aj=u((t,e)=>(0,p.take)(t,{ContinuousBackupsStatus:p.expectString,PointInTimeRecoveryDescription:u(r=>Gle(r,e),"PointInTimeRecoveryDescription")}),"de_ContinuousBackupsDescription"),ale=u((t,e)=>(0,p.take)(t,{BackupDetails:u(r=>Ij(r,e),"BackupDetails")}),"de_CreateBackupOutput"),cle=u((t,e)=>(0,p.take)(t,{GlobalTableDescription:u(r=>r_(r,e),"GlobalTableDescription")}),"de_CreateGlobalTableOutput"),lle=u((t,e)=>(0,p.take)(t,{TableDescription:u(r=>Zo(r,e),"TableDescription")}),"de_CreateTableOutput"),dle=u((t,e)=>(0,p.take)(t,{BackupDescription:u(r=>wj(r,e),"BackupDescription")}),"de_DeleteBackupOutput"),ule=u((t,e)=>(0,p.take)(t,{Attributes:u(r=>pn(r,e),"Attributes"),ConsumedCapacity:u(r=>Ri(r,e),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>Jp(r,e),"ItemCollectionMetrics")}),"de_DeleteItemOutput"),ple=u((t,e)=>(0,p.take)(t,{Key:u(r=>Ac(r,e),"Key")}),"de_DeleteRequest"),mle=u((t,e)=>(0,p.take)(t,{TableDescription:u(r=>Zo(r,e),"TableDescription")}),"de_DeleteTableOutput"),fle=u((t,e)=>(0,p.take)(t,{BackupDescription:u(r=>wj(r,e),"BackupDescription")}),"de_DescribeBackupOutput"),hle=u((t,e)=>(0,p.take)(t,{ContinuousBackupsDescription:u(r=>Aj(r,e),"ContinuousBackupsDescription")}),"de_DescribeContinuousBackupsOutput"),yle=u((t,e)=>(0,p.take)(t,{ContributorInsightsRuleList:p._json,ContributorInsightsStatus:p.expectString,FailureException:p._json,IndexName:p.expectString,LastUpdateDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"LastUpdateDateTime"),TableName:p.expectString}),"de_DescribeContributorInsightsOutput"),gle=u((t,e)=>(0,p.take)(t,{ExportDescription:u(r=>Oj(r,e),"ExportDescription")}),"de_DescribeExportOutput"),vle=u((t,e)=>(0,p.take)(t,{GlobalTableDescription:u(r=>r_(r,e),"GlobalTableDescription")}),"de_DescribeGlobalTableOutput"),_le=u((t,e)=>(0,p.take)(t,{GlobalTableName:p.expectString,ReplicaSettings:u(r=>Fj(r,e),"ReplicaSettings")}),"de_DescribeGlobalTableSettingsOutput"),ble=u((t,e)=>(0,p.take)(t,{ImportTableDescription:u(r=>Rj(r,e),"ImportTableDescription")}),"de_DescribeImportOutput"),Ele=u((t,e)=>(0,p.take)(t,{Table:u(r=>Zo(r,e),"Table")}),"de_DescribeTableOutput"),Sle=u((t,e)=>(0,p.take)(t,{TableAutoScalingDescription:u(r=>Lj(r,e),"TableAutoScalingDescription")}),"de_DescribeTableReplicaAutoScalingOutput"),Cle=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Ri(r,e),"ConsumedCapacity"),Items:u(r=>Yp(r,e),"Items"),LastEvaluatedKey:u(r=>Ac(r,e),"LastEvaluatedKey"),NextToken:p.expectString}),"de_ExecuteStatementOutput"),xle=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Yo(r,e),"ConsumedCapacity"),Responses:u(r=>kj(r,e),"Responses")}),"de_ExecuteTransactionOutput"),Oj=u((t,e)=>(0,p.take)(t,{BilledSizeBytes:p.expectLong,ClientToken:p.expectString,EndTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"EndTime"),ExportArn:p.expectString,ExportFormat:p.expectString,ExportManifest:p.expectString,ExportStatus:p.expectString,ExportTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"ExportTime"),ExportType:p.expectString,FailureCode:p.expectString,FailureMessage:p.expectString,IncrementalExportSpecification:u(r=>Nle(r,e),"IncrementalExportSpecification"),ItemCount:p.expectLong,S3Bucket:p.expectString,S3BucketOwner:p.expectString,S3Prefix:p.expectString,S3SseAlgorithm:p.expectString,S3SseKmsKeyId:p.expectString,StartTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"StartTime"),TableArn:p.expectString,TableId:p.expectString}),"de_ExportDescription"),wle=u((t,e)=>(0,p.take)(t,{ExportDescription:u(r=>Oj(r,e),"ExportDescription")}),"de_ExportTableToPointInTimeOutput"),Ile=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Ri(r,e),"ConsumedCapacity"),Item:u(r=>pn(r,e),"Item")}),"de_GetItemOutput"),Tle=u((t,e)=>(0,p.take)(t,{Backfilling:p.expectBoolean,IndexArn:p.expectString,IndexName:p.expectString,IndexSizeBytes:p.expectLong,IndexStatus:p.expectString,ItemCount:p.expectLong,KeySchema:p._json,OnDemandThroughput:p._json,Projection:p._json,ProvisionedThroughput:u(r=>Dj(r,e),"ProvisionedThroughput"),WarmThroughput:p._json}),"de_GlobalSecondaryIndexDescription"),Ple=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Tle(n,e)),"de_GlobalSecondaryIndexDescriptionList"),r_=u((t,e)=>(0,p.take)(t,{CreationDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"CreationDateTime"),GlobalTableArn:p.expectString,GlobalTableName:p.expectString,GlobalTableStatus:p.expectString,ReplicationGroup:u(r=>Mj(r,e),"ReplicationGroup")}),"de_GlobalTableDescription"),Ale=u((t,e)=>(0,p.take)(t,{CloudWatchLogGroupArn:p.expectString,EndTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"EndTime"),ImportArn:p.expectString,ImportStatus:p.expectString,InputFormat:p.expectString,S3BucketSource:p._json,StartTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"StartTime"),TableArn:p.expectString}),"de_ImportSummary"),Ole=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Ale(n,e)),"de_ImportSummaryList"),Rj=u((t,e)=>(0,p.take)(t,{ClientToken:p.expectString,CloudWatchLogGroupArn:p.expectString,EndTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"EndTime"),ErrorCount:p.expectLong,FailureCode:p.expectString,FailureMessage:p.expectString,ImportArn:p.expectString,ImportStatus:p.expectString,ImportedItemCount:p.expectLong,InputCompressionType:p.expectString,InputFormat:p.expectString,InputFormatOptions:p._json,ProcessedItemCount:p.expectLong,ProcessedSizeBytes:p.expectLong,S3BucketSource:p._json,StartTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"StartTime"),TableArn:p.expectString,TableCreationParameters:p._json,TableId:p.expectString}),"de_ImportTableDescription"),Rle=u((t,e)=>(0,p.take)(t,{ImportTableDescription:u(r=>Rj(r,e),"ImportTableDescription")}),"de_ImportTableOutput"),Nle=u((t,e)=>(0,p.take)(t,{ExportFromTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"ExportFromTime"),ExportToTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"ExportToTime"),ExportViewType:p.expectString}),"de_IncrementalExportSpecification"),kle=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Jo((0,q.awsExpectUnion)(i),e)),r),{}),"de_ItemCollectionKeyAttributeMap"),Jp=u((t,e)=>(0,p.take)(t,{ItemCollectionKey:u(r=>kle(r,e),"ItemCollectionKey"),SizeEstimateRangeGB:u(r=>Mle(r,e),"SizeEstimateRangeGB")}),"de_ItemCollectionMetrics"),Dle=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Jp(n,e)),"de_ItemCollectionMetricsMultiple"),Nj=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Dle(i,e)),r),{}),"de_ItemCollectionMetricsPerTable"),Mle=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>(0,p.limitedParseDouble)(n)),"de_ItemCollectionSizeEstimateRange"),Yp=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>pn(n,e)),"de_ItemList"),Fle=u((t,e)=>(0,p.take)(t,{Item:u(r=>pn(r,e),"Item")}),"de_ItemResponse"),kj=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Fle(n,e)),"de_ItemResponseList"),Ac=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Jo((0,q.awsExpectUnion)(i),e)),r),{}),"de_Key"),jle=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Ac(n,e)),"de_KeyList"),Lle=u((t,e)=>(0,p.take)(t,{AttributesToGet:p._json,ConsistentRead:p.expectBoolean,ExpressionAttributeNames:p._json,Keys:u(r=>jle(r,e),"Keys"),ProjectionExpression:p.expectString}),"de_KeysAndAttributes"),$le=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Jo((0,q.awsExpectUnion)(n),e)),"de_ListAttributeValue"),Ble=u((t,e)=>(0,p.take)(t,{BackupSummaries:u(r=>zce(r,e),"BackupSummaries"),LastEvaluatedBackupArn:p.expectString}),"de_ListBackupsOutput"),Ule=u((t,e)=>(0,p.take)(t,{ImportSummaryList:u(r=>Ole(r,e),"ImportSummaryList"),NextToken:p.expectString}),"de_ListImportsOutput"),qle=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Jo((0,q.awsExpectUnion)(i),e)),r),{}),"de_MapAttributeValue"),Vle=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>ele(n,e)),"de_PartiQLBatchResponse"),Gle=u((t,e)=>(0,p.take)(t,{EarliestRestorableDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"EarliestRestorableDateTime"),LatestRestorableDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"LatestRestorableDateTime"),PointInTimeRecoveryStatus:p.expectString,RecoveryPeriodInDays:p.expectInt32}),"de_PointInTimeRecoveryDescription"),Dj=u((t,e)=>(0,p.take)(t,{LastDecreaseDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"LastDecreaseDateTime"),LastIncreaseDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"LastIncreaseDateTime"),NumberOfDecreasesToday:p.expectLong,ReadCapacityUnits:p.expectLong,WriteCapacityUnits:p.expectLong}),"de_ProvisionedThroughputDescription"),Hle=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Jo((0,q.awsExpectUnion)(i),e)),r),{}),"de_PutItemInputAttributeMap"),Kle=u((t,e)=>(0,p.take)(t,{Attributes:u(r=>pn(r,e),"Attributes"),ConsumedCapacity:u(r=>Ri(r,e),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>Jp(r,e),"ItemCollectionMetrics")}),"de_PutItemOutput"),zle=u((t,e)=>(0,p.take)(t,{Item:u(r=>Hle(r,e),"Item")}),"de_PutRequest"),Wle=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Ri(r,e),"ConsumedCapacity"),Count:p.expectInt32,Items:u(r=>Yp(r,e),"Items"),LastEvaluatedKey:u(r=>Ac(r,e),"LastEvaluatedKey"),ScannedCount:p.expectInt32}),"de_QueryOutput"),Jle=u((t,e)=>(0,p.take)(t,{GlobalSecondaryIndexes:u(r=>Xle(r,e),"GlobalSecondaryIndexes"),RegionName:p.expectString,ReplicaProvisionedReadCapacityAutoScalingSettings:u(r=>Ai(r,e),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityAutoScalingSettings:u(r=>Ai(r,e),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaStatus:p.expectString}),"de_ReplicaAutoScalingDescription"),Yle=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Jle(n,e)),"de_ReplicaAutoScalingDescriptionList"),Zle=u((t,e)=>(0,p.take)(t,{GlobalSecondaryIndexes:p._json,KMSMasterKeyId:p.expectString,OnDemandThroughputOverride:p._json,ProvisionedThroughputOverride:p._json,RegionName:p.expectString,ReplicaInaccessibleDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"ReplicaInaccessibleDateTime"),ReplicaStatus:p.expectString,ReplicaStatusDescription:p.expectString,ReplicaStatusPercentProgress:p.expectString,ReplicaTableClassSummary:u(r=>n_(r,e),"ReplicaTableClassSummary"),WarmThroughput:p._json}),"de_ReplicaDescription"),Mj=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Zle(n,e)),"de_ReplicaDescriptionList"),Qle=u((t,e)=>(0,p.take)(t,{IndexName:p.expectString,IndexStatus:p.expectString,ProvisionedReadCapacityAutoScalingSettings:u(r=>Ai(r,e),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedWriteCapacityAutoScalingSettings:u(r=>Ai(r,e),"ProvisionedWriteCapacityAutoScalingSettings")}),"de_ReplicaGlobalSecondaryIndexAutoScalingDescription"),Xle=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>Qle(n,e)),"de_ReplicaGlobalSecondaryIndexAutoScalingDescriptionList"),ede=u((t,e)=>(0,p.take)(t,{IndexName:p.expectString,IndexStatus:p.expectString,ProvisionedReadCapacityAutoScalingSettings:u(r=>Ai(r,e),"ProvisionedReadCapacityAutoScalingSettings"),ProvisionedReadCapacityUnits:p.expectLong,ProvisionedWriteCapacityAutoScalingSettings:u(r=>Ai(r,e),"ProvisionedWriteCapacityAutoScalingSettings"),ProvisionedWriteCapacityUnits:p.expectLong}),"de_ReplicaGlobalSecondaryIndexSettingsDescription"),tde=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>ede(n,e)),"de_ReplicaGlobalSecondaryIndexSettingsDescriptionList"),rde=u((t,e)=>(0,p.take)(t,{RegionName:p.expectString,ReplicaBillingModeSummary:u(r=>Tj(r,e),"ReplicaBillingModeSummary"),ReplicaGlobalSecondaryIndexSettings:u(r=>tde(r,e),"ReplicaGlobalSecondaryIndexSettings"),ReplicaProvisionedReadCapacityAutoScalingSettings:u(r=>Ai(r,e),"ReplicaProvisionedReadCapacityAutoScalingSettings"),ReplicaProvisionedReadCapacityUnits:p.expectLong,ReplicaProvisionedWriteCapacityAutoScalingSettings:u(r=>Ai(r,e),"ReplicaProvisionedWriteCapacityAutoScalingSettings"),ReplicaProvisionedWriteCapacityUnits:p.expectLong,ReplicaStatus:p.expectString,ReplicaTableClassSummary:u(r=>n_(r,e),"ReplicaTableClassSummary")}),"de_ReplicaSettingsDescription"),Fj=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>rde(n,e)),"de_ReplicaSettingsDescriptionList"),nde=u((t,e)=>(0,p.take)(t,{RestoreDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"RestoreDateTime"),RestoreInProgress:p.expectBoolean,SourceBackupArn:p.expectString,SourceTableArn:p.expectString}),"de_RestoreSummary"),ide=u((t,e)=>(0,p.take)(t,{TableDescription:u(r=>Zo(r,e),"TableDescription")}),"de_RestoreTableFromBackupOutput"),sde=u((t,e)=>(0,p.take)(t,{TableDescription:u(r=>Zo(r,e),"TableDescription")}),"de_RestoreTableToPointInTimeOutput"),ode=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Ri(r,e),"ConsumedCapacity"),Count:p.expectInt32,Items:u(r=>Yp(r,e),"Items"),LastEvaluatedKey:u(r=>Ac(r,e),"LastEvaluatedKey"),ScannedCount:p.expectInt32}),"de_ScanOutput"),iF=u((t,e)=>Object.entries(t).reduce((r,[n,i])=>(i===null||(r[n]=Pj(i,e)),r),{}),"de_SecondaryIndexesCapacityMap"),ade=u((t,e)=>(0,p.take)(t,{BillingMode:p.expectString,ItemCount:p.expectLong,KeySchema:p._json,OnDemandThroughput:p._json,ProvisionedThroughput:p._json,TableArn:p.expectString,TableCreationDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"TableCreationDateTime"),TableId:p.expectString,TableName:p.expectString,TableSizeBytes:p.expectLong}),"de_SourceTableDetails"),cde=u((t,e)=>(0,p.take)(t,{GlobalSecondaryIndexes:p._json,LocalSecondaryIndexes:p._json,SSEDescription:u(r=>jj(r,e),"SSEDescription"),StreamDescription:p._json,TimeToLiveDescription:p._json}),"de_SourceTableFeatureDetails"),jj=u((t,e)=>(0,p.take)(t,{InaccessibleEncryptionDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"InaccessibleEncryptionDateTime"),KMSMasterKeyArn:p.expectString,SSEType:p.expectString,Status:p.expectString}),"de_SSEDescription"),Lj=u((t,e)=>(0,p.take)(t,{Replicas:u(r=>Yle(r,e),"Replicas"),TableName:p.expectString,TableStatus:p.expectString}),"de_TableAutoScalingDescription"),n_=u((t,e)=>(0,p.take)(t,{LastUpdateDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"LastUpdateDateTime"),TableClass:p.expectString}),"de_TableClassSummary"),Zo=u((t,e)=>(0,p.take)(t,{ArchivalSummary:u(r=>Vce(r,e),"ArchivalSummary"),AttributeDefinitions:p._json,BillingModeSummary:u(r=>Tj(r,e),"BillingModeSummary"),CreationDateTime:u(r=>(0,p.expectNonNull)((0,p.parseEpochTimestamp)((0,p.expectNumber)(r))),"CreationDateTime"),DeletionProtectionEnabled:p.expectBoolean,GlobalSecondaryIndexes:u(r=>Ple(r,e),"GlobalSecondaryIndexes"),GlobalTableVersion:p.expectString,ItemCount:p.expectLong,KeySchema:p._json,LatestStreamArn:p.expectString,LatestStreamLabel:p.expectString,LocalSecondaryIndexes:p._json,MultiRegionConsistency:p.expectString,OnDemandThroughput:p._json,ProvisionedThroughput:u(r=>Dj(r,e),"ProvisionedThroughput"),Replicas:u(r=>Mj(r,e),"Replicas"),RestoreSummary:u(r=>nde(r,e),"RestoreSummary"),SSEDescription:u(r=>jj(r,e),"SSEDescription"),StreamSpecification:p._json,TableArn:p.expectString,TableClassSummary:u(r=>n_(r,e),"TableClassSummary"),TableId:p.expectString,TableName:p.expectString,TableSizeBytes:p.expectLong,TableStatus:p.expectString,WarmThroughput:p._json}),"de_TableDescription"),lde=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Yo(r,e),"ConsumedCapacity"),Responses:u(r=>kj(r,e),"Responses")}),"de_TransactGetItemsOutput"),dde=u((t,e)=>(0,p.take)(t,{CancellationReasons:u(r=>sle(r,e),"CancellationReasons"),Message:p.expectString}),"de_TransactionCanceledException"),ude=u((t,e)=>(0,p.take)(t,{ConsumedCapacity:u(r=>Yo(r,e),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>Nj(r,e),"ItemCollectionMetrics")}),"de_TransactWriteItemsOutput"),pde=u((t,e)=>(0,p.take)(t,{ContinuousBackupsDescription:u(r=>Aj(r,e),"ContinuousBackupsDescription")}),"de_UpdateContinuousBackupsOutput"),mde=u((t,e)=>(0,p.take)(t,{GlobalTableDescription:u(r=>r_(r,e),"GlobalTableDescription")}),"de_UpdateGlobalTableOutput"),fde=u((t,e)=>(0,p.take)(t,{GlobalTableName:p.expectString,ReplicaSettings:u(r=>Fj(r,e),"ReplicaSettings")}),"de_UpdateGlobalTableSettingsOutput"),hde=u((t,e)=>(0,p.take)(t,{Attributes:u(r=>pn(r,e),"Attributes"),ConsumedCapacity:u(r=>Ri(r,e),"ConsumedCapacity"),ItemCollectionMetrics:u(r=>Jp(r,e),"ItemCollectionMetrics")}),"de_UpdateItemOutput"),yde=u((t,e)=>(0,p.take)(t,{TableDescription:u(r=>Zo(r,e),"TableDescription")}),"de_UpdateTableOutput"),gde=u((t,e)=>(0,p.take)(t,{TableAutoScalingDescription:u(r=>Lj(r,e),"TableAutoScalingDescription")}),"de_UpdateTableReplicaAutoScalingOutput"),vde=u((t,e)=>(0,p.take)(t,{DeleteRequest:u(r=>ple(r,e),"DeleteRequest"),PutRequest:u(r=>zle(r,e),"PutRequest")}),"de_WriteRequest"),_de=u((t,e)=>(t||[]).filter(n=>n!=null).map(n=>vde(n,e)),"de_WriteRequests"),k=u(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),bde=(0,p.withBaseException)(_e),Z=u(async(t,e,r,n,i)=>{let{hostname:s,protocol:o="https",port:a,path:c}=await t.endpoint(),l={protocol:o,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new Qv.HttpRequest(l)},"buildHttpRpcRequest");function z(t){return{"content-type":"application/x-amz-json-1.0","x-amz-target":`DynamoDB_20120810.${t}`}}u(z,"sharedHeaders");var i_=class extends p.Command.classBuilder().ep(J).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeEndpoints",{}).n("DynamoDBClient","DescribeEndpointsCommand").f(void 0,void 0).ser(cse).de(uoe).build(){static{u(this,"DescribeEndpointsCommand")}},Ede=KM(),sF=Ro(),Sde=u(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Cde=u(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),xde=u((t,e)=>{let r=Object.assign((0,sF.getAwsRegionExtensionConfiguration)(t),(0,p.getDefaultExtensionConfiguration)(t),(0,Qv.getHttpHandlerExtensionConfiguration)(t),Sde(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,sF.resolveAwsRegionExtensionConfiguration)(r),(0,p.resolveDefaultRuntimeConfig)(r),(0,Qv.resolveHttpHandlerRuntimeConfig)(r),Cde(r))},"resolveRuntimeExtensions"),Ni=class extends p.Client{static{u(this,"DynamoDBClient")}config;constructor(...[t]){let e=(0,Ede.getRuntimeConfig)(t||{});super(e),this.initConfig=e;let r=cie(e),n=(0,rie.resolveAccountIdEndpointModeConfig)(r),i=(0,tF.resolveUserAgentConfig)(n),s=(0,rF.resolveRetryConfig)(i),o=(0,oie.resolveRegionConfig)(s),a=(0,eF.resolveHostHeaderConfig)(o),c=(0,K.resolveEndpointConfig)(a),l=(0,nF.resolveHttpAuthSchemeConfig)(c),d=(0,nie.resolveEndpointDiscoveryConfig)(l,{endpointDiscoveryCommandCtor:i_}),m=xde(d,t?.extensions||[]);this.config=m,this.middlewareStack.use((0,tF.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,rF.getRetryPlugin)(this.config)),this.middlewareStack.use((0,aie.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,eF.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,iie.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,sie.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,Zv.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:nF.defaultDynamoDBHttpAuthSchemeParametersProvider,identityProviderConfigProvider:u(async f=>new Zv.DefaultIdentityProviderConfig({"aws.auth#sigv4":f.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,Zv.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},$j=class extends p.Command.classBuilder().ep(J).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchExecuteStatement",{}).n("DynamoDBClient","BatchExecuteStatementCommand").f(void 0,void 0).ser(Jie).de(Qse).build(){static{u(this,"BatchExecuteStatementCommand")}},Bj=class extends p.Command.classBuilder().ep({...J,ResourceArnList:{type:"operationContextParams",get:u(t=>Object.keys(t?.RequestItems??{}),"get")}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchGetItem",{}).n("DynamoDBClient","BatchGetItemCommand").f(void 0,void 0).ser(Yie).de(Xse).build(){static{u(this,"BatchGetItemCommand")}},Uj=class extends p.Command.classBuilder().ep({...J,ResourceArnList:{type:"operationContextParams",get:u(t=>Object.keys(t?.RequestItems??{}),"get")}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","BatchWriteItem",{}).n("DynamoDBClient","BatchWriteItemCommand").f(void 0,void 0).ser(Zie).de(eoe).build(){static{u(this,"BatchWriteItemCommand")}},qj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateBackup",{}).n("DynamoDBClient","CreateBackupCommand").f(void 0,void 0).ser(Qie).de(toe).build(){static{u(this,"CreateBackupCommand")}},Vj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateGlobalTable",{}).n("DynamoDBClient","CreateGlobalTableCommand").f(void 0,void 0).ser(Xie).de(roe).build(){static{u(this,"CreateGlobalTableCommand")}},Gj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","CreateTable",{}).n("DynamoDBClient","CreateTableCommand").f(void 0,void 0).ser(ese).de(noe).build(){static{u(this,"CreateTableCommand")}},Hj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteBackup",{}).n("DynamoDBClient","DeleteBackupCommand").f(void 0,void 0).ser(tse).de(ioe).build(){static{u(this,"DeleteBackupCommand")}},Kj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteItem",{}).n("DynamoDBClient","DeleteItemCommand").f(void 0,void 0).ser(rse).de(soe).build(){static{u(this,"DeleteItemCommand")}},zj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteResourcePolicy",{}).n("DynamoDBClient","DeleteResourcePolicyCommand").f(void 0,void 0).ser(nse).de(ooe).build(){static{u(this,"DeleteResourcePolicyCommand")}},Wj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DeleteTable",{}).n("DynamoDBClient","DeleteTableCommand").f(void 0,void 0).ser(ise).de(aoe).build(){static{u(this,"DeleteTableCommand")}},Jj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"BackupArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeBackup",{}).n("DynamoDBClient","DescribeBackupCommand").f(void 0,void 0).ser(sse).de(coe).build(){static{u(this,"DescribeBackupCommand")}},Yj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContinuousBackups",{}).n("DynamoDBClient","DescribeContinuousBackupsCommand").f(void 0,void 0).ser(ose).de(loe).build(){static{u(this,"DescribeContinuousBackupsCommand")}},Zj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeContributorInsights",{}).n("DynamoDBClient","DescribeContributorInsightsCommand").f(void 0,void 0).ser(ase).de(doe).build(){static{u(this,"DescribeContributorInsightsCommand")}},Qj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ExportArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeExport",{}).n("DynamoDBClient","DescribeExportCommand").f(void 0,void 0).ser(lse).de(poe).build(){static{u(this,"DescribeExportCommand")}},Xj=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTable",{}).n("DynamoDBClient","DescribeGlobalTableCommand").f(void 0,void 0).ser(dse).de(moe).build(){static{u(this,"DescribeGlobalTableCommand")}},eL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeGlobalTableSettings",{}).n("DynamoDBClient","DescribeGlobalTableSettingsCommand").f(void 0,void 0).ser(use).de(foe).build(){static{u(this,"DescribeGlobalTableSettingsCommand")}},tL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ImportArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeImport",{}).n("DynamoDBClient","DescribeImportCommand").f(void 0,void 0).ser(pse).de(hoe).build(){static{u(this,"DescribeImportCommand")}},rL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeKinesisStreamingDestination",{}).n("DynamoDBClient","DescribeKinesisStreamingDestinationCommand").f(void 0,void 0).ser(mse).de(yoe).build(){static{u(this,"DescribeKinesisStreamingDestinationCommand")}},nL=class extends p.Command.classBuilder().ep(J).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeLimits",{}).n("DynamoDBClient","DescribeLimitsCommand").f(void 0,void 0).ser(fse).de(goe).build(){static{u(this,"DescribeLimitsCommand")}},Zp=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTable",{}).n("DynamoDBClient","DescribeTableCommand").f(void 0,void 0).ser(hse).de(voe).build(){static{u(this,"DescribeTableCommand")}},iL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTableReplicaAutoScaling",{}).n("DynamoDBClient","DescribeTableReplicaAutoScalingCommand").f(void 0,void 0).ser(yse).de(_oe).build(){static{u(this,"DescribeTableReplicaAutoScalingCommand")}},sL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DescribeTimeToLive",{}).n("DynamoDBClient","DescribeTimeToLiveCommand").f(void 0,void 0).ser(gse).de(boe).build(){static{u(this,"DescribeTimeToLiveCommand")}},oL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","DisableKinesisStreamingDestination",{}).n("DynamoDBClient","DisableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(vse).de(Eoe).build(){static{u(this,"DisableKinesisStreamingDestinationCommand")}},aL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","EnableKinesisStreamingDestination",{}).n("DynamoDBClient","EnableKinesisStreamingDestinationCommand").f(void 0,void 0).ser(_se).de(Soe).build(){static{u(this,"EnableKinesisStreamingDestinationCommand")}},cL=class extends p.Command.classBuilder().ep(J).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteStatement",{}).n("DynamoDBClient","ExecuteStatementCommand").f(void 0,void 0).ser(bse).de(Coe).build(){static{u(this,"ExecuteStatementCommand")}},lL=class extends p.Command.classBuilder().ep(J).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExecuteTransaction",{}).n("DynamoDBClient","ExecuteTransactionCommand").f(void 0,void 0).ser(Ese).de(xoe).build(){static{u(this,"ExecuteTransactionCommand")}},dL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ExportTableToPointInTime",{}).n("DynamoDBClient","ExportTableToPointInTimeCommand").f(void 0,void 0).ser(Sse).de(woe).build(){static{u(this,"ExportTableToPointInTimeCommand")}},uL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetItem",{}).n("DynamoDBClient","GetItemCommand").f(void 0,void 0).ser(Cse).de(Ioe).build(){static{u(this,"GetItemCommand")}},pL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","GetResourcePolicy",{}).n("DynamoDBClient","GetResourcePolicyCommand").f(void 0,void 0).ser(xse).de(Toe).build(){static{u(this,"GetResourcePolicyCommand")}},mL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"operationContextParams",get:u(t=>t?.TableCreationParameters?.TableName,"get")}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ImportTable",{}).n("DynamoDBClient","ImportTableCommand").f(void 0,void 0).ser(wse).de(Poe).build(){static{u(this,"ImportTableCommand")}},fL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListBackups",{}).n("DynamoDBClient","ListBackupsCommand").f(void 0,void 0).ser(Ise).de(Aoe).build(){static{u(this,"ListBackupsCommand")}},s_=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListContributorInsights",{}).n("DynamoDBClient","ListContributorInsightsCommand").f(void 0,void 0).ser(Tse).de(Ooe).build(){static{u(this,"ListContributorInsightsCommand")}},o_=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListExports",{}).n("DynamoDBClient","ListExportsCommand").f(void 0,void 0).ser(Pse).de(Roe).build(){static{u(this,"ListExportsCommand")}},hL=class extends p.Command.classBuilder().ep(J).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListGlobalTables",{}).n("DynamoDBClient","ListGlobalTablesCommand").f(void 0,void 0).ser(Ase).de(Noe).build(){static{u(this,"ListGlobalTablesCommand")}},a_=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListImports",{}).n("DynamoDBClient","ListImportsCommand").f(void 0,void 0).ser(Ose).de(koe).build(){static{u(this,"ListImportsCommand")}},c_=class extends p.Command.classBuilder().ep(J).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTables",{}).n("DynamoDBClient","ListTablesCommand").f(void 0,void 0).ser(Rse).de(Doe).build(){static{u(this,"ListTablesCommand")}},yL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","ListTagsOfResource",{}).n("DynamoDBClient","ListTagsOfResourceCommand").f(void 0,void 0).ser(Nse).de(Moe).build(){static{u(this,"ListTagsOfResourceCommand")}},gL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutItem",{}).n("DynamoDBClient","PutItemCommand").f(void 0,void 0).ser(kse).de(Foe).build(){static{u(this,"PutItemCommand")}},vL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","PutResourcePolicy",{}).n("DynamoDBClient","PutResourcePolicyCommand").f(void 0,void 0).ser(Dse).de(joe).build(){static{u(this,"PutResourcePolicyCommand")}},l_=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Query",{}).n("DynamoDBClient","QueryCommand").f(void 0,void 0).ser(Mse).de(Loe).build(){static{u(this,"QueryCommand")}},_L=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableFromBackup",{}).n("DynamoDBClient","RestoreTableFromBackupCommand").f(void 0,void 0).ser(Fse).de($oe).build(){static{u(this,"RestoreTableFromBackupCommand")}},bL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TargetTableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","RestoreTableToPointInTime",{}).n("DynamoDBClient","RestoreTableToPointInTimeCommand").f(void 0,void 0).ser(jse).de(Boe).build(){static{u(this,"RestoreTableToPointInTimeCommand")}},d_=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","Scan",{}).n("DynamoDBClient","ScanCommand").f(void 0,void 0).ser(Lse).de(Uoe).build(){static{u(this,"ScanCommand")}},EL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TagResource",{}).n("DynamoDBClient","TagResourceCommand").f(void 0,void 0).ser($se).de(qoe).build(){static{u(this,"TagResourceCommand")}},SL=class extends p.Command.classBuilder().ep({...J,ResourceArnList:{type:"operationContextParams",get:u(t=>t?.TransactItems?.map(e=>e?.Get?.TableName),"get")}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactGetItems",{}).n("DynamoDBClient","TransactGetItemsCommand").f(void 0,void 0).ser(Bse).de(Voe).build(){static{u(this,"TransactGetItemsCommand")}},CL=class extends p.Command.classBuilder().ep({...J,ResourceArnList:{type:"operationContextParams",get:u(t=>t?.TransactItems?.map(e=>[e?.ConditionCheck?.TableName,e?.Put?.TableName,e?.Delete?.TableName,e?.Update?.TableName].filter(r=>r)).flat(),"get")}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","TransactWriteItems",{}).n("DynamoDBClient","TransactWriteItemsCommand").f(void 0,void 0).ser(Use).de(Goe).build(){static{u(this,"TransactWriteItemsCommand")}},xL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"ResourceArn"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UntagResource",{}).n("DynamoDBClient","UntagResourceCommand").f(void 0,void 0).ser(qse).de(Hoe).build(){static{u(this,"UntagResourceCommand")}},wL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContinuousBackups",{}).n("DynamoDBClient","UpdateContinuousBackupsCommand").f(void 0,void 0).ser(Vse).de(Koe).build(){static{u(this,"UpdateContinuousBackupsCommand")}},IL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateContributorInsights",{}).n("DynamoDBClient","UpdateContributorInsightsCommand").f(void 0,void 0).ser(Gse).de(zoe).build(){static{u(this,"UpdateContributorInsightsCommand")}},TL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTable",{}).n("DynamoDBClient","UpdateGlobalTableCommand").f(void 0,void 0).ser(Hse).de(Woe).build(){static{u(this,"UpdateGlobalTableCommand")}},PL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"GlobalTableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateGlobalTableSettings",{}).n("DynamoDBClient","UpdateGlobalTableSettingsCommand").f(void 0,void 0).ser(Kse).de(Joe).build(){static{u(this,"UpdateGlobalTableSettingsCommand")}},AL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateItem",{}).n("DynamoDBClient","UpdateItemCommand").f(void 0,void 0).ser(zse).de(Yoe).build(){static{u(this,"UpdateItemCommand")}},OL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateKinesisStreamingDestination",{}).n("DynamoDBClient","UpdateKinesisStreamingDestinationCommand").f(void 0,void 0).ser(Wse).de(Zoe).build(){static{u(this,"UpdateKinesisStreamingDestinationCommand")}},RL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTable",{}).n("DynamoDBClient","UpdateTableCommand").f(void 0,void 0).ser(Jse).de(Qoe).build(){static{u(this,"UpdateTableCommand")}},NL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTableReplicaAutoScaling",{}).n("DynamoDBClient","UpdateTableReplicaAutoScalingCommand").f(void 0,void 0).ser(Yse).de(Xoe).build(){static{u(this,"UpdateTableReplicaAutoScalingCommand")}},kL=class extends p.Command.classBuilder().ep({...J,ResourceArn:{type:"contextParams",name:"TableName"}}).m(function(t,e,r,n){return[(0,W.getSerdePlugin)(r,this.serialize,this.deserialize),(0,K.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("DynamoDB_20120810","UpdateTimeToLive",{}).n("DynamoDBClient","UpdateTimeToLiveCommand").f(void 0,void 0).ser(Zse).de(eae).build(){static{u(this,"UpdateTimeToLiveCommand")}},wde={BatchExecuteStatementCommand:$j,BatchGetItemCommand:Bj,BatchWriteItemCommand:Uj,CreateBackupCommand:qj,CreateGlobalTableCommand:Vj,CreateTableCommand:Gj,DeleteBackupCommand:Hj,DeleteItemCommand:Kj,DeleteResourcePolicyCommand:zj,DeleteTableCommand:Wj,DescribeBackupCommand:Jj,DescribeContinuousBackupsCommand:Yj,DescribeContributorInsightsCommand:Zj,DescribeEndpointsCommand:i_,DescribeExportCommand:Qj,DescribeGlobalTableCommand:Xj,DescribeGlobalTableSettingsCommand:eL,DescribeImportCommand:tL,DescribeKinesisStreamingDestinationCommand:rL,DescribeLimitsCommand:nL,DescribeTableCommand:Zp,DescribeTableReplicaAutoScalingCommand:iL,DescribeTimeToLiveCommand:sL,DisableKinesisStreamingDestinationCommand:oL,EnableKinesisStreamingDestinationCommand:aL,ExecuteStatementCommand:cL,ExecuteTransactionCommand:lL,ExportTableToPointInTimeCommand:dL,GetItemCommand:uL,GetResourcePolicyCommand:pL,ImportTableCommand:mL,ListBackupsCommand:fL,ListContributorInsightsCommand:s_,ListExportsCommand:o_,ListGlobalTablesCommand:hL,ListImportsCommand:a_,ListTablesCommand:c_,ListTagsOfResourceCommand:yL,PutItemCommand:gL,PutResourcePolicyCommand:vL,QueryCommand:l_,RestoreTableFromBackupCommand:_L,RestoreTableToPointInTimeCommand:bL,ScanCommand:d_,TagResourceCommand:EL,TransactGetItemsCommand:SL,TransactWriteItemsCommand:CL,UntagResourceCommand:xL,UpdateContinuousBackupsCommand:wL,UpdateContributorInsightsCommand:IL,UpdateGlobalTableCommand:TL,UpdateGlobalTableSettingsCommand:PL,UpdateItemCommand:AL,UpdateKinesisStreamingDestinationCommand:OL,UpdateTableCommand:RL,UpdateTableReplicaAutoScalingCommand:NL,UpdateTimeToLiveCommand:kL},DL=class extends Ni{static{u(this,"DynamoDB")}};(0,p.createAggregatedClient)(wde,DL);var Ide=(Le(),X(bt)),Tde=(0,Ide.createPaginator)(Ni,s_,"NextToken","NextToken","MaxResults"),Pde=(Le(),X(bt)),Ade=(0,Pde.createPaginator)(Ni,o_,"NextToken","NextToken","MaxResults"),Ode=(Le(),X(bt)),Rde=(0,Ode.createPaginator)(Ni,a_,"NextToken","NextToken","PageSize"),Nde=(Le(),X(bt)),kde=(0,Nde.createPaginator)(Ni,c_,"ExclusiveStartTableName","LastEvaluatedTableName","Limit"),Dde=(Le(),X(bt)),Mde=(0,Dde.createPaginator)(Ni,l_,"ExclusiveStartKey","LastEvaluatedKey","Limit"),Fde=(Le(),X(bt)),jde=(0,Fde.createPaginator)(Ni,d_,"ExclusiveStartKey","LastEvaluatedKey","Limit"),jr=XM(),ML=u(async(t,e)=>{let r;try{let n=await t.send(new Zp(e));r=n;try{if(u(()=>n.Table.TableStatus,"returnComparator")()==="ACTIVE")return{state:jr.WaiterState.SUCCESS,reason:r}}catch{}}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:jr.WaiterState.RETRY,reason:r}}return{state:jr.WaiterState.RETRY,reason:r}},"checkState"),Lde=u(async(t,e)=>{let r={minDelay:20,maxDelay:120};return(0,jr.createWaiter)({...r,...t},e,ML)},"waitForTableExists"),$de=u(async(t,e)=>{let r={minDelay:20,maxDelay:120},n=await(0,jr.createWaiter)({...r,...t},e,ML);return(0,jr.checkExceptions)(n)},"waitUntilTableExists"),FL=u(async(t,e)=>{let r;try{r=await t.send(new Zp(e))}catch(n){if(r=n,n.name&&n.name=="ResourceNotFoundException")return{state:jr.WaiterState.SUCCESS,reason:r}}return{state:jr.WaiterState.RETRY,reason:r}},"checkState"),Bde=u(async(t,e)=>{let r={minDelay:20,maxDelay:120};return(0,jr.createWaiter)({...r,...t},e,FL)},"waitForTableNotExists"),Ude=u(async(t,e)=>{let r={minDelay:20,maxDelay:120},n=await(0,jr.createWaiter)({...r,...t},e,FL);return(0,jr.checkExceptions)(n)},"waitUntilTableNotExists")});var p_=E((xIe,ZL)=>{"use strict";var Xp=Object.defineProperty,qde=Object.getOwnPropertyDescriptor,Vde=Object.getOwnPropertyNames,Gde=Object.prototype.hasOwnProperty,tt=(t,e)=>Xp(t,"name",{value:e,configurable:!0}),Hde=(t,e)=>{for(var r in e)Xp(t,r,{get:e[r],enumerable:!0})},Kde=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Vde(e))!Gde.call(t,i)&&i!==r&&Xp(t,i,{get:()=>e[i],enumerable:!(n=qde(e,i))||n.enumerable});return t},zde=t=>Kde(Xp({},"__esModule",{value:!0}),t),VL={};Hde(VL,{NumberValueImpl:()=>em,convertToAttr:()=>Rc,convertToNative:()=>Oc,marshall:()=>YL,unmarshall:()=>Xde});ZL.exports=zde(VL);var em=class GL{static{tt(this,"NumberValue")}value;constructor(e){typeof e=="object"&&"N"in e?this.value=String(e.N):this.value=String(e);let r=typeof e.valueOf()=="number"?e.valueOf():0;if(r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER||Math.abs(r)===1/0||Number.isNaN(r))throw new Error(`NumberValue should not be initialized with an imprecise number=${r}. Use a string instead.`)}static from(e){return new GL(e)}toAttributeValue(){return{N:this.toString()}}toBigInt(){let e=this.toString();return BigInt(e)}toString(){return String(this.value)}valueOf(){return this.toString()}},Rc=tt((t,e)=>{if(t===void 0)throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(t===null&&typeof t=="object")return Qp();if(Array.isArray(t))return Wde(t,e);if(t?.constructor?.name==="Set")return Jde(t,e);if(t?.constructor?.name==="Map")return Yde(t,e);if(t?.constructor?.name==="Object"||!t.constructor&&typeof t=="object")return LL(t,e);if(JL(t))return t.length===0&&e?.convertEmptyValues?Qp():HL(t);if(typeof t=="boolean"||t?.constructor?.name==="Boolean")return{BOOL:t.valueOf()};if(typeof t=="number"||t?.constructor?.name==="Number")return WL(t,e);if(t instanceof em)return t.toAttributeValue();if(typeof t=="bigint")return zL(t);if(typeof t=="string"||t?.constructor?.name==="String")return t.length===0&&e?.convertEmptyValues?Qp():KL(t);if(e?.convertClassInstanceToMap&&typeof t=="object")return LL(t,e);throw new Error(`Unsupported type passed: ${t}. Pass options.convertClassInstanceToMap=true to marshall typeof object as map attribute.`)},"convertToAttr"),Wde=tt((t,e)=>({L:t.filter(r=>typeof r!="function"&&(!e?.removeUndefinedValues||e?.removeUndefinedValues&&r!==void 0)).map(r=>Rc(r,e))}),"convertToListAttr"),Jde=tt((t,e)=>{let r=e?.removeUndefinedValues?new Set([...t].filter(i=>i!==void 0)):t;if(!e?.removeUndefinedValues&&r.has(void 0))throw new Error("Pass options.removeUndefinedValues=true to remove undefined values from map/array/set.");if(r.size===0){if(e?.convertEmptyValues)return Qp();throw new Error("Pass a non-empty set, or options.convertEmptyValues=true.")}let n=r.values().next().value;if(n instanceof em)return{NS:Array.from(r).map(i=>i.toString())};if(typeof n=="number")return{NS:Array.from(r).map(i=>WL(i,e)).map(i=>i.N)};if(typeof n=="bigint")return{NS:Array.from(r).map(zL).map(i=>i.N)};if(typeof n=="string")return{SS:Array.from(r).map(KL).map(i=>i.S)};if(JL(n))return{BS:Array.from(r).map(HL).map(i=>i.B)};throw new Error("Only Number Set (NS), Binary Set (BS) or String Set (SS) are allowed.")},"convertToSetAttr"),Yde=tt((t,e)=>({M:(r=>{let n={};for(let[i,s]of r)typeof s!="function"&&(s!==void 0||!e?.removeUndefinedValues)&&(n[i]=Rc(s,e));return n})(t)}),"convertToMapAttrFromIterable"),LL=tt((t,e)=>({M:(r=>{let n={};for(let i in r){let s=r[i];typeof s!="function"&&(s!==void 0||!e?.removeUndefinedValues)&&(n[i]=Rc(s,e))}return n})(t)}),"convertToMapAttrFromEnumerableProps"),Qp=tt(()=>({NULL:!0}),"convertToNullAttr"),HL=tt(t=>({B:t}),"convertToBinaryAttr"),KL=tt(t=>({S:t.toString()}),"convertToStringAttr"),zL=tt(t=>({N:t.toString()}),"convertToBigIntAttr"),$L=tt(t=>{throw new Error(`${t} Use NumberValue from @aws-sdk/lib-dynamodb.`)},"validateBigIntAndThrow"),WL=tt((t,e)=>{if([Number.NaN,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY].map(r=>r.toString()).includes(t.toString()))throw new Error(`Special numeric value ${t.toString()} is not allowed`);return e?.allowImpreciseNumbers||(Number(t)>Number.MAX_SAFE_INTEGER?$L(`Number ${t.toString()} is greater than Number.MAX_SAFE_INTEGER.`):Number(t)<Number.MIN_SAFE_INTEGER&&$L(`Number ${t.toString()} is lesser than Number.MIN_SAFE_INTEGER.`)),{N:t.toString()}},"convertToNumberAttr"),JL=tt(t=>{let e=["ArrayBuffer","Blob","Buffer","DataView","File","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];return t?.constructor?e.includes(t.constructor.name):!1},"isBinary"),Oc=tt((t,e)=>{for(let[r,n]of Object.entries(t))if(n!==void 0)switch(r){case"NULL":return null;case"BOOL":return!!n;case"N":return BL(n,e);case"B":return qL(n);case"S":return UL(n);case"L":return Zde(n,e);case"M":return Qde(n,e);case"NS":return new Set(n.map(i=>BL(i,e)));case"BS":return new Set(n.map(qL));case"SS":return new Set(n.map(UL));default:throw new Error(`Unsupported type passed: ${r}`)}throw new Error(`No value defined: ${JSON.stringify(t)}`)},"convertToNative"),BL=tt((t,e)=>{if(typeof e?.wrapNumbers=="function")return e?.wrapNumbers(t);if(e?.wrapNumbers)return em.from(t);let r=Number(t),n=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];if((r>Number.MAX_SAFE_INTEGER||r<Number.MIN_SAFE_INTEGER)&&!n.includes(r))if(typeof BigInt=="function")try{return BigInt(t)}catch{throw new Error(`${t} can't be converted to BigInt. Set options.wrapNumbers to get string value.`)}else throw new Error(`${t} is outside SAFE_INTEGER bounds. Set options.wrapNumbers to get string value.`);return r},"convertNumber"),UL=tt(t=>t,"convertString"),qL=tt(t=>t,"convertBinary"),Zde=tt((t,e)=>t.map(r=>Oc(r,e)),"convertList"),Qde=tt((t,e)=>Object.entries(t).reduce((r,[n,i])=>(r[n]=Oc(i,e),r),{}),"convertMap");function YL(t,e){let r=Rc(t,e),[n,i]=Object.entries(r)[0];switch(n){case"M":case"L":return e?.convertTopLevelContainer?r:i;case"SS":case"NS":case"BS":case"S":case"N":case"B":case"NULL":case"BOOL":case"$unknown":default:return r}}tt(YL,"marshall");var Xde=tt((t,e)=>e?.convertWithoutMapWrapper?Oc(t,e):Oc({M:t},e),"unmarshall")});var g_=E((wIe,m$)=>{"use strict";var rm=Object.defineProperty,eue=Object.getOwnPropertyDescriptor,tue=Object.getOwnPropertyNames,rue=Object.prototype.hasOwnProperty,Ke=(t,e)=>rm(t,"name",{value:e,configurable:!0}),nue=(t,e)=>{for(var r in e)rm(t,r,{get:e[r],enumerable:!0})},iue=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of tue(e))!rue.call(t,i)&&i!==r&&rm(t,i,{get:()=>e[i],enumerable:!(n=eue(e,i))||n.enumerable});return t},sue=t=>iue(rm({},"__esModule",{value:!0}),t),XL={};nue(XL,{BatchExecuteStatementCommand:()=>e$,BatchGetCommand:()=>t$,BatchWriteCommand:()=>r$,DeleteCommand:()=>n$,DynamoDBDocument:()=>due,DynamoDBDocumentClient:()=>nm,DynamoDBDocumentClientCommand:()=>Jt,ExecuteStatementCommand:()=>i$,ExecuteTransactionCommand:()=>s$,GetCommand:()=>o$,NativeAttributeBinary:()=>ki.NativeAttributeBinary,NativeAttributeValue:()=>ki.NativeAttributeValue,NativeScalarAttributeValue:()=>ki.NativeScalarAttributeValue,NumberValue:()=>ki.NumberValueImpl,PaginationConfiguration:()=>uue.PaginationConfiguration,PutCommand:()=>a$,QueryCommand:()=>h_,ScanCommand:()=>y_,TransactGetCommand:()=>c$,TransactWriteCommand:()=>l$,UpdateCommand:()=>d$,__Client:()=>m_.Client,marshallOptions:()=>ki.marshallOptions,paginateQuery:()=>mue,paginateScan:()=>hue,unmarshallOptions:()=>ki.unmarshallOptions});m$.exports=sue(XL);var ir=u_(),oue=(Ge(),X($t)),m_=me(),ki=p_(),Nc=null,se={},Hn=[],QL="*",tm=Ke((t,e,r)=>{if(t!==void 0){if(r==null)return e(t);{let n=Object.keys(r),i=n.length===1&&n[0]===QL,s=n.length>=1&&!i,o=n.length===0;if(s)return f_(t,e,r);if(o)return aue(t,e,Nc);if(i)return Object.entries(t??{}).reduce((a,[c,l])=>(typeof l!="function"&&(a[c]=tm(l,e,r[QL])),a),Array.isArray(t)?[]:{})}}},"processObj"),f_=Ke((t,e,r)=>{let n;if(Array.isArray(t))n=t.filter(i=>typeof i!="function");else{n={};for(let[i,s]of Object.entries(t))typeof s!="function"&&(n[i]=s)}for(let[i,s]of Object.entries(r)){if(typeof t[i]=="function")continue;let o=tm(t[i],e,s);o!==void 0&&typeof o!="function"&&(n[i]=o)}return n},"processKeysInObj"),aue=Ke((t,e,r)=>Array.isArray(t)?t.filter(n=>typeof n!="function").map(n=>tm(n,e,r)):Object.entries(t).reduce((n,[i,s])=>{if(typeof s=="function")return n;let o=tm(s,e,r);return o!==void 0&&typeof o!="function"&&(n[i]=o),n},{}),"processAllKeysInObj"),cue=Ke((t,e,r)=>f_(t,Ke(i=>(0,ki.marshall)(i,r),"marshallFunc"),e),"marshallInput"),lue=Ke((t,e,r)=>f_(t,Ke(i=>(0,ki.unmarshall)(i,r),"unmarshallFunc"),e),"unmarshallOutput"),Jt=class extends m_.Command{static{Ke(this,"DynamoDBDocumentClientCommand")}addMarshallingMiddleware(t){let{marshallOptions:e={},unmarshallOptions:r={}}=t.translateConfig||{};e.convertTopLevelContainer=e.convertTopLevelContainer??!0,r.convertWithoutMapWrapper=r.convertWithoutMapWrapper??!0,this.clientCommand.middlewareStack.addRelativeTo((n,i)=>async s=>((0,oue.setFeature)(i,"DDB_MAPPER","d"),s.input=cue(s.input,this.inputKeyNodes,e),n(s)),{name:"DocumentMarshall",relation:"before",toMiddleware:"serializerMiddleware",override:!0}),this.clientCommand.middlewareStack.addRelativeTo((n,i)=>async s=>{let o=await n(s);return o.output=lue(o.output,this.outputKeyNodes,r),o},{name:"DocumentUnmarshall",relation:"before",toMiddleware:"deserializerMiddleware",override:!0})}},e$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.BatchExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"BatchExecuteStatementCommand")}inputKeyNodes={Statements:{"*":{Parameters:Hn}}};outputKeyNodes={Responses:{"*":{Error:{Item:se},Item:se}}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},t$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.BatchGetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"BatchGetCommand")}inputKeyNodes={RequestItems:{"*":{Keys:{"*":se}}}};outputKeyNodes={Responses:{"*":{"*":se}},UnprocessedKeys:{"*":{Keys:{"*":se}}}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},r$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.BatchWriteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"BatchWriteCommand")}inputKeyNodes={RequestItems:{"*":{"*":{PutRequest:{Item:se},DeleteRequest:{Key:se}}}}};outputKeyNodes={UnprocessedItems:{"*":{"*":{PutRequest:{Item:se},DeleteRequest:{Key:se}}}},ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:se}}}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},n$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.DeleteItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"DeleteCommand")}inputKeyNodes={Key:se,Expected:{"*":{Value:Nc,AttributeValueList:Hn}},ExpressionAttributeValues:se};outputKeyNodes={Attributes:se,ItemCollectionMetrics:{ItemCollectionKey:se}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},i$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.ExecuteStatementCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"ExecuteStatementCommand")}inputKeyNodes={Parameters:Hn};outputKeyNodes={Items:{"*":se},LastEvaluatedKey:se};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},s$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.ExecuteTransactionCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"ExecuteTransactionCommand")}inputKeyNodes={TransactStatements:{"*":{Parameters:Hn}}};outputKeyNodes={Responses:{"*":{Item:se}}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},o$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.GetItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"GetCommand")}inputKeyNodes={Key:se};outputKeyNodes={Item:se};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},a$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.PutItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"PutCommand")}inputKeyNodes={Item:se,Expected:{"*":{Value:Nc,AttributeValueList:Hn}},ExpressionAttributeValues:se};outputKeyNodes={Attributes:se,ItemCollectionMetrics:{ItemCollectionKey:se}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},h_=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.QueryCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"QueryCommand")}inputKeyNodes={KeyConditions:{"*":{AttributeValueList:Hn}},QueryFilter:{"*":{AttributeValueList:Hn}},ExclusiveStartKey:se,ExpressionAttributeValues:se};outputKeyNodes={Items:{"*":se},LastEvaluatedKey:se};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},y_=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.ScanCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"ScanCommand")}inputKeyNodes={ScanFilter:{"*":{AttributeValueList:Hn}},ExclusiveStartKey:se,ExpressionAttributeValues:se};outputKeyNodes={Items:{"*":se},LastEvaluatedKey:se};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},c$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.TransactGetItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"TransactGetCommand")}inputKeyNodes={TransactItems:{"*":{Get:{Key:se}}}};outputKeyNodes={Responses:{"*":{Item:se}}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},l$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.TransactWriteItemsCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"TransactWriteCommand")}inputKeyNodes={TransactItems:{"*":{ConditionCheck:{Key:se,ExpressionAttributeValues:se},Put:{Item:se,ExpressionAttributeValues:se},Delete:{Key:se,ExpressionAttributeValues:se},Update:{Key:se,ExpressionAttributeValues:se}}}};outputKeyNodes={ItemCollectionMetrics:{"*":{"*":{ItemCollectionKey:se}}}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},d$=class extends Jt{constructor(t){super(),this.input=t,this.clientCommand=new ir.UpdateItemCommand(this.input),this.middlewareStack=this.clientCommand.middlewareStack}static{Ke(this,"UpdateCommand")}inputKeyNodes={Key:se,AttributeUpdates:{"*":{Value:Nc}},Expected:{"*":{Value:Nc,AttributeValueList:Hn}},ExpressionAttributeValues:se};outputKeyNodes={Attributes:se,ItemCollectionMetrics:{ItemCollectionKey:se}};clientCommand;middlewareStack;resolveMiddleware(t,e,r){this.addMarshallingMiddleware(e);let n=t.concat(this.middlewareStack),i=this.clientCommand.resolveMiddleware(n,e,r);return async()=>i(this.clientCommand)}},nm=class u$ extends m_.Client{static{Ke(this,"DynamoDBDocumentClient")}config;constructor(e,r){if(super(e.config),this.config=e.config,this.config.translateConfig=r,this.middlewareStack=e.middlewareStack,this.config?.cacheMiddleware)throw new Error("@aws-sdk/lib-dynamodb - cacheMiddleware=true is not compatible with the DynamoDBDocumentClient. This option must be set to false.")}static from(e,r){return new u$(e,r)}destroy(){}},due=class p$ extends nm{static{Ke(this,"DynamoDBDocument")}static from(e,r){return new p$(e,r)}batchExecuteStatement(e,r,n){let i=new e$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}batchGet(e,r,n){let i=new t$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}batchWrite(e,r,n){let i=new r$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}delete(e,r,n){let i=new n$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}executeStatement(e,r,n){let i=new i$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}executeTransaction(e,r,n){let i=new s$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}get(e,r,n){let i=new o$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}put(e,r,n){let i=new a$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}query(e,r,n){let i=new h_(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}scan(e,r,n){let i=new y_(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}transactGet(e,r,n){let i=new c$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}transactWrite(e,r,n){let i=new l$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}update(e,r,n){let i=new d$(e);if(typeof r=="function")this.send(i,r);else if(typeof n=="function"){if(typeof r!="object")throw new Error(`Expect http options but get ${typeof r}`);this.send(i,r||{},n)}else return this.send(i,r)}},uue=Tr(),pue=(Le(),X(bt)),mue=(0,pue.createPaginator)(nm,h_,"ExclusiveStartKey","LastEvaluatedKey","Limit"),fue=(Le(),X(bt)),hue=(0,fue.createPaginator)(nm,y_,"ExclusiveStartKey","LastEvaluatedKey","Limit")});var __=E((BIe,E$)=>{var f$=g_(),h$=p_(),{isFunction:yue}=In(),{ElectroError:gue,ErrorCodes:vue}=ur(),Ps={v2:"v2",v3:"v3",electro:"electro"},v_=t=>{let e=h$.unmarshall||(r=>r);try{t.Item=e(t.Item)}catch(r){console.error("Internal Error: Failed to unmarshal input",r)}return t},y$=["send"],g$=["get","put","update","delete","batchWrite","batchGet","scan","query","createSet","transactWrite","transactGet"],v$={[Ps.v2]:g$,[Ps.v3]:y$},kc=class t{static init(e){return new t(e,f$)}constructor(e,r){this.client=e,this.lib=r,this.__v="v2"}get(e){return this.client.get(e)}put(e){return this.client.put(e)}update(e){return this.client.update(e)}delete(e){return this.client.delete(e)}batchWrite(e){return this.client.batchWrite(e)}batchGet(e){return this.client.batchGet(e)}scan(e){return this.client.scan(e)}query(e){return this.client.query(e)}_transact(e){let r;return e.on("extractError",n=>{try{r=JSON.parse(n.httpResponse.body.toString()).CancellationReasons}catch{}}),{async promise(){return e.promise().catch(n=>{if(n){if(Array.isArray(r))return{canceled:r.map(i=>i.Item?v_(i):i)};throw n}})}}}transactWrite(e){let r=this.client.transactWrite(e);return this._transact(r)}transactGet(e){let r=this.client.transactGet(e);return this._transact(r)}createSet(e,...r){return Array.isArray(e)?this.client.createSet(e,...r):this.client.createSet([e],...r)}},Dc=class t{static init(e){return new t(e,f$)}constructor(e,r){this.client=e,this.lib=r,this.__v="v3"}promiseWrap(e){return{promise:async()=>e()}}get(e){return this.promiseWrap(()=>{let r=new this.lib.GetCommand(e);return this.client.send(r)})}put(e){return this.promiseWrap(()=>{let r=new this.lib.PutCommand(e);return this.client.send(r)})}update(e){return this.promiseWrap(()=>{let r=new this.lib.UpdateCommand(e);return this.client.send(r)})}delete(e){return this.promiseWrap(async()=>{let r=new this.lib.DeleteCommand(e);return this.client.send(r)})}batchWrite(e){return this.promiseWrap(async()=>{let r=new this.lib.BatchWriteCommand(e);return this.client.send(r)})}batchGet(e){return this.promiseWrap(async()=>{let r=new this.lib.BatchGetCommand(e);return this.client.send(r)})}scan(e){return this.promiseWrap(async()=>{let r=new this.lib.ScanCommand(e);return this.client.send(r)})}query(e){return this.promiseWrap(async()=>{let r=new this.lib.QueryCommand(e);return this.client.send(r)})}transactWrite(e){return this.promiseWrap(async()=>{let r=new this.lib.TransactWriteCommand(e);return this.client.send(r).then(n=>n).catch(n=>{if(n.CancellationReasons)return{canceled:n.CancellationReasons.map(i=>i.Item?v_(i):i)};throw n})})}transactGet(e){return this.promiseWrap(async()=>{let r=new this.lib.TransactGetCommand(e);return this.client.send(r).then(n=>n).catch(n=>{if(n.CancellationReasons)return{canceled:n.CancellationReasons.map(i=>i.Item?v_(i):i)};throw n})})}createSet(e){return Array.isArray(e)?new Set(e):new Set([e])}};function _$(t={}){if(t instanceof Dc||t instanceof kc)return Ps.electro;for(let[e,r]of Object.entries(v$))if(r.every(i=>i in t&&yue(t[i])))return e}function b$(t){if(t===void 0)return t;switch(_$(t)){case Ps.v3:return Dc.init(t);case Ps.v2:return kc.init(t);case Ps.electro:return t;default:throw new gue(vue.InvalidClientProvided,"Invalid DynamoDB Document Client provided. ElectroDB supports the v2 and v3 DynamoDB Document Clients from the aws-sdk")}}function _ue(t={}){return{...t,client:b$(t.client)}}E$.exports={util:h$,v2Methods:g$,v3Methods:y$,normalizeClient:b$,normalizeConfig:_ue,identifyClientVersion:_$,DocumentClientVersions:Ps,supportedClientVersions:v$,DocumentClientV3Wrapper:Dc,DocumentClientV2Wrapper:kc}});var om=E((UIe,R$)=>{"use strict";var{Schema:bue}=jf(),{AllPages:b_,KeyCasing:im,DefaultKeyCasing:S$,TableIndex:V,FormatToReturnValues:Di,ReturnValues:E_,EntityVersions:Eue,ItemOperations:sm,UnprocessedTypes:As,Pager:Mi,ElectroInstance:Sue,KeyTypes:Ie,QueryTypes:_t,MethodTypes:we,Comparisons:C$,ExpressionTypes:sr,ModelVersions:S_,ElectroInstanceTypes:Cue,MaxBatchItems:x$,TerminalOperation:Fi,ResultOrderOption:w$,ResultOrderParam:I$,IndexTypes:Mc,KeyAttributesComparisons:T$,MethodTypeTranslation:xue,TransactionCommitSymbol:P$,CastKeyOptions:Kn,ComparisonTypes:Qo,DataOptions:Cr}=Vt(),{FilterFactory:wue}=$f(),{FilterOperations:A$}=Zs(),{WhereFactory:Iue}=Pl(),{clauses:mt,ChainState:Tue}=Jf(),{EventManager:Pue}=vS(),rt=In(),O$=__(),$=rs(),x=ur(),C_=In(),Fc={composite:"composite",provided:"provided"},x_=class{constructor(e,r={}){r=O$.normalizeConfig(r),this.eventManager=new Pue({listeners:r.listeners}),this.eventManager.add(r.logger),this._validateModel(e),this.version=Eue.v1,this.config=r,this.client=r.client,this.model=this._parseModel(e,r),this.config.table=r.table||e.table,this._filterBuilder=new wue(this.model.schema.attributes,A$),this._whereBuilder=new Iue(this.model.schema.attributes,A$),this._clausesWithFilters=this._filterBuilder.injectFilterClauses(mt,this.model.filters),this._clausesWithFilters=this._whereBuilder.injectWhereClauses(this._clausesWithFilters),this.query={};for(let n in this.model.indexes){let i=this.model.indexes[n].index;this.query[n]=(...s)=>{let o={indexType:this.model.indexes[n].type||Mc.isolated};return this._makeChain(i,this._clausesWithFilters,mt.index,o).query(...s)}}this.config.identifiers=r.identifiers||{},this.identifiers={entity:this.config.identifiers.entity||"__edb_e__",version:this.config.identifiers.version||"__edb_v__"},this._instance=Sue.entity,this._instanceType=Cue.entity,this.schema=e}get scan(){return this._makeChain(V,this._clausesWithFilters,mt.index,{_isPagination:!0}).scan()}setIdentifier(e="",r=""){if(this.identifiers[e])this.identifiers[e]=r;else throw new x.ElectroError(x.ErrorCodes.InvalidIdentifier,`Invalid identifier type: "${e}". Valid identifiers include: ${$.commaSeparatedString(Object.keys(this.identifiers))}`)}getName(){return this.model.entity}getVersion(){return this.model.version}ownsItem(e){return e&&this.getName()===e[this.identifiers.entity]&&this.getVersion()===e[this.identifiers.version]&&rt.isStringHasLength(e[this.identifiers.entity])&&rt.isStringHasLength(e[this.identifiers.version])}_attributesIncludeKeys(e=[]){let{pk:r,sk:n}=this.model.prefixes[V],i=!1,s=!1;for(let o=0;o<e.length;o++){let a=e[o];if(a===n.field&&(s=!0),a===r.field&&(s=!0),i&&s)return!0}return!1}ownsKeys(e={}){let{pk:r,sk:n}=this.model.prefixes[V],i=this.model.lookup.indexHasSortKeys[V],s=typeof e[r.field],o=s==="string"&&e[r.field].startsWith(r.prefix),a=s==="number"&&r.cast==="number",c=o||a,l=c&&!i;if(c&&i){let d=typeof e[n.field],m=d==="string"&&e[n.field].startsWith(n.prefix),f=d==="number"&&n.cast==="number";l=m||f}return c&&l&&this._formatKeysToItem(V,e)!==null}ownsCursor(e){return typeof e=="string"&&(e=$.cursorFormatter.deserialize(e)),this.ownsKeys(e)}serializeCursor(e){return $.cursorFormatter.serialize(e)}deserializeCursor(e){return $.cursorFormatter.deserialize(e)}ownsPager(e,r=V){if(e===null)return!1;let n=this.model.facets.byIndex[r],i=this.model.facets.byIndex[r];return n===void 0||i===void 0||!n.all.every(o=>e[o.name]!==void 0)?!1:i.all.every(o=>e[o.name]!==void 0)}match(e={}){let r={_isPagination:!0},n=this._findBestIndexKeyMatch(e);return n.shouldScan?this._makeChain(V,this._clausesWithFilters,mt.index,r).scan().filter(i=>{let s=[];for(let o of Object.keys(e))i[o]!==void 0&&e[o]!==void 0&&s.push(i[o].eq(e[o]));return s.join(" AND ")}):this._makeChain(n.index,this._clausesWithFilters,mt.index,r).query(e).filter(i=>{let s=[];for(let o of Object.keys(e))i[o]!==void 0&&e[o]!==void 0&&s.push(i[o].eq(e[o]));return s.join(" AND ")})}find(e={}){let r={_isPagination:!0},n=this._findBestIndexKeyMatch(e);return n.shouldScan?this._makeChain(V,this._clausesWithFilters,mt.index,r).scan():this._makeChain(n.index,this._clausesWithFilters,mt.index,r).query(e)}collection(e="",r={},n={},i={}){let s={...i,_isPagination:!0,_isCollectionQuery:!0},o=this.model.translations.collections.fromCollectionToIndex[e];if(o===void 0)throw new Error(`Invalid collection: ${e}`);let a=this._makeChain(o,r,r.index,s);return i.indexType===Mc.clustered?a.clusteredCollection(e,n):a.collection(e,n)}_validateModel(e){return rt.model(e)}check(e={}){return this._makeChain(V,this._clausesWithFilters,mt.index).check(e)}get(e={}){let r=V;return Array.isArray(e)?this._makeChain(r,this._clausesWithFilters,mt.index).batchGet(e):this._makeChain(r,this._clausesWithFilters,mt.index).get(e)}delete(e={}){let r=V;return Array.isArray(e)?this._makeChain(r,this._clausesWithFilters,mt.index).batchDelete(e):this._makeChain(r,this._clausesWithFilters,mt.index).delete(e)}put(e={}){let r=V;return Array.isArray(e)?this._makeChain(r,this._clausesWithFilters,mt.index).batchPut(e):this._makeChain(r,this._clausesWithFilters,mt.index).put(e)}upsert(e={}){let r=V;return this._makeChain(r,this._clausesWithFilters,mt.index).upsert(e)}create(e={}){let r=V,n={};return this._makeChain(r,this._clausesWithFilters,mt.index,n).create(e)}update(e={}){let r=V;return this._makeChain(r,this._clausesWithFilters,mt.index).update(e)}patch(e={}){let r=V,n={};return this._makeChain(r,this._clausesWithFilters,mt.index,n).patch(e)}remove(e={}){let r=V,n={};return this._makeChain(r,this._clausesWithFilters,mt.index,n).remove(e)}async transactWrite(e,r){return await this._exec(we.transactWrite,e,r)}async transactGet(e,r){return await this._exec(we.transactGet,e,r)}async go(e,r={},n={}){let i;n.originalErr||(i=new x.ElectroError(x.ErrorCodes.AWSError));try{switch(e){case we.batchWrite:return await this.executeBulkWrite(r,n);case we.batchGet:return await this.executeBulkGet(r,n);case we.query:case we.scan:return await this.executeQuery(e,r,n);default:return await this.executeOperation(e,r,n)}}catch(s){return n.originalErr||i===void 0?Promise.reject(s):s.__isAWSError?(i.message=`Error thrown by DynamoDB client: "${s.message}" - For more detail on this error reference: https://electrodb.dev/en/reference/errors/#aws-error`,i.cause=s,x.applyParamsFn(i,s.__edb_params),Promise.reject(i)):s.isElectroError?(x.applyParamsFn(s,s.__edb_params),Promise.reject(s)):(i.message=new x.ElectroError(x.ErrorCodes.UnknownError,s.message,s).message,x.applyParamsFn(i,s.__edb_params),Promise.reject(i))}}async _exec(e,r,n={}){let i=()=>{this.eventManager.trigger({type:"query",method:e,params:r,config:n},n.listeners)},s=(a,c)=>{this.eventManager.trigger({type:"results",method:e,config:n,success:c,results:a},n.listeners)},o=xue[e];return this.client[o](r).promise().then(a=>(i(),s(a,!0),a)).catch(a=>{throw i(),s(a,!1),Object.defineProperty(a,"__edb_params",{enumerable:!1,value:r}),a.__isAWSError=!0,a})}async executeBulkWrite(e,r){Array.isArray(e)||(e=[e]);let n=[],i=this._normalizeConcurrencyValue(r.concurrent),s=$.batchItems(e,i);for(let o of s)await Promise.all(o.map(async a=>{let c=await this._exec(we.batchWrite,a,r);if(rt.isFunction(r.parse)){let l=r.parse(r,c);l&&n.push(l)}else{let{unprocessed:l}=this.formatBulkWriteResponse(c,r);for(let d of l)n.push(d)}}));return{unprocessed:n}}_createNewBatchGetOrderMaintainer(e={}){let r=this.model.translations.keys[V].pk,n=this.model.translations.keys[V].sk,i=!!e.preserveBatchOrder,s=this.config.table,o=(a={})=>{let c=a[r],l=a[n];return`${c}${l}`};return new $.BatchGetOrderMaintainer({table:s,enabled:i,keyFormatter:o})}_safeMinimum(...e){let r=[];for(let n of e)typeof n=="number"&&r.push(n);if(r.length)return Math.min(...r)}async executeBulkGet(e,r){Array.isArray(e)||(e=[e]);let n=this._createNewBatchGetOrderMaintainer(r);n.defineOrder(e);let i=this._normalizeConcurrencyValue(r.concurrent),s=$.batchItems(e,i),o=r.preserveBatchOrder?new Array(n.getSize()).fill(null):[],a=[];for(let c of s)await Promise.all(c.map(async l=>{let d=await this._exec(we.batchGet,l,r);rt.isFunction(r.parse)?o.push(r.parse(r,d)):this.applyBulkGetResponseFormatting({orderMaintainer:n,resultsAll:o,unprocessedAll:a,response:d,config:r})}));return{data:o,unprocessed:a}}async hydrate(e,r=[],n){let i=[],s=[];for(let l=0;l<r.length;l++){let d=r[l],m=this._formatKeysToItem(e,d);m!==null&&(i.push(m),s.push(d))}let o=await this.get(i).go({...n,hydrate:!1,parse:void 0,hydrator:void 0,_isCollectionQuery:!1,preserveBatchOrder:!0,ignoreOwnership:n._providedIgnoreOwnership}),a=[],c=[];for(let l=0;l<o.data.length;l++){let d=s[l],m=o.data[l];m?c.push(m):d&&a.push(d)}return{unprocessed:a,data:c}}async executeQuery(e,r,n={}){let i=r.IndexName,s=n._isCollectionQuery?{}:[],o=this._formatExclusiveStartKey({indexName:i,config:n});o===null&&(o=void 0);let a=this._normalizePagesValue(n.pages),c=0,l=0,d=[],m=n.hydrate&&e===we.query;do{let h=await this._exec(e,{ExclusiveStartKey:o,...r},n);if(o=h.LastEvaluatedKey,h=this.formatResponse(h,r.IndexName,{...n,data:m&&(!n.data||n.data===Cr.attributes)?"includeKeys":n.data,ignoreOwnership:m||n.ignoreOwnership}),n.data===Cr.raw)return h;if(n._isCollectionQuery)for(let y in h.data){let v=h.data[y];if(m&&v.length){let g=await n.hydrator(y,r.IndexName,v,n);v=g.data,d=d.concat(g.unprocessed)}s[y]=s[y]||[],s[y]=[...s[y],...v]}else if(Array.isArray(h.data)){let y=l;n.count&&(l+=h.data.length);let v=h.data,g=!!n.count&&l>n.count;if(g&&(v=v.slice(0,n.count-y)),m){let _=await this.hydrate(r.IndexName,v,n);v=_.data,d=d.concat(_.unprocessed)}if(s=[...s,...v],g||l===n.count){let _=s[s.length-1];o=this._fromCompositeToKeysByIndex({indexName:i,provided:_});break}}else return h;c++}while(o&&(a===b_||n.count!==void 0||c<a)&&(n.count===void 0||l<n.count));let f=this._formatReturnPager(n,o);return m?{cursor:f,data:s,unprocessed:d}:{data:s,cursor:f}}async executeOperation(e,r,n){let i=await this._exec(e,r,n);switch(r.ReturnValues){case Di.none:return{data:null};case Di.all_new:case Di.all_old:case Di.updated_new:case Di.updated_old:return this.formatResponse(i,V,n);case Di.default:default:return this._formatDefaultResponse(e,r.IndexName,r,n,i)}}_formatDefaultResponse(e,r,n,i={},s){switch(e){case we.put:case we.create:return this.formatResponse(n,r,i);case we.update:case we.patch:case we.delete:case we.remove:case we.upsert:return this.formatResponse(s,r,{...i,_objectOnEmpty:!0});default:return this.formatResponse(s,r,i)}}cleanseRetrievedData(e={},r={}){let n={},i=this.model.schema.translationForRetrieval;for(let[s,o]of Object.entries(e)){let a=i[s];a?n[a]=o:r.data===Cr.includeKeys&&(n[s]=o)}return n}formatBulkWriteResponse(e={},r={}){if(!e||!e.UnprocessedItems)return e;let n=r.table||this.getTableName(),i=V,s=e.UnprocessedItems[n];return Array.isArray(s)&&s.length?s=s.map(o=>{if(o.PutRequest)return this.formatResponse(o.PutRequest,i,r).data;if(o.DeleteRequest)return r.unprocessed===As.raw?o.DeleteRequest.Key:this._formatKeysToItem(i,o.DeleteRequest.Key);throw new Error("Unknown response format")}):s=[],{unprocessed:s}}applyBulkGetResponseFormatting({resultsAll:e,unprocessedAll:r,orderMaintainer:n,response:i={},config:s={}}){let o=s.table||this.getTableName(),a=V;if(!i.UnprocessedKeys||!i.Responses)throw new Error("Unknown response format");if(i.UnprocessedKeys[o]&&i.UnprocessedKeys[o].Keys&&Array.isArray(i.UnprocessedKeys[o].Keys))for(let c of i.UnprocessedKeys[o].Keys)s&&s.unprocessed===As.raw?r.push(c):r.push(this._formatKeysToItem(a,c));if(i.Responses[o]&&Array.isArray(i.Responses[o])){let c=i.Responses[o];for(let l=0;l<c.length;l++){let d=c[l],m=n.getOrder(d),f=this.formatResponse({Item:d},a,s);m!==-1?e[m]=f.data:e.push(f.data)}}}formatResponse(e,r,n={}){let i;n.originalErr||(i=new x.ElectroError(x.ErrorCodes.AWSError));try{let s={};if(rt.isFunction(n.parse))s=n.parse(n,e);else if(n.data===Cr.raw&&!n._isPagination)e.TableName?s={}:s=e;else if(n.data===Cr.raw&&(n._isPagination||n.lastEvaluatedKeyRaw))s=e;else if(e.Item)n.ignoreOwnership&&n.attributes&&n.attributes.length>0&&!this._attributesIncludeKeys(n.attributes)||(n.ignoreOwnership||n.hydrate)&&this.ownsKeys(e.Item)||this.ownsItem(e.Item)?(s=this.model.schema.formatItemForRetrieval(e.Item,n),Object.keys(s).length===0&&!n._objectOnEmpty&&(s=null)):n._objectOnEmpty||(s=null);else if(e.Items){s=[];for(let o of e.Items)if(n.ignoreOwnership&&n.attributes&&n.attributes.length>0&&!this._attributesIncludeKeys(n.attributes)||(n.ignoreOwnership||n.hydrate)&&this.ownsKeys(o)||this.ownsItem(o)){let a=this.model.schema.formatItemForRetrieval(o,n);(Object.keys(a).length>0||n._objectOnEmpty)&&s.push(a)}}else if(e.Attributes)s=this.model.schema.formatItemForRetrieval(e.Attributes,n),Object.keys(s).length===0&&!n._objectOnEmpty&&(s=null);else{if(n._objectOnEmpty)return{data:{...n._includeOnResponseItem}};s=null}return n._isPagination||e.LastEvaluatedKey?{cursor:this._formatReturnPager(n,e.LastEvaluatedKey)||null,data:s}:{data:s}}catch(s){throw n.originalErr||i===void 0||s.isElectroError?s:(i.message=`Error thrown by DynamoDB client: "${s.message}" - For more detail on this error reference: https://electrodb.dev/en/reference/errors/#aws-error`,i.cause=s,i)}}parse(e,r={}){if(e==null)return null;let n={...r||{},ignoreOwnership:!0};return this.formatResponse(e,V,n)}_fromCompositeToKeys({provided:e},r={}){if(!e||Object.keys(e).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionCompositeProvided,"Invalid conversion composite provided");let n={},i=r.strict==="all"||r.strict==="pk"?"pk":"none";for(let{index:s}of Object.values(this.model.indexes)){let o=this._fromCompositeToKeysByIndex({indexName:s,provided:e},{strict:s===V?r.strict:i});o&&(n={...n,...o})}if(Object.keys(n).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionCompositeProvided,"Invalid conversion composite provided");return n}_fromCompositeToCursor({provided:e},r={}){let n=this._fromCompositeToKeys({provided:e},r);if(!n||Object.keys(n).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionCompositeProvided,"Invalid conversion composite provided");return $.cursorFormatter.serialize(n)}_fromKeysToCursor({provided:e},r={}){if(!e||Object.keys(e).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,"Invalid keys provided");return $.cursorFormatter.serialize(e)}_fromKeysToComposite({provided:e},r={}){if(!e||Object.keys(e).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,"Provided keys could not be used to form composite attributes");let n={};for(let{index:i}of Object.values(this.model.indexes)){let s=this._fromKeysToCompositeByIndex({indexName:i,provided:e},r);if(s)for(let o in s)n[o]===void 0&&(n[o]=s[o])}if(Object.keys(n).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,"Provided keys could not be used to form composite attributes");return n}_fromCursorToKeys({provided:e},r={}){if(typeof e!="string")throw new x.ElectroError(x.ErrorCodes.InvalidConversionCursorProvided,"Invalid conversion cursor provided");return $.cursorFormatter.deserialize(e)}_fromCursorToComposite({provided:e},r={}){if(typeof e!="string")throw new x.ElectroError(x.ErrorCodes.InvalidConversionCursorProvided,"Invalid conversion cursor provided");let n=this._fromCursorToKeys({provided:e},r);if(!n)throw new x.ElectroError(x.ErrorCodes.InvalidConversionCursorProvided,"Invalid conversion cursor provided");return this._fromKeysToComposite({provided:n},r)}_fromCompositeToCursorByIndex({indexName:e=V,provided:r},n={}){if(!r||Object.keys(r).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionCompositeProvided,"Invalid conversion composite provided");let i=this._formatSuppliedPager(e,r,{relaxedPk:!1,relaxedSk:!1});return this._fromKeysToCursorByIndex({indexName:e,provided:i},n)}_fromCompositeToKeysByIndex({indexName:e=V,provided:r},n={}){return this._formatSuppliedPager(e,r,{relaxedPk:n.strict!=="pk"&&n.strict!=="all",relaxedSk:n.strict!=="all"})}_fromCursorToKeysByIndex({provided:e},r={}){if(typeof e!="string"||e.length<1)throw new x.ElectroError(x.ErrorCodes.InvalidConversionCursorProvided,"Invalid conversion cursor provided");return $.cursorFormatter.deserialize(e)}_fromKeysToCursorByIndex({indexName:e=V,provided:r},n={}){let i=this._verifyKeys({indexName:V,provided:r}),s=this._verifyKeys({indexName:e,provided:r});if(i){if(!s)throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,`Provided keys did not include valid properties for the index "${e}"`)}else throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,"Provided keys did not include valid properties for the primary index");let o=this._trimKeysToIndex({indexName:e,provided:r});if(!o||Object.keys(o).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,"Provided keys not defined");return $.cursorFormatter.serialize(r)}_fromKeysToCompositeByIndex({indexName:e=V,provided:r},n={}){let i={},s=this._deconstructIndex({index:e,keys:r});if(!s)throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,`Provided keys did not include valid properties for the index "${e}"`);i={...s};let o;if(e!==V&&(o=this._deconstructIndex({index:V,keys:r})),o===null)return i;if(i={...i,...o},Object.keys(i).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,"Provided keys could not be used to form composite attributes");return i}_fromCursorToCompositeByIndex({indexName:e=V,provided:r},n={}){let i=this._fromCursorToKeysByIndex({indexName:e,provided:r},n);if(!i||Object.keys(i).length===0)throw new x.ElectroError(x.ErrorCodes.InvalidConversionCursorProvided,"Invalid conversion cursor provided");return this._fromKeysToCompositeByIndex({indexName:e,provided:i},n)}_trimKeysToIndex({indexName:e=V,provided:r}){if(!r)return null;let n=this.model.translations.keys[e].pk,i=this.model.translations.keys[e].sk,s=this.model.translations.keys[V].pk,o=this.model.translations.keys[V].sk,a={[n]:r[n],[i]:r[i],[s]:r[s],[o]:r[o]};return!a||Object.keys(a).length===0?null:a}_verifyKeys({indexName:e,provided:r}){if(!r)throw new x.ElectroError(x.ErrorCodes.InvalidConversionKeysProvided,"Provided keys not defined");let n=this.model.translations.keys[e].pk,i=this.model.translations.keys[e].sk;return r[n]!==void 0&&(!i||r[i]!==void 0)}_formatReturnPager(e,r){let n=r||null;return e.data===Cr.raw||e.pager===Mi.raw?n:e.formatCursor.serialize(n)||null}_formatExclusiveStartKey({config:e,indexName:r=V}){let n=e.cursor;if(e.data===Cr.raw||e.pager===Mi.raw)return this._trimKeysToIndex({provided:n,indexName:r})||null;let i;return e.pager===Mi.item?i=this._fromCompositeToKeysByIndex({indexName:r,provided:n}):i=e.formatCursor.deserialize(n),i&&this._trimKeysToIndex({provided:i,indexName:r})||null}setClient(e){e&&(this.client=O$.normalizeClient(e))}setTableName(e){this.config.table=e}getTableName(){return this.config.table}_chain(e,r,n){let i={};for(let s of n.children)i[s]=(...o)=>{e.prev=e.self,e.self=s;let a=r[s].action(this,e,...o);return r[s].children.length?this._chain(a,r,r[s]):a};return i}_makeChain(e=V,r,n,i={}){return new Tue({index:e,options:i,attributes:i.attributes||this.model.schema.attributes,hasSortKey:i.hasSortKey||this.model.lookup.indexHasSortKeys[e],compositeAttributes:i.compositeAttributes||this.model.facets.byIndex[e]}).init(this,r,n)}_regexpEscape(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}_normalizeConcurrencyValue(e=1){if(e=parseInt(e),isNaN(e)||e<1)throw new x.ElectroError(x.ErrorCodes.InvalidConcurrencyOption,"Query option 'concurrency' must be of type 'number' and greater than zero.");return e}_normalizePagesValue(e){if(e===b_)return e;if(e=parseInt(e),isNaN(e)||e<1)throw new x.ElectroError(x.ErrorCodes.InvalidPagesOption,`Query option 'pages' must be of type 'number' and greater than zero or the string value '${b_}'`);return e}_normalizeLimitValue(e){if(e!==void 0&&(e=parseInt(e),isNaN(e)||e<1))throw new x.ElectroError(x.ErrorCodes.InvalidLimitOption,"Query option 'limit' must be of type 'number' and greater than zero.");return e}_createKeyDeconstructor(e={},r=[],n={}){let{prefix:i,isCustom:s,postfix:o,cast:a}=e,c=[],l=[],d=`^${this._regexpEscape(i||"")}`;for(let{name:f,label:h}of r){let y=n[f];s&&!f&&h?d+=`${this._regexpEscape(h)}`:s?d+=`${this._regexpEscape(h===void 0?"":h)}(.+)`:d+=`#${this._regexpEscape(h===void 0?f:h)}_(.+)`,c.push(f),y&&l.push(y.type)}typeof o=="string"&&(d+=this._regexpEscape(o)),d+="$";let m=new RegExp(d,"i");return({key:f}={})=>{let h=typeof f;if(!["string","number"].includes(h))return null;f=`${f}`;let y=a===Kn.number&&h==="number",v=f.match(m),g={};if(v||y)for(let _=0;_<c.length;_++){let b=c[_],S=y?f:v[_+1];switch(l[_]){case"number":{S=parseFloat(S);break}case"boolean":{S=S==="true";break}}b&&S!==void 0&&(g[b]=S)}else g=null;return g}}_deconstructIndex({index:e=V,keys:r={}}={}){if(!!!this.model.translations.keys[e])return null;let i=this.model.translations.keys[e].pk,s=this.model.translations.keys[e].sk,o=this.model.lookup.indexHasSortKeys[e],a=this.model.keys.deconstructors[e],c=r[i];if(c===void 0)return null;let l=a.pk({key:c});if(l===null)return null;let d={};if(o){let m=r[s];if(m===void 0||(d=a.sk({key:m}),d===null))return null}return{...l,...d}}_formatKeysToItem(e=V,r){if(r===null||typeof r!="object"||Object.keys(r).length===0)return r;let n=V,i=this._deconstructIndex({index:e,keys:r});if(i===null)return null;if(e!==n){let a=this._deconstructIndex({index:n,keys:r});if(a===null)return null;i={...i,...a}}let s=Object.keys(i).length===0&&this.model.facets.byIndex[n].all.length>0,o=this.model.facets.byIndex[n].all.find(a=>i[a.name]===void 0);return s||o?null:i}_constructPagerIndex(e=V,r,n={}){let i=n.relaxedPk?r:this._expectFacets(r,this.model.facets.byIndex[e].pk),s=n.relaxedSk?r:this._expectFacets(r,this.model.facets.byIndex[e].sk),o=this._makeIndexKeys({index:e,pkAttributes:i,skAttributes:[s]});return this._makeParameterKey(e,o.pk,...o.sk)}_formatSuppliedPager(e=V,r,n={}){if(typeof r!="object"||Object.keys(r).length===0)return r;let i=V,s=this._constructPagerIndex(e,r,n);return e!==i&&(s={...s,...this._constructPagerIndex(i,r,n)}),s}_normalizeExecutionOptions({provided:e=[],context:r={}}={}){let n={includeKeys:!1,originalErr:!1,raw:!1,params:{},page:{},lastEvaluatedKeyRaw:!1,table:void 0,concurrent:void 0,parse:void 0,pager:Mi.named,unprocessed:As.item,response:"default",cursor:null,data:"attributes",consistent:void 0,compare:Qo.keys,complete:!1,ignoreOwnership:!1,_providedIgnoreOwnership:!1,_isPagination:!1,_isCollectionQuery:!1,pages:1,count:void 0,listeners:[],preserveBatchOrder:!1,attributes:[],terminalOperation:void 0,formatCursor:$.cursorFormatter,order:void 0,hydrate:!1,hydrator:(i,s,o)=>o,_objectOnEmpty:!1,_includeOnResponseItem:{}};return e.filter(Boolean).reduce((i,s)=>{if(typeof s.order=="string")switch(s.order.toLowerCase()){case"asc":i.params[I$]=w$.asc;break;case"desc":i.params[I$]=w$.desc;break;default:throw new x.ElectroError(x.ErrorCodes.InvalidOptions,`Invalid value for query option "order" provided. Valid options include 'asc' and 'desc, received: "${s.order}"`)}if(typeof s.compare=="string"){let o=Qo[s.compare.toLowerCase()];if(o)i.compare=o,o===Qo.v2&&s.complete===void 0&&(i.complete=!0);else throw new x.ElectroError(x.ErrorCodes.InvalidOptions,`Invalid value for query option "compare" provided. Valid options include ${$.commaSeparatedString(Object.keys(Qo))}, received: "${s.compare}"`)}if(typeof s.response=="string"&&s.response.length){let o=E_[s.response];if(o===void 0)throw new x.ElectroError(x.ErrorCodes.InvalidOptions,`Invalid value for query option "format" provided: "${s.format}". Allowed values include ${$.commaSeparatedString(Object.keys(E_))}.`);o!==E_.default&&(i.response=o,r.operation===we.transactWrite?i.params.ReturnValuesOnConditionCheckFailure=Di[o]:i.params.ReturnValues=Di[o])}if(s.formatCursor)if(["serialize","deserialize"].every(a=>a in s.formatCursor&&rt.isFunction(s.formatCursor[a])))i.formatCursor=s.formatCursor;else throw new x.ElectroError(x.ErrorCodes.InvalidOptions,'Invalid value for query option "formatCursor" provided. Formatter interface must have serialize and deserialize functions');if(s.terminalOperation in Fi&&(i.terminalOperation=Fi[s.terminalOperation]),Array.isArray(s.attributes)&&(i.attributes=i.attributes.concat(s.attributes),i.attributes.length>0&&(i._objectOnEmpty=!0)),s.preserveBatchOrder===!0&&(i.preserveBatchOrder=!0),s.pages!==void 0&&(i.pages=s.pages),s._isCollectionQuery===!0&&(i._isCollectionQuery=!0),s.includeKeys===!0&&(i.includeKeys=!0),s.originalErr===!0&&(i.originalErr=!0),s.raw===!0&&(i.raw=!0),s._isPagination&&(i._isPagination=!0),s.lastEvaluatedKeyRaw===!0&&(i.lastEvaluatedKeyRaw=!0,i.pager=Mi.raw,i.unprocessed=As.raw),s.cursor&&(i.cursor=s.cursor),s.data){if(!Cr[s.data])throw new x.ElectroError(x.ErrorCodes.InvalidOptions,`Query option 'data' must be one of ${$.commaSeparatedString(Object.keys(Cr))}.`);switch(i.data=s.data,s.data){case Cr.raw:i.raw=!0;break;case Cr.includeKeys:i.includeKeys=!0;break}}if(s.count!==void 0){if(typeof s.count!="number"||s.count<1)throw new x.ElectroError(x.ErrorCodes.InvalidOptions,"Query option 'count' must be of type 'number' and greater than zero.");i.count=s.count}if(s.consistent===!0&&(i.consistent=!0,i.params.ConsistentRead=!0),s.limit!==void 0&&(i.limit=s.limit,i.params.Limit=s.limit),rt.isStringHasLength(s.table)&&(i.params.TableName=s.table,i.table=s.table),s.concurrent!==void 0&&(i.concurrent=s.concurrent),rt.isFunction(s.parse)&&(i.parse=s.parse),typeof s.pager=="string")if(typeof Mi[s.pager]=="string")i.pager=s.pager;else throw new x.ElectroError(x.ErrorCodes.InvalidOptions,`Invalid value for option "pager" provided: "${s.pager}". Allowed values include ${$.commaSeparatedString(Object.keys(Mi))}.`);if(typeof s.unprocessed=="string")if(typeof As[s.unprocessed]=="string")i.unproessed=As[s.unprocessed];else throw new x.ElectroError(x.ErrorCodes.InvalidOptions,`Invalid value for option "unprocessed" provided: "${s.unprocessed}". Allowed values include ${$.commaSeparatedString(Object.keys(As))}.`);if(s.ignoreOwnership&&(i.ignoreOwnership=s.ignoreOwnership,i._providedIgnoreOwnership=s.ignoreOwnership),s.listeners&&Array.isArray(s.listeners)&&(i.listeners=i.listeners.concat(s.listeners)),s.logger)if(rt.isFunction(s.logger))i.listeners.push(s.logger);else throw new x.ElectroError(x.ErrorCodes.InvalidLoggerProvided,"Loggers must be of type function");return s.hydrate&&(i.hydrate=!0,i.ignoreOwnership=!0),rt.isFunction(s.hydrator)&&(i.hydrator=s.hydrator),s._includeOnResponseItem&&(i._includeOnResponseItem={...i._includeOnResponseItem,...s._includeOnResponseItem}),i.page=Object.assign({},i.page,s.page),i.params=Object.assign({},i.params,s.params),i},n)}_applyParameterOptions({params:e={},options:r={}}={}){let n=Object.assign({},e);for(let i of Object.keys(r.params||{}))r.params[i]!==void 0&&(n[i]=r.params[i]);return n}addListeners(e){this.eventManager.add(e)}_addLogger(e){if(rt.isFunction(e))this.addListeners(e);else throw new x.ElectroError(x.ErrorCodes.InvalidLoggerProvided,"Logger must be of type function")}_getPrimaryIndexFieldNames(){let e=this.model.lookup.indexHasSortKeys[V],r=this.model.translations.indexes.fromIndexToAccessPattern[V],n=this.model.indexes[r].pk.field,i;return e&&(i=this.model.indexes[r].sk.field),{pk:n,sk:i}}_applyParameterExpressionTypes(e,r){let n=r[sr.ConditionExpression];return n.build().length>0&&(typeof e[sr.ConditionExpression]=="string"&&e[sr.ConditionExpression].length>0?e[sr.ConditionExpression]=`${e[sr.ConditionExpression]} AND ${n.build()}`:e[sr.ConditionExpression]=n.build(),Object.keys(n.getNames()).length>0&&(e.ExpressionAttributeNames=e.ExpressionAttributeNames||{},e.ExpressionAttributeNames=Object.assign({},n.getNames(),e.ExpressionAttributeNames)),Object.keys(n.getValues()).length>0&&(e.ExpressionAttributeValues=e.ExpressionAttributeValues||{},e.ExpressionAttributeValues=Object.assign({},n.getValues(),e.ExpressionAttributeValues))),e}_params(e,r={}){let{keys:n={},method:i="",put:s={},update:o={},filter:a={},upsert:c,updateProxy:l}=e.query,d=this._consolidateQueryFacets(n.sk),m={};switch(i){case we.check:case we.get:case we.delete:case we.remove:m=this._makeSimpleIndexParams(n.pk,...d);break;case we.upsert:m=this._makeUpsertParams({update:o,upsert:c,updateProxy:l},n.pk,...n.sk);break;case we.put:case we.create:m=this._makePutParams(s,n.pk,...n.sk);break;case we.update:case we.patch:m=this._makeUpdateParams(o,n.pk,...d);break;case we.scan:m=this._makeScanParam(a[sr.FilterExpression]);break;default:throw new Error(`Invalid method: ${i}`)}let f=this._applyParameterOptions({params:m,options:r});return this._applyParameterExpressions(i,f,r,a)}_applyParameterExpressions(e,r,n,i){return e!==we.get?this._applyParameterExpressionTypes(r,i):(r=this._applyProjectionExpressions({parameters:r,config:n}),this._applyParameterExpressionTypes(r,i))}_applyProjectionExpressions({parameters:e={},config:r={}}={}){let n=r.attributes||[];if(n.length===0)return e;let i=r.data===Cr.raw,s=!r.ignoreOwnership,o=Fi[r.terminalOperation]===Fi.page,a=Fi[r.terminalOperation]===Fi.go||Fi[r.terminalOperation]===Fi.page,c=[],l=new Set;for(let d of n){let m=this.model.schema.getFieldName(d);typeof m!="string"?c.push(d):l.add(m)}if(l.size===0||c.length>0){let d="Unknown attributes provided in query options";throw c.length&&(d+=`: ${$.commaSeparatedString(c)}`),new x.ElectroError(x.ErrorCodes.InvalidOptions,d)}if(e.ExpressionAttributeNames=e.ExpressionAttributeNames||{},!i&&a&&s&&(l.add(this.identifiers.entity),l.add(this.identifiers.version),o&&r.pager!==Mi.raw)){let d=this.model.facets.byIndex[V],m=this.model.facets.byIndex[e.IndexName]||{all:[]};for(let f of[...d.all,...m.all]){let h=this.model.schema.getFieldName(f.name);l.add(h)}}for(let d of l)e.ExpressionAttributeNames["#"+d]=d;return typeof e.ProjectionExpression=="string"?e.ProjectionExpression=[e.ProjectionExpression,...Object.keys([e.ExpressionAttributeNames])].join(", "):e.ProjectionExpression=Object.keys(e.ExpressionAttributeNames).join(", "),e}_batchGetParams(e,r={}){let n=r.table||this.getTableName(),i=r.params||{};delete i.TableName;let s=[];for(let a of e.subStates){let c=a.query.method,l=this._params(a,r);if(c===we.get){let{Key:d}=l;s.push(d)}}return $.batchItems(s,x$.batchGet).map(a=>({RequestItems:{[n]:{...i,Keys:a}}}))}_batchWriteParams(e,r={}){let n=r.table||this.getTableName(),i=[];for(let o of e.subStates){let a=o.query.method,c=this._params(o,r);switch(a){case we.put:let{Item:l}=c;i.push({PutRequest:{Item:l}});break;case we.delete:let{Key:d}=c;i.push({DeleteRequest:{Key:d}});break;default:throw new Error("Invalid method type")}}return $.batchItems(i,x$.batchWrite).map(o=>({RequestItems:{[n]:o}}))}_makeParameterKey(e,r,n){let i=this.model.lookup.indexHasSortKeys[e],s=this.model.translations.indexes.fromIndexToAccessPattern[e],a={[this.model.indexes[s].pk.field]:r};if(i&&n!==void 0){let c=this.model.indexes[s].sk.field;a[c]=n}return a}getIdentifierExpressions(e=this.getName()){let r=this.getName(),n=this.getVersion();return{names:{[`#${this.identifiers.entity}`]:this.identifiers.entity,[`#${this.identifiers.version}`]:this.identifiers.version},values:{[`:${this.identifiers.entity}_${e}`]:r,[`:${this.identifiers.version}_${e}`]:n},expression:`(#${this.identifiers.entity} = :${this.identifiers.entity}_${e} AND #${this.identifiers.version} = :${this.identifiers.version}_${e})`}}_makeScanParam(e={}){let r=V,n=this.model.lookup.indexHasSortKeys[r],i=this.model.translations.indexes.fromIndexToAccessPattern[r],s=this.model.indexes[i].pk.field,{pk:o,sk:a}=this._makeIndexKeys({index:r}),c=this._makeParameterKey(r,o,...a);for(let y in c)(c[y]===void 0||c[y]==="")&&delete c[y];let l=this._expressionAttributeBuilder(c),d=this._mergeExpressionsAttributes(e.getNames(),l.ExpressionAttributeNames),m=this._mergeExpressionsAttributes(e.getValues(),l.ExpressionAttributeValues),f={TableName:this.getTableName()};Object.keys(d).length&&(f.ExpressionAttributeNames=d),Object.keys(m).length&&(f.ExpressionAttributeValues=m);let h=[];if(c[s]&&h.push(`begins_with(#${s}, :${s})`),n){let y=this.model.indexes[i].sk.field;c[y]&&h.push(`begins_with(#${y}, :${y})`)}return e.build()&&h.push(e.build()),h.length&&(f.FilterExpression=h.join(" AND ")),f}_makeSimpleIndexParams(e,r){let n=V,i=this._makeIndexKeys({index:n,pkAttributes:e,skAttributes:[r]}),s=this._makeParameterKey(n,i.pk,...i.sk),o=this.getTableName();return{Key:s,TableName:o}}_removeAttributes(e,r){let n={...e};for(let i of Object.keys(r))delete n[i];return n}_makeUpdateParams(e={},r={},n={}){let i={...r,...n},s={},o={};for(let y of Object.keys(e.paths)){let{value:v,name:g}=e.paths[y];s[y]=v,o[y]=g}let a={};for(let y in e.impacted)e.impacted[y]===sm.remove&&(a[y]=y);s=this._removeAttributes(s,{...r,...n,...this.model.schema.getReadOnly()});let c=this.model.schema.applyAttributeSetters(s),l={...c},{indexKey:d,updatedKeys:m,deletedKeys:f=[]}=this._getUpdatedKeys(r,n,l,a,e.composites),h=this.model.translations.indexes.fromIndexToAccessPattern[V];for(let y of Object.keys(c))if(o[y]!==void 0&&c[y]!==void 0)e.updateValue(o[y],c[y]);else if(c[y]!==void 0){let v=this.model.schema.getAttribute(y);v?e.set(v.field,c[y]):e.set(y,c[y])}for(let y of Object.keys(m)){let v=y!==this.model.indexes[h].pk.field,g=y!==this.model.indexes[h].sk.field,_=o[y]===void 0;v&&g&&_&&e.set(y,m[y])}for(let y of f){let v=y!==this.model.indexes[h].pk.field,g=y!==this.model.indexes[h].sk.field,_=o[y]===void 0;v&&g&&_&&e.remove(y)}for(let y of Object.keys(i)){let v=this.model.schema.attributes[y],g=!!(v&&v.field!==this.model.indexes[h].pk.field),_=!!(v&&v.field!==this.model.indexes[h].sk.field),b=o[y]===void 0;g&&_&&b&&e.set(v.field,i[y])}return e.set(this.identifiers.entity,this.getName()),e.set(this.identifiers.version,this.getVersion()),{UpdateExpression:e.build(),ExpressionAttributeNames:e.getNames(),ExpressionAttributeValues:e.getValues(),TableName:this.getTableName(),Key:d}}_makePutParams({data:e}={},r,n){let i=this.model.schema.applyAttributeSetters(e),{updatedKeys:s,setAttributes:o}=this._getPutKeys(r,n&&n.facets,i);return{Item:{...this.model.schema.translateToFields(o),...s,[this.identifiers.entity]:this.getName(),[this.identifiers.version]:this.getVersion()},TableName:this.getTableName()}}_maybeApplyUpsertUpdate({fields:e=[],operation:r,updateProxy:n,update:i}){for(let[s,o]of e){let a=this.model.schema.translationForRetrieval[s];if(a){let c=this.model.schema.attributes[a];this.model.schema.readOnlyAttributes.has(a)&&(!c||!c.indexes||c.indexes.length===0)?i.set(s,o,sm.ifNotExists):n.performOperation({value:o,operation:r,path:a,force:!0})}else i.set(s,o,r)}}_makeUpsertParams({update:e,upsert:r}={}){return{TableName:this.getTableName(),UpdateExpression:e.build(),ExpressionAttributeNames:e.getNames(),ExpressionAttributeValues:e.getValues(),Key:r.indexKey}}_updateExpressionBuilder(e){let r=this.model.translations.indexes.fromIndexToAccessPattern[V],n=[this.model.indexes[r].pk.field,this.model.indexes[r].sk.field];return this._expressionAttributeBuilder(e,sm.set,{skip:n})}_queryKeyExpressionAttributeBuilder(e,r,...n){let i={...this.model.translations.keys[e]},s=["pk"],o={pk:r};n=n.filter(c=>c!==void 0);for(let c=0;c<n.length;c++){let l=`sk${c+1}`;o[l]=n[c],s.push(l),i[l]=i.sk}let a=this._expressionAttributeBuilder(o,sm.set,{translate:i,restrict:s});return{ExpressionAttributeNames:Object.assign({},a.ExpressionAttributeNames),ExpressionAttributeValues:Object.assign({},a.ExpressionAttributeValues)}}_expressionAttributeBuilder(e={},r="",n={}){let{require:i=[],reject:s=[],restrict:o=[],skip:a=[],translate:c={}}=n,l={UpdateExpression:[],ExpressionAttributeNames:{},ExpressionAttributeValues:{}};if(i.length){let d=Object.keys(e),m=i.filter(f=>!d.includes(f));if(!m)throw new x.ElectroError(x.ErrorCodes.MissingAttribute,`Item is missing attributes: ${$.commaSeparatedString(m)}`)}for(let d in e){if(s.includes(d))throw new Error(`Invalid attribute ${d}`);if(o.length&&!o.includes(d))throw new Error(`${d} is not a valid attribute: ${$.commaSeparatedString(o)}`);if(d===void 0||a.includes(d))continue;let m=d,f=e[d],h=`#${d}`,y=`:${d}`;c[d]&&(m=c[d]),l.UpdateExpression.push(`${h} = ${y}`),l.ExpressionAttributeNames[h]=m,l.ExpressionAttributeValues[y]=f}return l.UpdateExpression=`${r.toUpperCase()} ${l.UpdateExpression.join(", ")}`,l}_makeQueryKeys(e,r){let n=this._consolidateQueryFacets(e.query.keys.sk);switch(e.query.type){case _t.is:return this._makeIndexKeys({index:e.query.index,pkAttributes:e.query.keys.pk,skAttributes:n,indexType:e.query.options.indexType,queryType:e.query.type,isCollection:e.query.options._isCollectionQuery});default:return this._makeIndexKeysWithoutTail(e,n,r)}}_queryParams(e={},r={}){let n=this._makeQueryKeys(e,r),i={};switch(e.query.type){case _t.is:i=this._makeIsQueryParams(e.query,e.query.index,e.query.filter[sr.FilterExpression],n.pk,...n.sk);break;case _t.begins:i=this._makeBeginsWithQueryParams(e.query.options,e.query.index,e.query.filter[sr.FilterExpression],n.pk,...n.sk);break;case _t.collection:i=this._makeBeginsWithQueryParams(e.query.options,e.query.index,e.query.filter[sr.FilterExpression],n.pk,this._getCollectionSk(e.query.collection));break;case _t.clustered_collection:i=this._makeBeginsWithQueryParams(e.query.options,e.query.index,e.query.filter[sr.FilterExpression],n.pk,...n.sk);break;case _t.between:i=this._makeBetweenQueryParams(e.query.options,e.query.index,e.query.filter[sr.FilterExpression],n.pk,...n.sk);break;case _t.gte:case _t.gt:case _t.lte:case _t.lt:i=this._makeComparisonQueryParams(e.query.index,e.query.type,e.query.filter[sr.FilterExpression],n,r,e.query.options);break;default:throw new Error(`Invalid query type: ${e.query.type}`)}let s=this._applyParameterOptions({params:i,options:r});return this._applyProjectionExpressions({parameters:s,config:r})}_makeBetweenQueryParams(e,r,n,i,...s){let o=this._queryKeyExpressionAttributeBuilder(r,i,...s);delete o.ExpressionAttributeNames["#sk2"];let a={names:e.expressions&&e.expressions.names||{},values:e.expressions&&e.expressions.values||{},expression:e.expressions&&e.expressions.expression||""},c={TableName:this.getTableName(),ExpressionAttributeNames:this._mergeExpressionsAttributes(n.getNames(),o.ExpressionAttributeNames,a.names),ExpressionAttributeValues:this._mergeExpressionsAttributes(n.getValues(),o.ExpressionAttributeValues,a.values),KeyConditionExpression:"#pk = :pk and #sk1 BETWEEN :sk1 AND :sk2"};r&&(c.IndexName=r);let l=[a.expression,n.build()].filter(Boolean).join(" AND ");return l.length&&(c.FilterExpression=l),c}_makeInclusiveQueryParams(e,r,n,i,s,o){let a=this._queryKeyExpressionAttributeBuilder(r,i,s),c="#pk = :pk";this.model.lookup.indexHasSortKeys[r]&&(typeof a.ExpressionAttributeValues[":sk1"]=="number"||typeof a.ExpressionAttributeValues[":sk1"]=="string"&&a.ExpressionAttributeValues[":sk1"].length>0)?o===_t.is?c=`${c} and #sk1 = :sk1`:c=`${c} and begins_with(#sk1, :sk1)`:(delete a.ExpressionAttributeNames["#sk1"],delete a.ExpressionAttributeValues[":sk1"]);let l={names:e.expressions&&e.expressions.names||{},values:e.expressions&&e.expressions.values||{},expression:e.expressions&&e.expressions.expression||""},d={KeyConditionExpression:c,TableName:this.getTableName(),ExpressionAttributeNames:this._mergeExpressionsAttributes(n.getNames(),a.ExpressionAttributeNames,l.names),ExpressionAttributeValues:this._mergeExpressionsAttributes(n.getValues(),a.ExpressionAttributeValues,l.values)};r&&(d.IndexName=r);let m=[l.expression,n.build()].filter(Boolean).join(" AND ");return m.length&&(d.FilterExpression=m),d}_makeIsQueryParams(e,r,n,i,s){let{options:o,keys:a}=e,c=a.provided.filter(f=>f.type===Ie.sk).map(f=>f.attribute),l=this.model.facets.byIndex[r]&&this.model.facets.byIndex[r].sk&&Array.isArray(this.model.facets.byIndex[r].sk)&&this.model.facets.byIndex[r].sk||[];return new Set(l).size===c.length&&l.every(f=>c.includes(f))?this._makeInclusiveQueryParams(o,r,n,i,s,_t.is):this._makeBeginsWithQueryParams(o,r,n,i,s)}_makeBeginsWithQueryParams(e,r,n,i,s){return this._makeInclusiveQueryParams(e,r,n,i,s,_t.begins)}_mergeExpressionsAttributes(...e){let r={};for(let n of e)n&&(r={...r,...n});return r}_getComparisonOperator(e,r,n){return r==="number"?C$[e]:n===Qo.v2?T$[e]:C$[e]}_makeComparisonQueryParams(e=V,r="",n={},i={},s={},o={}){let{pk:a}=i,c=i.sk[0],l=this._getComparisonOperator(r,typeof c,s.compare);if(!l)throw new Error(`Unexpected comparison operator "${r}", expected ${$.commaSeparatedString(Object.keys(T$))}`);let d={names:o.expressions&&o.expressions.names||{},values:o.expressions&&o.expressions.values||{},expression:o.expressions&&o.expressions.expression||""},m=this._queryKeyExpressionAttributeBuilder(e,a,c),f={TableName:this.getTableName(),ExpressionAttributeNames:this._mergeExpressionsAttributes(n.getNames(),m.ExpressionAttributeNames,d.names),ExpressionAttributeValues:this._mergeExpressionsAttributes(n.getValues(),m.ExpressionAttributeValues,d.values),KeyConditionExpression:`#pk = :pk and #sk1 ${l} :sk1`};e&&(f.IndexName=e);let h=[d.expression,n.build()].filter(Boolean).join(" AND ");return h.length&&(f.FilterExpression=h),f}_expectIndexFacets(e,r,{utilizeIncludedOnlyIndexes:n,skipConditionCheck:i}={}){let[s,{incomplete:o,complete:a}]=this._getIndexImpact(e,r,{utilizeIncludedOnlyIndexes:n,skipConditionCheck:i});if(s){let c=o.map(({index:d})=>this.model.translations.indexes.fromIndexToAccessPattern[d]),l=o.reduce((d,{missing:m})=>[...d,...m],[]);throw new x.ElectroError(x.ErrorCodes.IncompleteCompositeAttributes,`Incomplete composite attributes: Without the composite attributes ${$.commaSeparatedString(l)} the following access patterns cannot be updated: ${$.commaSeparatedString(c.filter(d=>d!==void 0))}. If a composite attribute is readOnly and cannot be set, use the 'composite' chain method on update to supply the value for key formatting purposes.`)}return a}_makeKeysFromAttributes(e,r,n){let i={};for(let[s,o]of Object.entries(e)){if(!(!this._indexConditionIsDefined(s)||n[s])&&s!==V)continue;let c=this._makeIndexKeys({index:s,pkAttributes:r,skAttributes:[r]});(o.pk||o.sk)&&(i[s]={}),o.pk&&c.pk&&(i[s].pk=c.pk),o.sk&&c.sk?i[s].sk=c.sk:i[s].sk=[]}return i}_makePutKeysFromAttributes(e,r){let n={};for(let i of e)this.model.indexes[this.model.translations.indexes.fromIndexToAccessPattern[i]].condition(r)&&(n[i]=this._makeIndexKeys({index:i,pkAttributes:r,skAttributes:[r]}));return n}_getPutKeys(e,r,n,i){let s=n,o=V,a=this.model.translations.keys,c={...r,...e},l=this._expectIndexFacets({...s,...i},{...c},{set:n}),d=[];for(let[y,v]of Object.entries(l.conditions))v||(d.push(this.model.translations.keys[y][Ie.pk]),this.model.translations.keys[y][Ie.sk]&&d.push(this.model.translations.keys[y][Ie.sk]));l.indexes.includes(o)||l.indexes.push(o);let m=this._makePutKeysFromAttributes(l.indexes,{...c,...s}),f={},h={};for(let[y,v]of Object.entries(m)){let{pk:g,sk:_}=a[y];y===o&&(h[g]=v.pk,_&&(h[_]=v.sk[0])),v.pk!==void 0&&v.pk!==""&&(f[g]=v.pk),_&&v.sk[0]!==void 0&&v.sk[0]!==""&&(f[_]=v.sk[0])}return{indexKey:h,updatedKeys:f,setAttributes:s,deletedKeys:d}}_getUpdatedKeys(e,r,n,i,s={}){let o=V,a=this.model.translations.keys,c={...r,...e},l=this._expectIndexFacets({...n},{...s,...c},{utilizeIncludedOnlyIndexes:!0}),d=this._expectIndexFacets({...i},{...c},{skipConditionCheck:!0});l.impactedIndexTypes[o]===void 0&&(l.impactedIndexTypes[o]={pk:"pk",sk:"sk"});let m=this._makeKeysFromAttributes(l.impactedIndexTypes,{...s,...n,...c},l.conditions),f={},h=[],y={};for(let[v,g]of Object.entries(l.conditions))g||(h.push(this.model.translations.keys[v][Ie.pk]),this.model.translations.keys[v][Ie.sk]&&h.push(this.model.translations.keys[v][Ie.sk]));for(let v of Object.values(d.impactedIndexTypes))h=h.concat(Object.values(v));for(let[v,g]of Object.entries(m)){let{pk:_,sk:b}=a[v];if(v===o)y[_]=g.pk,b&&(y[b]=g.sk[0]);else{let S=Array.isArray(g.sk)&&g.sk.length===0,N=this.model.lookup.indexHasSortKeys[v],Q=N&&this.model.facets.byIndex[v].sk.length===0,D=N&&this.model.prefixes[v].sk.prefix!==void 0,C=N&&this.model.prefixes[v].sk.prefix!==void 0;if(S&&Q){let O=D?this.model.prefixes[v].sk.prefix:"";C&&(O=`${O}${this.model.prefixes[v].sk.postfix}`),O&&g.sk.push(O)}}g.pk&&(f[_]=g.pk),b&&g.sk[0]&&(f[b]=g.sk[0])}return{indexKey:y,updatedKeys:f,deletedKeys:h}}_indexConditionIsDefined(e){let r=this.model.indexes[this.model.translations.indexes.fromIndexToAccessPattern[e]];return r&&r.conditionDefined}_getIndexImpact(e={},r={},{utilizeIncludedOnlyIndexes:n,skipConditionCheck:i}={}){let s=Object.keys(r),o={},a={},c={},l={},d=[],m={};for(let[g,_]of Object.entries(this.model.facets.byAttr))e[g]!==void 0&&(m[g]=e[g],_.forEach(b=>{let{index:S,type:N}=b;o[S]=o[S]||{},o[S][N]=o[S][N]||[],o[S][N].push(g),c[S]=c[S]||{},c[S][N]=this.model.translations.keys[S][N],l[S]=l[S]||{},l[S][N]=Fc.provided}));if(n)for(let[g,{pk:_,sk:b}]of Object.entries(this.model.facets.byIndex))g===V||!this._indexConditionIsDefined(g)||(_&&_.length&&_.every(S=>r[S]!==void 0)&&(_.forEach(S=>{m[S]=r[S]}),o[g]=o[g]||{},o[g][Ie.pk]=[..._],c[g]=c[g]||{},c[g][Ie.pk]=this.model.translations.keys[g][Ie.pk],l[g]=l[g]||{},l[g][Ie.pk]=l[g][Ie.pk]||Fc.composite),b&&b.length&&b.every(S=>r[S]!==void 0)&&this.model.translations.keys[g][Ie.sk]&&(b.forEach(S=>{m[S]=r[S]}),o[g]=o[g]||{},o[g][Ie.sk]=[...b],c[g]=c[g]||{},c[g][Ie.sk]=this.model.translations.keys[g][Ie.sk],l[g]=l[g]||{},l[g][Ie.sk]=l[g][Ie.sk]||Fc.composite));let f=Object.entries(this.model.facets.byIndex).map(([g,_])=>{let{pk:b,sk:S}=_,N=o[g],Q={index:g,definition:_,missing:[]};if(N){let D=N[Ie.pk]&&N[Ie.pk].length!==b.length,C=N[Ie.sk]&&N[Ie.sk].length!==S.length;D&&(Q.missing=[...Q.missing,...b.filter(O=>!N[Ie.pk].includes(O)&&!s.includes(O))]),C&&(Q.missing=[...Q.missing,...S.filter(O=>!N[Ie.sk].includes(O)&&!s.includes(O))]),!D&&!C&&d.push(g)}return Q}),h=[];for(let{index:g,missing:_,definition:b}of f){let S=this._indexConditionIsDefined(g);if(i||g===V||!S){h.push({index:g,missing:_}),a[g]=!0;continue}let N=l[g]&&(l[g][Ie.pk]===Fc.provided||l[g][Ie.sk]===Fc.provided),Q=b.all.every(({name:D})=>r[D]!==void 0);if(N||Q){let D=b.all.filter(({name:U})=>e[U]===void 0&&r[U]===void 0||_.includes(U)).map(({name:U})=>U);if(D.length)throw new x.ElectroError(x.ErrorCodes.IncompleteIndexCompositesAttributesProvided,`Incomplete composite attributes provided for index ${g}. Write operations that include composite attributes, for indexes with a condition callback defined, must always provide values for every index composite. This is to ensure consistency between index values and attribute values. Missing composite attributes identified: ${$.commaSeparatedString(D)}`);let C=this.model.translations.indexes.fromIndexToAccessPattern[g],O=!!this.model.indexes[C].condition({...e,...r});if(a[g]=O,!O)continue}else h.push({index:g,missing:_})}return h=h.filter(({missing:g})=>g.length),[!!h.length,{incomplete:h,complete:{facets:m,indexes:d,impactedIndexTypes:c,conditions:a}}]}_consolidateQueryFacets(e){let r={},n={};for(let{type:i,facets:s}of e)i===_t.between?r={...r,...s}:i===_t.and?n={...n,...s}:(r={...r,...s},n={...n,...s});return[r,n]}_buildQueryFacets(e,r){return{...this._findProperties(e,r).reduce((i,[s,o])=>(o!==void 0&&(i[s]=o),i),{})}}_expectFacets(e={},r=[],n="key composite attributes"){let[i,s,o]=this._expectProperties(e,r);if(i)throw new x.ElectroError(x.ErrorCodes.IncompleteCompositeAttributes,`Incomplete or invalid ${n} supplied. Missing properties: ${$.commaSeparatedString(s)}`);return o}_findProperties(e,r){return r.map(n=>[n,e[n]])}_expectProperties(e,r){let n=[],i={};return this._findProperties(e,r).forEach(([s,o])=>{o===void 0?n.push(s):i[s]=o}),[!!n.length,n,i]}_makeKeyFixings({service:e,entity:r,version:n="1",tableIndex:i,modelVersion:s,isClustered:o,schema:a,prefixes:c={}}){let l={pk:{prefix:"",field:i.pk.field,casing:i.pk.casing,isCustom:i.customFacets.pk,cast:i.pk.cast},sk:{prefix:"",casing:i.sk.casing,isCustom:i.customFacets.sk,field:i.sk?i.sk.field:void 0,cast:i.sk?i.sk.cast:void 0}},d=null,m=null;for(let[b,S]of Object.entries(c))if(S.pk.field===i.pk.field?d={indexName:b,definition:S.pk}:S.sk&&S.sk.field===i.pk.field&&(d={indexName:b,definition:S.sk}),i.sk&&(S.pk.field===i.sk.field?m={indexName:b,definition:S.pk}:S.sk&&S.sk.field===i.sk.field&&(m={indexName:b,definition:S.sk})),d&&(m||!i.sk))break;let f=`$${e}`,h="",y="",v="",g=this._makeCollectionPrefix(i.collection);rt.isStringHasLength(g)?(h=`${g}`,y+=`#${r}`):y+=`$${r}`,s===S_.beta?f=`${f}_${n}`:y=`${y}_${n}`,o?v=y:h=`${h}${y}`,Object.keys(i.sk).length===0&&(f+=h,o&&(f+=v)),l.pk.isCustom||(i.scope&&(f=`${f}_${i.scope}`),l.pk.prefix=$.formatKeyCasing(f,i.pk.casing)),l.sk.isCustom||(l.sk.prefix=$.formatKeyCasing(h,i.sk.casing),l.sk.postfix=$.formatKeyCasing(v,i.sk.casing));let _=i.hasSk?[i.pk,i.sk]:[i.pk];for(let b of _)if(b.cast===Kn.string)l[b.type].cast=Kn.string;else if(b.cast===void 0&&b.isCustom&&b.facets.length===1&&b.facetLabels.every(({label:S})=>!S)&&a.attributes[b.facets[0]]&&a.attributes[b.facets[0]].type==="number")l[b.type].cast=Kn.number;else if(b.cast===Kn.number&&b.facets.length===1&&a.attributes[b.facets[0]]&&["number","string","boolean"].includes(a.attributes[b.facets[0]].type))l[b.type].cast=Kn.number;else{if(b.cast===Kn.number&&b.facets.length>1)throw new x.ElectroError(x.ErrorCodes.InvalidModel,`Invalid "cast" option provided for ${b.type} definition on index "${$.formatIndexNameForDisplay(i.index)}". Keys can only be cast to 'number' if they are a composite of one numeric attribute.`);l[b.type].cast=Kn.string}if(d){if(!($.toKeyCasingOption(l.pk.casing)===$.toKeyCasingOption(d.definition.casing)))throw new x.ElectroError(x.ErrorCodes.IncompatibleKeyCasing,`Partition Key (pk) on Access Pattern '${$.formatIndexNameForDisplay(i.index)}' is defined with the casing ${l.pk.casing}, but the accessPattern '${$.formatIndexNameForDisplay(d.indexName)}' defines the same index field with the ${d.definition.casing===S$?"(default)":""} casing ${d.definition.casing}. Key fields must have the same casing definitions across all indexes they are involved with.`);l.pk=d.definition}if(m){if(!($.toKeyCasingOption(l.sk.casing)===$.toKeyCasingOption(m.definition.casing)))throw new x.ElectroError(x.ErrorCodes.IncompatibleKeyCasing,`Sort Key (sk) on Access Pattern '${$.formatIndexNameForDisplay(i.index)}' is defined with the casing ${l.sk.casing}, but the accessPattern '${$.formatIndexNameForDisplay(m.indexName)}' defines the same index field with the ${m.definition.casing===S$?"(default)":""} casing ${m.definition.casing}. Key fields must have the same casing definitions across all indexes they are involved with.`);l.sk=m.definition}return l}_formatKeyCasing(e,r){let n=this.model.indexes[e]!==void 0?this.model.indexes[e].sk.casing:void 0;return $.formatKeyCasing(r,n)}_validateIndex(e){if(!this.model.facets.byIndex[e])throw new Error(`Invalid index: ${e}`)}_getCollectionSk(e=""){let r=this.model.subCollections[e],n=this.model.translations.collections.fromCollectionToIndex[e],i=this.model.translations.indexes.fromIndexToAccessPattern[n],s=this.model.prefixes[n],o=this._makeCollectionPrefix(r);return s.sk&&s.sk.isCustom?"":this._formatKeyCasing(i,o)}_makeCollectionPrefix(e=[]){let r="";if(rt.isArrayHasLength(e))for(let n=0;n<e.length;n++){let i=e[n];n===0?r+=`$${i}`:r+=`#${i}`}else rt.isStringHasLength(e)&&(r=`$${e}`);return r}_makeKeyTransforms(e,r={}){let n=[],i=o=>$.shiftSortOrder(o,1),s=o=>o;return r.compare!==Qo.v2?n.push(s):e===_t.between?n.push(s,i):e===_t.lte||e===_t.gt?n.push(i):n.push(s),n}_makeIndexKeysWithoutTail(e={},r=[],n){let i=e.query.index||V;this._validateIndex(i);let s=e.query.keys.pk||{},o=e.query.options.indexType===Mc.clustered&&e.query.options._isCollectionQuery,a=this._makeKeyTransforms(e.query.type,n);r.length||r.push({});let c=this.model.facets.byIndex[i],l=this.model.prefixes[i];if(!l)throw new Error(`Invalid index: ${i}`);let m=this._makeKey(l.pk,c.pk,s,this.model.facets.labels[i].pk).key,f=[],h=!1;if(this.model.lookup.indexHasSortKeys[i])for(let y=0;y<r.length;y++){let v=r[y],g=a[y],b=this.model.facets.labels[i]&&Array.isArray(this.model.facets.labels[i].sk)?this.model.facets.labels[i].sk:[],S=this._makeKey(l.sk,c.sk,v,b,{excludeLabelTail:!0,excludePostfix:o,transform:g});S.key!==void 0&&f.push(S.key),S.fulfilled&&(h=!0)}return{pk:m,sk:f,fulfilled:h}}_makeIndexKeys({index:e=V,pkAttributes:r={},skAttributes:n=[],queryType:i,indexType:s,isCollection:o=!1}){this._validateIndex(e);let a=s===Mc.clustered&&o,c=this._makeKeyTransforms(i);n.length||n.push({});let l=this.model.facets.byIndex[e],d=this.model.prefixes[e];if(!d)throw new Error(`Invalid index: ${e}`);let m=this._makeKey(d.pk,l.pk,r,this.model.facets.labels[e].pk),f=[],h=!1;if(this.model.lookup.indexHasSortKeys[e])for(let y=0;y<n.length;y++){let v=n[y],g=c[y],b=this.model.facets.labels[e]&&Array.isArray(this.model.facets.labels[e].sk)?this.model.facets.labels[e].sk:[],S=this._makeKey(d.sk,l.sk,v,b,{excludePostfix:a,transform:g});S.key!==void 0&&f.push(S.key),S.fulfilled&&(h=!0)}return{pk:m.key,sk:f,fulfilled:h}}_formatNumericCastKey(e,r){let n=r!==void 0;if(!n)return{fulfilled:n,key:r};if(typeof r=="number")return{fulfilled:n,key:r};if(typeof r=="string"){let i=parseInt(r);if(!isNaN(i))return{fulfilled:n,key:i}}if(typeof r=="boolean")return{fulfilled:n,key:r===!0?1:0};throw new x.ElectroAttributeValidationError(e,`Invalid key value provided, could not cast composite attribute ${e} to number for index`)}_makeKey({prefix:e,isCustom:r,casing:n,postfix:i,cast:s}={},o=[],a={},c=[],{excludeLabelTail:l,excludePostfix:d,transform:m=f=>f}={}){if(s===Kn.number)return this._formatNumericCastKey(o[0],a[o[0]]);let f=e,h=0;for(let _=0;_<c.length;_++){let{name:b,label:S}=c[_],N=this.model.schema.getAttribute(b),Q=a[b];if(Q===void 0&&l||(N&&rt.isFunction(N.format)&&(Q=N.format(`${Q}`)),r?f=`${f}${S}`:f=`${f}#${S}_`,a[b]===void 0))break;h++,f=`${f}${Q}`}let y=h===c.length;y&&(typeof i=="string"&&!d)&&(f+=i);let g=m($.formatKeyCasing(f,n));return{fulfilled:y,key:g}}_findBestIndexKeyMatch(e={}){let r=this.model.facets.bySlot,n=[];for(let d=0;d<r.length;d++){let m=r[d]||[];for(let f=0;f<m.length;f++){let h=m[f];n[f]=n[f]||{index:h.index,allKeys:!1,hasSk:!1,count:0,done:!1,keys:[]};let y=n[f].done,v=!h,g=h&&e[h.name]===void 0,_=h&&h.next&&r[d+1][f].type==="sk",b=h&&!h.next;if(y||v||g){n[f].done=!0;continue}_?n[f].hasSk=!0:b&&(n[f].allKeys=!0),n[f].count++,n[f].keys.push({name:h.name,type:h.type})}}let i=0;n=n.filter(d=>d.hasSk||d.allKeys).map(d=>(i=Math.max(i,d.count),d));let s=[];for(let d=0;d<n.length;d++){let m=n[d],f=m.index===""&&m.allKeys,h=m.index===""&&m.count===i,y=m.allKeys,v=m.count===i;f?s[0]=m:h?s[1]=m:y?s[2]=m:v&&(s[3]=m)}let o=s.find(d=>!!d),a=[],c="",l=!0;return o&&(a=o.keys,c=o.index,l=!1),{keys:a,index:c,shouldScan:l}}_parseComposedKey(e=V){let r={},n=e.match(/:[A-Z1-9]+/gi);if(!n)throw new x.ElectroError(x.ErrorCodes.InvalidKeyCompositeAttributeTemplate,`Invalid key composite attribute template. No composite attributes provided, expected at least one composite attribute with the format ":attributeName". Received: ${e}`);let i=e.split(/:[A-Z1-9]+/gi);for(let s=0;s<n.length;s++){let o=n[s].replace(":",""),a=i[s];o!==""&&(r[o]=r[o]||[],r[o].push(a))}return r}_parseTemplateKey(e=""){let r=[],n={label:"",name:""},i="label";for(let s=0;s<e.length;s++){let o=e[s],a=e[s-1],c=e[s+1];if(o==="{"&&a==="$"&&i==="label")i="name";else if(o==="}"&&i==="name"){if(n.name.match(/^\s*$/))throw new x.ElectroError(x.ErrorCodes.InvalidKeyCompositeAttributeTemplate,`Invalid key composite attribute template. Empty expression "\${${n.name}}" provided. Expected attribute name.`);r.push({name:n.name,label:n.label}),n.name="",n.label="",i="label"}else{if(o==="$"&&c==="{"&&i==="label")continue;n[i]+=o}}return(n.name.length>0||n.label.length>0)&&r.push({name:n.name,label:n.label}),r}_parseFacets(e){let r=!Array.isArray(e)&&typeof e=="string";if(r&&e.length>0){let n=this._parseComposedKey(e);return{isCustom:r,labels:[],attributes:Object.keys(attributes)}}else return r&&e.length===0?{isCustom:!1,labels:[],attributes:[]}:{isCustom:r,labels:[],attributes:Object.keys(e)}}_parseTemplateAttributes(e=[]){let r=!Array.isArray(e)&&typeof e=="string";if(r&&e.length>0){let n=this._parseTemplateKey(e);return{isCustom:r,labels:n,attributes:n.map(({name:i})=>i).filter(i=>!!i)}}else return r&&e.length===0?{isCustom:!1,labels:[],attributes:[]}:{isCustom:r,labels:e.map(n=>({name:n})),attributes:e}}_compositeTemplateAreCompatible(e,r){return!Array.isArray(r)||!e||!e.isCustom?!0:rt.stringArrayMatch(r,e.attributes)}_optimizeIndexKey(e){let r=typeof e.template=="string",n=Array.isArray(e.facets)&&e.facets.length===1&&e.facets[0]===e.field;return!r&&n&&(e.facets="${"+e.field+"}"),e}_optimizeMatchingKeyAttributes(e={}){let r=[];for(let n of Object.keys(e.attributes)){let{field:i}=e.attributes[n];r.push(i||n)}for(let n of Object.keys(e.indexes)){let{pk:i,sk:s}=e.indexes[n];r.includes(i.field)&&(e.indexes[n].pk=this._optimizeIndexKey(i)),s&&r.includes(s.field)&&(e.indexes[n].sk=this._optimizeIndexKey(s))}return e}_normalizeIndexes(e){let r={},n={},i={},s={},o=new Set,a={fromAccessPatternToIndex:{},fromIndexToAccessPattern:{}},c={fromCollectionToIndex:{},fromIndexToCollection:{}},l={},d={},m={byIndex:{},byField:{},byFacet:{},byAttr:{},byType:{},bySlot:[],fields:[],attributes:[],labels:{}},f={},h={},y=Object.keys(e);for(let v in y){let g=y[v],_=e[g],b=_.index||V,S=typeof _.type=="string"?_.type:Mc.isolated,N=_.scope||"";if(_.index===void 0&&C_.isFunction(_.condition))throw new x.ElectroError(x.ErrorCodes.InvalidIndexCondition,"The index option 'condition' is only allowed on secondary indexes");let Q=C_.isFunction(_.condition),D=_.condition||(()=>!0);if(S==="clustered"&&o.add(g),f[b]!==void 0)throw b===V?new x.ElectroError(x.ErrorCodes.DuplicateIndexes,`Duplicate index defined in model found in Access Pattern '${g}': '${$.formatIndexNameForDisplay(b)}'. This could be because you forgot to specify the index name of a secondary index defined in your model.`):new x.ElectroError(x.ErrorCodes.DuplicateIndexes,`Duplicate index defined in model found in Access Pattern '${g}': '${b}'`);f[b]=b;let C=!!_.sk,O=!!_.collection;if(!C&&O)throw new x.ElectroError(x.ErrorCodes.CollectionNoSK,`Invalid Access pattern definition for '${g}': '${$.formatIndexNameForDisplay(b)}', contains a collection definition without a defined SK. Collections can only be defined on indexes with a defined SK.`);let U=_.collection||"",Oe={pk:!1,sk:!1},it=im[_.pk.casing]===void 0?im.default:_.pk.casing,Tt=im.default;C&&im[_.sk.casing]!==void 0&&(Tt=_.sk.casing),i[b]=C;let Bt=this._parseTemplateAttributes(_.pk.facets);Oe.pk=Bt.isCustom,m.labels[b]=m.labels[b]||{},m.labels[b].pk=m.labels[b].pk||Bt,m.labels[b].sk=m.labels[b].sk||this._parseTemplateAttributes();let te={inCollection:O,accessPattern:g,index:b,casing:it,type:Ie.pk,cast:_.pk.cast,field:_.pk.field||"",facets:Bt.attributes,isCustom:Bt.isCustom,facetLabels:Bt.labels,template:_.pk.template},oe={},he={};if(C&&(he=this._parseTemplateAttributes(_.sk.facets),Oe.sk=he.isCustom,m.labels[b].sk=he,oe={inCollection:O,accessPattern:g,index:b,casing:Tt,type:Ie.sk,cast:_.sk.cast,field:_.sk.field||"",facets:he.attributes,isCustom:he.isCustom,facetLabels:he.labels,template:_.sk.template},m.fields.push(oe.field)),Array.isArray(oe.facets)){let Fe=te.facets.filter(Ut=>oe.facets.includes(Ut));if(Fe.length!==0&&oe.facets.length>1)throw new x.ElectroError(x.ErrorCodes.DuplicateIndexCompositeAttributes,`The Access Pattern '${g}' contains duplicate references the composite attribute(s): ${$.commaSeparatedString(Fe)}. Composite attributes can only be used more than once in an index if your sort key is limitted to a single attribute. This is to prevent unexpected runtime errors related to the inability to generate keys.`)}let Uc={pk:te,sk:oe,hasSk:C,collection:U,customFacets:Oe,type:S,index:b,scope:N,condition:D,conditionDefined:Q};if(s[b]=O&&Array.isArray(U),O){let Fe=this._toSubCollectionArray(U);for(let Ut of Fe){if(d[Ut]!==void 0)throw new x.ElectroError(x.ErrorCodes.DuplicateCollections,`Duplicate collection, "${Ut}" is defined across multiple indexes "${d[Ut]}" and "${g}". Collections must be unique names across indexes for an Entity.`);d[Ut]=g,c.fromCollectionToIndex[Ut]=b,c.fromIndexToCollection[b]=c.fromIndexToCollection[b]||[],c.fromIndexToCollection[b].push(U)}l={...l,...this._normalizeSubCollections(Fe)}}let hn=[...te.facets.map(Fe=>({name:Fe,index:b,type:Ie.pk})),...(oe.facets||[]).map(Fe=>({name:Fe,index:b,type:Ie.sk}))];if(r[g]=Uc,a.fromAccessPatternToIndex[g]=b,a.fromIndexToAccessPattern[b]=g,n[b]={pk:te.field,sk:oe.field||""},m.attributes=[...m.attributes,...hn],m.fields.push(te.field),m.byIndex[b]={customFacets:Oe,pk:te.facets,sk:oe.facets,all:hn,collection:_.collection,hasSortKeys:!!i[b],hasSubCollections:!!s[b],casing:{pk:it,sk:Tt}},m.byField=m.byField||{},m.byField[te.field]=m.byField[te.field]||{},m.byField[te.field][b]=te,oe.field&&(m.byField[oe.field]=m.byField[oe.field]||{},m.byField[oe.field][b]=oe),h[te.field]!==void 0){let Fe=Object.values(m.byField[te.field]).find(lr=>lr.index!==b);if(!rt.stringArrayMatch(te.facets,Fe.facets))throw new x.ElectroError(x.ErrorCodes.InconsistentIndexDefinition,`Partition Key (pk) on Access Pattern '${$.formatIndexNameForDisplay(g)}' is defined with the composite attribute(s) ${$.commaSeparatedString(te.facets)}, but the accessPattern '${$.formatIndexNameForDisplay(Fe.index)}' defines this field with the composite attributes ${$.commaSeparatedString(Fe.facets)}'. Key fields must have the same composite attribute definitions across all indexes they are involved with`);if(!(te.template===Fe.template))throw new x.ElectroError(x.ErrorCodes.IncompatibleKeyCompositeAttributeTemplate,`Partition Key (pk) on Access Pattern '${$.formatIndexNameForDisplay(g)}' is defined with the template ${te.template||"(undefined)"}, but the accessPattern '${$.formatIndexNameForDisplay(Fe.index)}' defines this field with the key labels ${Fe.template||"(undefined)"}'. Key fields must have the same template definitions across all indexes they are involved with`);h[te.field].push({accessPattern:g,type:"pk"})}else h[te.field]=[],h[te.field].push({accessPattern:g,type:"pk"});if(oe.field){if(oe.field===te.field)throw new x.ElectroError(x.ErrorCodes.DuplicateIndexFields,`The Access Pattern '${$.formatIndexNameForDisplay(g)}' references the field '${oe.field}' as the field name for both the PK and SK. Fields used for indexes need to be unique to avoid conflicts.`);if(h[oe.field]!==void 0){let Fe=Object.values(m.byField[oe.field]).find(lr=>lr.index!==b);if(!rt.stringArrayMatch(oe.facets,Fe.facets))throw new x.ElectroError(x.ErrorCodes.DuplicateIndexFields,`Sort Key (sk) on Access Pattern '${$.formatIndexNameForDisplay(g)}' is defined with the composite attribute(s) ${$.commaSeparatedString(oe.facets)}, but the accessPattern '${$.formatIndexNameForDisplay(Fe.index)}' defines this field with the composite attributes ${$.commaSeparatedString(Fe.facets)}'. Key fields must have the same composite attribute definitions across all indexes they are involved with`);if(!(oe.template===Fe.template))throw new x.ElectroError(x.ErrorCodes.IncompatibleKeyCompositeAttributeTemplate,`Sort Key (sk) on Access Pattern '${$.formatIndexNameForDisplay(g)}' is defined with the template ${oe.template||"(undefined)"}, but the accessPattern '${$.formatIndexNameForDisplay(Fe.index)}' defines this field with the key labels ${Fe.template||"(undefined)"}'. Key fields must have the same template definitions across all indexes they are involved with`);h[oe.field].push({accessPattern:g,type:"sk"})}else h[oe.field]=[],h[oe.field].push({accessPattern:g,type:"sk"})}if(hn.forEach(({index:Fe,type:Ut,name:xr},lr)=>{let fU=hn[lr+1]!==void 0?hn[lr+1].name:"",qc={index:Fe,name:xr,type:Ut,next:fU};m.byAttr[xr]=m.byAttr[xr]||[],m.byAttr[xr].push(qc),m.byType[Ut]=m.byType[Ut]||[],m.byType[Ut].push(qc),m.byFacet[xr]=m.byFacet[xr]||[],m.byFacet[xr][lr]=m.byFacet[xr][lr]||[],m.byFacet[xr][lr].push(qc),m.bySlot[lr]=m.bySlot[lr]||[],m.bySlot[lr][v]=qc}),!this._compositeTemplateAreCompatible(Bt,_.pk.composite))throw new x.ElectroError(x.ErrorCodes.IncompatibleKeyCompositeAttributeTemplate,`Incompatible PK 'template' and 'composite' properties for defined on index "${$.formatIndexNameForDisplay(b)}". PK "template" string is defined as having composite attributes ${$.commaSeparatedString(Bt.attributes)} while PK "composite" array is defined with composite attributes ${$.commaSeparatedString(_.pk.composite)}`);if(_.sk!==void 0&&Array.isArray(_.sk.composite)&&typeof _.sk.template=="string"&&!this._compositeTemplateAreCompatible(he,_.sk.composite))throw new x.ElectroError(x.ErrorCodes.IncompatibleKeyCompositeAttributeTemplate,`Incompatible SK 'template' and 'composite' properties for defined on index "${$.formatIndexNameForDisplay(b)}". SK "template" string is defined as having composite attributes ${$.commaSeparatedString(he.attributes)} while SK "composite" array is defined with composite attributes ${$.commaSeparatedString(_.sk.composite)}`)}if(m.byIndex[V]===void 0)throw new x.ElectroError(x.ErrorCodes.MissingPrimaryIndex,"Schema is missing an index definition for the table's main index. Please update the schema to include an index without a specified name to define the table's natural index");return{facets:m,subCollections:l,indexHasSortKeys:i,clusteredIndexes:o,indexHasSubCollections:s,indexes:r,indexField:n,indexAccessPattern:a,indexCollection:c,collections:Object.keys(d)}}_normalizeFilters(e={}){let r={},n=["go","params","filter","where","set"];for(let[i,s]of Object.entries(e)){if(n.includes(i))throw new x.ElectroError(x.ErrorCodes.InvalidFilter,`Invalid filter name: ${i}. Filter cannot be named ${$.commaSeparatedString(n)}`);r[i]=s}return r}_normalizeKeyFixings({service:e,entity:r,version:n,indexes:i,modelVersion:s,clusteredIndexes:o,schema:a}){let c={};for(let l of Object.keys(i)){let d=i[l];c[d.index]=this._makeKeyFixings({service:e,entity:r,version:n,tableIndex:d,modelVersion:s,isClustered:o.has(l),schema:a,prefixes:c})}return c}_normalizeSubCollections(e=[]){let r={};for(let n=e.length-1;n>=0;n--){let i=e[n];r[i]=r[i]||[];for(let s=0;s<=n;s++)r[i].push(e[s])}return r}_toSubCollectionArray(e){let r=[];if(Array.isArray(e)&&e.every(n=>rt.isStringHasLength(n)))r=e;else if(rt.isStringHasLength(e))r.push(e);else throw new Error("Invalid collection definition");return r}_applyCompositeToFacetConversion(e){for(let r of Object.keys(e.indexes)){let n=e.indexes[r],i=n.pk.facets===void 0&&n.pk.composite===void 0&&n.pk.template===void 0,s=n.sk&&n.sk.facets===void 0&&n.sk.composite===void 0&&n.sk.template===void 0;if(i)throw new Error("Missing Index Composite Attributes!");if(s)throw new Error("Missing Index Composite Attributes!");Array.isArray(n.pk.composite)&&(n.pk={...n.pk,facets:n.pk.composite}),typeof n.pk.template=="string"&&(n.pk={...n.pk,facets:n.pk.template}),n.sk&&Array.isArray(n.sk.composite)&&(n.sk={...n.sk,facets:n.sk.composite}),n.sk&&typeof n.sk.template=="string"&&(n.sk={...n.sk,facets:n.sk.template}),e.indexes[r]=n}return e}_mergeKeyDefinitions(e,r){let n={};for(let i of Object.keys(e)){let s=e[i].pk,o=e[i].sk||{labels:[]};n[i]={pk:[],sk:[]};for(let{name:a,label:c}of s.labels)s.isCustom?n[i].pk.push({name:a,label:c}):n[i].pk.push({name:a,label:r[a]||a});for(let{name:a,label:c}of o.labels)o.isCustom?n[i].sk.push({name:a,label:c}):n[i].sk.push({name:a,label:$.getFirstDefined(r[a],a)})}return n}_parseModel(e,r={}){let n=$.getModelVersion(e),i,s,o,a,c;switch(n){case S_.beta:i=e.service,s=e.entity,o=e.version,a=r.table||e.table,c=s;break;case S_.v1:i=e.model&&e.model.service,s=e.model&&e.model.entity,o=e.model&&e.model.version,a=r.table||e.table,c=s;break;default:throw new Error("Invalid model")}e=this._applyCompositeToFacetConversion(e),e=this._optimizeMatchingKeyAttributes(e);let{facets:l,indexes:d,indexField:m,collections:f,subCollections:h,indexCollection:y,clusteredIndexes:v,indexHasSortKeys:g,indexAccessPattern:_,indexHasSubCollections:b}=this._normalizeIndexes(e.indexes),S=new bue(e.attributes,l,{getClient:()=>this.client,isRoot:!0}),N=this._normalizeFilters(e.filters),Q=this._normalizeKeyFixings({service:i,entity:s,version:o,indexes:d,modelVersion:n,clusteredIndexes:v,schema:S}),D=S.getLabels(),C={};l.labels=this._mergeKeyDefinitions(l.labels,D);for(let O of Object.keys(l.labels)){let U=_.fromIndexToAccessPattern[O];d[U].pk.labels=l.labels[O].pk,d[U].sk.labels=l.labels[O].sk;let Oe=Q[O]||{};C[O]={};for(let it in Oe){let Tt=Oe[it],Bt=l.labels[O][it]||[],te=S.attributes;C[O][it]=this._createKeyDeconstructor(Tt,Bt,te);for(let oe in S.attributes){let{field:he}=S.attributes[oe];d[U][it].field===he&&(d[U][it].isFieldRef=!0)}}}return{name:c,table:a,schema:S,facets:l,entity:s,service:i,indexes:d,version:o,filters:N,prefixes:Q,collections:f,modelVersion:n,subCollections:h,lookup:{clusteredIndexes:v,indexHasSortKeys:g,indexHasSubCollections:b},translations:{keys:m,indexes:_,collections:y},keys:{deconstructors:C},original:e}}};function Aue(t){let e=[];for(let r of Object.keys(t)){let n=t[r],i=n.model.entity,s=n.model.version;e.push({name:i,alias:r,version:s,entity:n,nameField:n.identifiers.entity,versionField:n.identifiers.version})}return e}function Oue({paramItem:t,identifiers:e,record:r,entities:n={},allowMatchOnKeys:i=!1}={}){let s;t&&C_.isFunction(t[P$])&&(s=t[P$]().entity);let o;for(let{name:a,version:c,nameField:l,versionField:d,alias:m}of e)if(s&&s.model.entity===a&&s.model.version===c){o=m;break}else if(r[l]!==void 0&&r[d]!==void 0&&r[l]===a&&r[d]===c){o=m;break}else if(n[m]&&n[m].ownsKeys(r)){o=m;break}return o}R$.exports={Entity:x_,clauses:mt,getEntityIdentifiers:Aue,matchToEntityAlias:Oue}});var T_=E((qIe,M$)=>{var{TableIndex:am,TransactionMethods:N$,DataOptions:w_}=Vt(),{getEntityIdentifiers:k$,matchToEntityAlias:D$}=om();function Rue(t=am,e,r={},n={}){if(n.data===w_.raw)return r;let i=k$(e),s=r.canceled||[],o=n._paramItems||[],a=[];for(let c=0;c<s.length;c++){let{Item:l,Code:d,Message:m}=s[c]||{},f=o[c],h=d||"None",v={rejected:h!=="None",code:h,message:m};if(l){let g=D$({record:l,paramItem:f,identifiers:i});v.item=e[g].formatResponse({Item:l},t,{...n,pager:!1,parse:void 0}).data}else v.item=null;a.push(v)}return a}function Nue(t=am,e,r={},n={}){if(n.data===w_.raw)return r;let i=k$(e);r.Items=r.Items||[];let s=n._paramItems||[],o=[];for(let a=0;a<r.Items.length;a++){let c=r.Items[a];if(!c){o.push(null);continue}let l=s[a],d=D$({paramItem:l,identifiers:i,record:c});if(!d)continue;let m=e[d].formatResponse({Item:c},t,{...n,pager:!1,parse:void 0});o.push(m.data)}return o.map(a=>({rejected:!1,item:a}))}function I_(t){let{fn:e,method:r,getEntities:n}=t,i={params:(s={})=>{let o=e(n()),a={TransactItems:o};return typeof s.token=="string"&&s.token.length&&(a.ClientRequestToken=s.token),s._returnParamItems?{params:a,paramItems:o}:a},go:async s=>{let o=Object.values(n())[0];if(!o)throw new Error("At least one entity must exist to perform a transaction");let{params:a,paramItems:c}=i.params({...s,_returnParamItems:!0}),l=!1;return c.length===0?{canceled:l,data:[]}:(s&&s.logger&&(s.listeners||(s.listeners=[]),s.listeners.push(s.logger)),{...await o.go(r,a,{...s,parse:(m,f)=>m.data===w_.raw?f:f.canceled?(l=!0,Rue(am,n(),f,{...m,_isTransaction:!0,_paramItems:c})):f.Responses?Nue(am,n(),{Items:f.Responses.map(h=>h.Item)},{...m,_isTransaction:!0,_paramItems:c}):new Array(c?c.length:0).fill({item:null,code:"None",rejected:!1,message:void 0})}),canceled:l})}};return i}function kue(t,e){return I_({fn:e,method:N$.transactWrite,getEntities:()=>t})}function Due(t,e){return I_({fn:e,method:N$.transactGet,getEntities:()=>t})}M$.exports={createTransaction:I_,createWriteTransaction:kue,createGetTransaction:Due}});var q$=E((VIe,U$)=>{var{Entity:F$,getEntityIdentifiers:Mue,matchToEntityAlias:Fue}=om(),{clauses:jue}=Jf(),{TableIndex:Lue,TransactionMethods:cm,KeyCasing:lm,ServiceVersions:$ue,ElectroInstance:j$,ElectroInstanceTypes:dm,ModelVersions:um,IndexTypes:P_,DataOptions:L$}=Vt(),{FilterFactory:Bue}=$f(),{FilterOperations:$$}=Zs(),{WhereFactory:Uue}=Pl(),Rt=In(),que=__(),be=ur(),B$=rs(),pm=T_(),{getInstanceType:Vue,getModelVersion:Gue,applyBetaModelOverrides:Hue}=rs(),Os={beta:"beta",v1:"v1",v1Map:"v1Map",unknown:"unknown"};function Kue(t){return Rt.isNameEntityRecordType(t)||Rt.isNameModelRecordType(t)?Os.v1Map:Rt.isBetaServiceConfig(t)?Os.beta:Rt.isStringHasLength(t)?Os.v1:Os.unknown}function zue(t,e,r){let i={alias:t,instance:e,config:r,hasAlias:!0};return typeof t!="string"&&(i.config=e,i.instance=t,i.hasAlias=!1),i}var A_=class{_betaConstructor(e,r){this.service={},this._modelOverrides={},this._modelVersion=um.beta,this._modelOverrides={table:e.table,service:e.service,version:e.version},this.service.name=e.name||e.service,this.service.table=e.table,this.service.version=e.version,this.config=r,this.client=r.client,Rt.isFunction(r.logger)&&(this.logger=r.logger),this.entities={},this.find={},this.collectionSchema={},this.compositeAttributes={},this.collections={},this.identifiers={},this.transaction={get:n=>pm.createTransaction({fn:n,getEntities:()=>this.entities,method:cm.transactGet}),write:n=>pm.createTransaction({fn:n,getEntities:()=>this.entities,method:cm.transactWrite})},this._instance=j$.service,this._instanceType=dm.service}_v1Constructor(e,r){this.service={},this._modelOverrides={},this._modelVersion=um.v1,this.service.name=e,this.service.table=r.table,this._modelOverrides.table=r.table,this.config=r,this.client=r.client,Rt.isFunction(r.logger)&&(this.logger=r.logger),this.entities={},this.find={},this.collectionSchema={},this.compositeAttributes={},this.collections={},this.identifiers={},this.transaction={get:n=>pm.createTransaction({fn:n,getEntities:()=>this.entities,method:cm.transactGet}),write:n=>pm.createTransaction({fn:n,getEntities:()=>this.entities,method:cm.transactWrite})},this._instance=j$.service,this._instanceType=dm.service}_v1MapConstructor(e,r){let n=Object.keys(e),i=this._inferServiceNameFromEntityMap(e);this._v1Constructor(i,r);for(let s of n){let o=e[s];this.join(s,o,r)}}constructor(e="",r={}){switch(r=que.normalizeConfig(r),this.version=$ue.v1,Kue(e)){case Os.v1Map:this._v1MapConstructor(e,r);break;case Os.beta:this._betaConstructor(e,r);break;case Os.v1:this._v1Constructor(e,r);break;default:throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Invalid service name: ${JSON.stringify(e)}. Service name must have length greater than zero`)}}_inferServiceNameFromEntityMap(e){let n=Object.keys(e).map(i=>e[i]).map(i=>this._inferJoinEntity(i)).find(i=>i&&i.model&&i.model.service);if(!n||!n.model||!n.model.service)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,"Invalid service name: Entities/Models provided do not contain property for Service Name");return n.model.service}_inferJoinEntity(e,r){let n={},i=Vue(e),s=Gue(e);switch(i){case dm.model:n=new F$(e,r);break;case dm.entity:n=e;break;default:if(s!==this._modelVersion)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,"Invalid instance: Valid instances to join include Models and Entity instances.");if(s===um.beta)e=Hue(e,this._modelOverrides);else throw new be.ElectroError(be.ErrorCodes.InvalidJoin,"Invalid instance: Valid instances to join include Models and Entity instances.");n=new F$(e,r);break}return n}join(...e){let{alias:r,instance:n,config:i,hasAlias:s}=zue(...e),o={...i,...this.config},a=this._inferJoinEntity(n,o),c=s?r:a.getName();if(this.service.name.toLowerCase()!==a.model.service.toLowerCase())throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Service name defined on joined instance, ${a.model.service}, does not match the name of this Service: ${this.service.name}. Verify or update the service name on the Entity/Model to match the name defined on this service.`);this.getTableName()&&a.setTableName(this.getTableName()),o.client&&a.setClient(o.client),o.logger&&a._addLogger(o.logger),o.listeners&&a.addListeners(o.listeners),this._modelVersion===um.beta&&this.service.version&&(a.model.version=this.service.version),this.entities[c]=a;for(let l of this.entities[c].model.collections)this._addCollectionEntity(l,c,this.entities[c]),this.collections[l]=(...d)=>this._makeCollectionChain({name:l,initialClauses:jue},...d);for(let l in this.collectionSchema){let d=this.collectionSchema[l];this.compositeAttributes[l]=this._collectionSchemaToCompositeAttributes(d)}return this.find={...this.entities,...this.collections},this}_collectionSchemaToCompositeAttributes(e){let r=e.keys;return{hasSortKeys:r.hasSk,customFacets:{pk:r.pk.isCustom,sk:r.sk.isCustom},pk:r.pk.facets,sk:r.sk.facets,all:[...r.pk.facets.map(n=>({name:n,index:r.index,type:"pk"})),...r.sk.facets.map(n=>({name:n,index:r.index,type:"sk"}))],collection:r.collection,hasSubCollections:e.hasSubCollections,casing:{pk:r.pk.casing,sk:r.sk.casing}}}setClient(e){if(e!==void 0)for(let r of Object.values(this.entities))r.setClient(e)}cleanseRetrievedData(e=Lue,r,n={},i={}){if(i.data===L$.raw)return n;let s=Mue(r);n.Items=n.Items||[];let o={};for(let{alias:a}of s)o[a]=[];for(let a=0;a<n.Items.length;a++){let c=n.Items[a];if(!c)continue;let l=Fue({identifiers:s,record:c,entities:this.entities,allowMatchOnKeys:i.ignoreOwnership});if(!l)continue;let d;i.hydrate?d={data:c}:d=r[l].formatResponse({Item:c},e,{...i,pager:!1,parse:void 0}),o[l].push(d.data)}return o}findKeyOwner(e){return Object.values(this.entities)[0]}expectKeyOwner(e){let r=this.findKeyOwner(e);if(r===void 0)throw new be.ElectroError(be.ErrorCodes.NoOwnerForCursor,`Supplied cursor does not resolve to Entity within the Service ${this.service.name}`);return r}findCursorOwner(e){return Object.values(this.entities)[0]}expectCursorOwner(e){let r=this.findCursorOwner(e);if(r===void 0)throw new be.ElectroError(be.ErrorCodes.NoOwnerForCursor,`Supplied cursor does not resolve to Entity within the Service ${this.service.name}`);return r}getTableName(){return this.service.table}setTableName(e){this.service.table=e;for(let r of Object.values(this.entities))r.setTableName(e)}_makeCollectionChain({name:e="",initialClauses:r={}},n={}){let{entities:i,attributes:s,identifiers:o,indexType:a,index:c}=this.collectionSchema[e],l=this.compositeAttributes[e],d=Object.values(i),m=d[0],f=new Bue(s,$$),h=new Uue(s,$$),y={...r};y=f.injectFilterClauses(y),y=h.injectWhereClauses(y);let v=o.expression||"",g={parse:(_,b)=>_.data===L$.raw?b:this.cleanseRetrievedData(c,i,b,_),formatCursor:{serialize:_=>this.expectKeyOwner(_).serializeCursor(_),deserialize:_=>this.expectCursorOwner(_).deserializeCursor(_)},identifiers:{names:o.names||{},values:o.values||{},expression:d.length>1?`(${v})`:v},expressions:{names:{},values:{},expression:""},attributes:s,entities:i,indexType:a,compositeAttributes:l,hydrator:async(_,b,S,N)=>{if(_&&i[_])return i[_].hydrate(b,S,{...N,parse:void 0,hydrator:void 0,_isCollectionQuery:!1,ignoreOwnership:N._providedIgnoreOwnership});let Q={};for(let O=0;O<S.length;O++){let U=S[O];for(let Oe in i)Q[Oe]=Q[Oe]||[],i[Oe].ownsKeys(U)&&Q[Oe].push({item:U,itemSlot:O})}let D=[],C=new Array(S.length).fill(null);for(let O in Q){let U=Q[O],Oe=U.map(Tt=>Tt.item),it=await i[_].hydrate(b,Oe,{...N,parse:void 0,hydrate:!1,hydrator:void 0,_isCollectionQuery:!1,ignoreOwnership:N._providedIgnoreOwnership});if(D=D.concat(it.unprocessed),it.data.length!==U.length)throw new Error("Temporary: something wrong");for(let Tt=0;Tt<U.length;Tt++){let Bt=U[Tt],te=it.data[Tt];C[Bt.itemSlot]=te}}return{data:C,unprocessed:D}}};return m.collection(e,y,n,g)}_validateIndexCasingMatch(e={},r={}){let n=e.sk||{},i=r.sk||{},s=Rt.isMatchingCasing(e.pk.casing,r.pk.casing),o=Rt.isMatchingCasing(n.casing,i.casing);return{pk:s,sk:o}}_validateCollectionDefinition(e={},r={}){let n=e.pk.isCustom===r.pk.isCustom,i=!!(e.sk&&e.sk.isCustom)==!!(r.sk&&r.sk.isCustom),s=e.index===r.index,o=e.pk.field===r.pk.field,a=e.pk.facets.length===r.pk.facets.length,c=e.scope===r.scope,l=[],d=[],m=B$.formatIndexNameForDisplay(e.index),f=B$.formatIndexNameForDisplay(r.index),h=this._validateIndexCasingMatch(e,r);for(let y=0;y<Math.max(e.pk.labels.length,r.pk.labels.length);y++){let v=e.pk.labels[y]&&e.pk.labels[y].name,g=e.pk.labels[y]&&e.pk.labels[y].label,_=r.pk.labels[y]&&r.pk.labels[y].name,b=r.pk.labels[y]&&r.pk.labels[y].label,S=g===v&&b===_;if(g!==b){l.push({definitionFacet:v,definitionLabel:g,providedFacet:_,providedLabel:b,kind:"Partition",type:S?"facet":"label"});break}else if(v!==_){l.push({definitionFacet:v,definitionLabel:g,providedFacet:_,providedLabel:b,kind:"Partition",type:"facet"});break}}if(c||d.push(`The index scope value provided "${r.scope||"undefined"}" does not match established index scope value "${e.scope||"undefined"}" on index "${f}". Index scope options must match across all entities participating in a collection`),n||d.push(`The usage of key templates the partition key on index ${m} must be consistent across all Entities, some entities provided use template while others do not`),i||d.push(`The usage of key templates the sort key on index ${m} must be consistent across all Entities, some entities provided use template while others do not`),e.type==="clustered")for(let y=0;y<Math.min(e.sk.labels.length,r.sk.labels.length);y++){let v=e.sk.labels[y]&&e.sk.labels[y].name,g=e.sk.labels[y]&&e.sk.labels[y].label,_=r.sk.labels[y]&&r.sk.labels[y].name,b=r.sk.labels[y]&&r.sk.labels[y].label,S=g===v&&b===_;if(v===_)g!==b&&l.push({definitionFacet:v,definitionLabel:g,providedFacet:_,providedLabel:b,kind:"Sort",type:S?"facet":"label"});else break}if(h.pk||d.push(`The pk property "casing" provided "${r.pk.casing||lm.default}" does not match established casing "${e.pk.casing||lm.default}" on index "${f}". Index casing options must match across all entities participating in a collection`),!h.sk){let y=e.sk||{},v=r.sk||{};d.push(`The sk property "casing" provided "${y.casing||lm.default}" does not match established casing "${v.casing||lm.default}" on index "${f}". Index casing options must match across all entities participating in a collection`)}if(s?o||d.push(`Partition Key composite attributes provided "${r.pk.field}" for index "${f}" do not match established field "${e.pk.field}" on established index "${m}"`):d.push(`Collection defined on provided index "${f}" does not match collection established index "${m}". Collections must be defined on the same index across all entities within a service.`),!a)d.push(`Partition Key composite attributes provided [${r.pk.facets.map(y=>`"${y}"`).join(", ")}] for index "${f}" do not match established composite attributes [${e.pk.facets.map(y=>`"${y}"`).join(", ")}] on established index "${m}"`);else if(l.length>0)for(let y of l)y.type==="facet"?d.push(`${y.kind} Key composite attributes provided for index "${f}" do not match established composite attribute "${y.definitionFacet}" on established index "${m}": "${y.definitionLabel}" != "${y.providedLabel}"; Composite attribute definitions must match between all members of a collection to ensure key structures will resolve to identical Partition Keys. Please ensure these composite attribute definitions are identical for all entities associated with this service.`):d.push(`${y.kind} Key composite attributes provided for index "${f}" contain conflicting composite attribute labels for established composite attribute "${y.definitionFacet||""}" on established index "${m}". Established composite attribute "${y.definitionFacet||""}" on established index "${m}" was defined with label "${y.definitionLabel}" while provided composite attribute "${y.providedFacet||""}" on provided index "${f}" is defined with label "${y.providedLabel}". Composite attribute labels definitions must match between all members of a collection to ensure key structures will resolve to identical Partition Keys. Please ensure these labels definitions are identical for all entities associated with this service.`);return[!!d.length,d]}_compareEntityAttributes(e,r={},n={},i){let s={additions:{},invalid:[]};for(let[o,a]of Object.entries(n)){let c=r[o];if(c===void 0?s.additions[o]=a:c.field!==a.field&&s.invalid.push(`The attribute "${o}" with Table Field "${a.field}" does not match established Table Field "${c.field}"`),c&&a&&(c.padding||a.padding)){let l=c.padding||{},d=a.padding||{};i.pk.facets.includes(o)&&(l.length!==d.length||l.char!==d.char)&&s.invalid.push(`The attribute "${o}" contains inconsistent padding definitions that impact how keys are formed`)}}return[!!s.invalid.length,s]}_processEntityAttributes(e,r={},n={},i){let[s,o]=this._compareEntityAttributes(e,r,n,i);if(s)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Inconsistent attribute(s) on the entity "${e}". The following attribute(s) are defined with incompatible or conflicting definitions across participating entities: ${o.invalid.join(", ")}. These attribute definitions must match among all members of the collection.`);return{...r,...o.additions}}_processEntityKeys(e,r={},n={}){Object.keys(r).length||(r=n);let[i,s]=this._validateCollectionDefinition(r,n);if(i)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Validation Error while joining entity, "${e}". ${s.join("; ")}`);let o=[],a=[],c=[];if(n.hasSk&&r.hasSk&&Array.isArray(r.sk.labels))for(let l=0;l<r.sk.labels.length;l++){let d=n.sk.labels[l],m=r.sk.labels[l],f=d&&d.name===m.name,h=d&&d.label===m.label;if(!f||!h)break;c.push({...m}),a.push({...r.sk.facetLabels[l]}),o.push(r.sk.facets[l])}return{...r,sk:{...r.sk,facets:o,facetLabels:a,labels:c}}}_getEntityIndexFromCollectionName(e,r){for(let n of Object.values(r.model.indexes)){let i=[];Rt.isArrayHasLength(n.collection)?i=n.collection:i.push(n.collection);for(let s of i)if(Rt.isStringHasLength(s)&&s===e)return n}return Object.values(r.model.indexes).find(n=>{if(Rt.isStringHasLength(n.collection))return n.collection===e;if(Rt.isArrayHasLength(n.collection))return n.collection.indexOf(e)>0})}_processSubCollections(e,r,n,i,s){let o,a;if(Rt.isArrayHasLength(r)?o=r:o=[r],Rt.isArrayHasLength(n)?a=n:a=[n],a.length>1&&e===P_.clustered)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Clustered indexes do not support sub-collections. The sub-collection "${s}", on Entity "${i}" must be defined as either an individual collection name or the index must be redefined as an isolated cluster`);let c=o.indexOf(s),l=a.indexOf(s);if(l<0)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`The collection definition for Collection "${s}" does not exist on Entity "${i}".`);if(c>=0&&c!==l)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`The collection definition for Collection "${s}", on Entity "${i}", does not match the established sub-collection order for this service. The collection name provided in slot ${l+1}, ${a[c]===void 0?"(not found)":`"${a[c]}"`}, on Entity "${i}", does not match the established collection name in slot ${c+1}, "${s}". When using sub-collections, all Entities within a Service must must implement the same order for all preceding sub-collections.`);let d=Math.max(c,l);for(let m=0;m<=d;m++){let f=o[m],h=a[m];if(Rt.isStringHasLength(f)){if(f===h&&h===s)return m;if(f!==h)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`The collection definition for Collection "${s}", on Entity "${i}", does not match the established sub-collection order for this service. The collection name provided in slot ${m+1}, "${h}", on Entity "${i}", does not match the established collection name in slot ${m+1}, "${f}". When using sub-collections, all Entities within a Service must must implement the same order for all preceding sub-collections.`)}else if(Rt.isStringHasLength(h)&&h===s)return m}}_addCollectionEntity(e="",r="",n={}){let i=this._getEntityIndexFromCollectionName(e,n);this.collectionSchema[e]=this.collectionSchema[e]||{entities:{},keys:{},attributes:{},identifiers:{names:{},values:{},expression:""},index:void 0,table:"",collection:[],indexType:void 0,hasSubCollections:void 0};let s=i.type||P_.isolated;if(this.collectionSchema[e].indexType===void 0)this.collectionSchema[e].indexType=s;else if(this.collectionSchema[e].indexType!==s)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Index type mismatch on collection ${e}. The entity ${r} defines the index as type ${s} while the established type for that index is ${this.collectionSchema[e].indexType}. Note that when omitted, indexes default to the type "${P_.isolated}"`);if(this.collectionSchema[e].entities[r]!==void 0)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Entity with name '${r}' has already been joined to this service.`);if(this.collectionSchema[e].table!==""){if(this.collectionSchema[e].table!==n.getTableName())throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Entity with name '${r}' is defined to use a different Table than what is defined on other Service Entities and/or the Service itself. Entity '${r}' is defined with table name '${n.getTableName()}' but the Service has been defined to use table name '${this.collectionSchema[e].table}'. All Entities in a Service must reference the same DynamoDB table. To ensure all Entities will use the same DynamoDB table, it is possible to apply the property 'table' to the Service constructor's configuration parameter.`)}else this.collectionSchema[e].table=n.getTableName();this.collectionSchema[e].keys=this._processEntityKeys(r,this.collectionSchema[e].keys,i),this.collectionSchema[e].attributes=this._processEntityAttributes(r,this.collectionSchema[e].attributes,n.model.schema.attributes,this.collectionSchema[e].keys),this.collectionSchema[e].entities[r]=n,this.collectionSchema[e].identifiers=this._processEntityIdentifiers(this.collectionSchema[e].identifiers,n.getIdentifierExpressions(r)),this.collectionSchema[e].index=this._processEntityCollectionIndex(this.collectionSchema[e].index,i.index,r,e);let o=this._processSubCollections(s,this.collectionSchema[e].collection,i.collection,r,e);return this.collectionSchema[e].collection[o]=e,this.collectionSchema[e].hasSubCollections=this.collectionSchema[e].hasSubCollections||Array.isArray(i.collection),this.collectionSchema[e]}_processEntityCollectionIndex(e,r,n,i){if(typeof r!="string")throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Entity with name '${n}' does not have collection ${i} defined on it's model`);if(e===void 0)return r;if(r!==e)throw new be.ElectroError(be.ErrorCodes.InvalidJoin,`Entity with name '${n}' defines collection ${i} on index `);return e}_processEntityIdentifiers(e={},{names:r,values:n,expression:i}={}){let s={};return r&&(s.names=Object.assign({},e.names,r)),n&&(s.values=Object.assign({},e.values,n)),i&&(s.expression=[e.expression,i].filter(Boolean).join(" OR ")),s}};U$.exports={Service:A_}});var G$=E((GIe,V$)=>{function Wue(t){let e={fromComposite:{toKeys:(r,n={})=>t._fromCompositeToKeys({provided:r},n),toCursor:r=>t._fromCompositeToCursor({provided:r},{strict:"all"})},fromKeys:{toCursor:r=>t._fromKeysToCursor({provided:r},{}),toComposite:r=>t._fromKeysToComposite({provided:r})},fromCursor:{toKeys:r=>t._fromCursorToKeys({provided:r}),toComposite:r=>t._fromCursorToComposite({provided:r})},byAccessPattern:{}};for(let r in t.model.indexes){let n=t.model.indexes[r].index;e.byAccessPattern[r]={fromKeys:{toCursor:i=>t._fromKeysToCursorByIndex({indexName:n,provided:i}),toComposite:i=>t._fromKeysToCompositeByIndex({indexName:n,provided:i})},fromCursor:{toKeys:i=>t._fromCursorToKeysByIndex({indexName:n,provided:i}),toComposite:i=>t._fromCursorToCompositeByIndex({indexName:n,provided:i})},fromComposite:{toCursor:i=>t._fromCompositeToCursorByIndex({indexName:n,provided:i},{strict:"all"}),toKeys:(i,s={})=>t._fromCompositeToKeysByIndex({indexName:n,provided:i},s)}}}return e}V$.exports={createConversions:Wue}});var O_=E((HIe,H$)=>{var{Entity:Jue}=om(),{Service:Yue}=q$(),{createGetTransaction:Zue,createWriteTransaction:Que}=T_(),{createCustomAttribute:Xue,CustomAttributeType:epe,createSchema:tpe}=jf(),{ElectroError:rpe,ElectroValidationError:npe,ElectroUserValidationError:ipe,ElectroAttributeValidationError:spe}=ur(),{createConversions:ope}=G$(),{ComparisonTypes:ape}=Vt();H$.exports={Entity:Jue,Service:Yue,ElectroError:rpe,createSchema:tpe,ComparisonTypes:ape,CustomAttributeType:epe,createCustomAttribute:Xue,ElectroValidationError:npe,createGetTransaction:Zue,createWriteTransaction:Que,ElectroUserValidationError:ipe,ElectroAttributeValidationError:spe,createConversions:ope}});var K$=E(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.propertyProviderChain=Rs.createCredentialChain=void 0;var cpe=gt(),lpe=(...t)=>{let e=-1,n=Object.assign(async i=>{let s=await(0,Rs.propertyProviderChain)(...t)(i);return!s.expiration&&e!==-1&&(s.expiration=new Date(Date.now()+e)),s},{expireAfter(i){if(i<5*6e4)throw new Error("@aws-sdk/credential-providers - createCredentialChain(...).expireAfter(ms) may not be called with a duration lower than five minutes.");return e=i,n}});return n};Rs.createCredentialChain=lpe;var dpe=(...t)=>async e=>{if(t.length===0)throw new cpe.ProviderError("No providers in chain");let r;for(let n of t)try{return await n(e)}catch(i){if(r=i,i?.tryNextLink)continue;throw i}throw r};Rs.propertyProviderChain=dpe});var N_=E(ji=>{"use strict";Object.defineProperty(ji,"__esModule",{value:!0});ji.resolveHttpAuthSchemeConfig=ji.defaultCognitoIdentityHttpAuthSchemeProvider=ji.defaultCognitoIdentityHttpAuthSchemeParametersProvider=void 0;var upe=(Ge(),X($t)),R_=Xt(),ppe=async(t,e,r)=>({operation:(0,R_.getSmithyContext)(e).operation,region:await(0,R_.normalizeProvider)(t.region)()||(()=>{throw new Error("expected `region` to be configured for `aws.auth#sigv4`")})()});ji.defaultCognitoIdentityHttpAuthSchemeParametersProvider=ppe;function mpe(t){return{schemeId:"aws.auth#sigv4",signingProperties:{name:"cognito-identity",region:t.region},propertiesExtractor:(e,r)=>({signingProperties:{config:e,context:r}})}}function mm(t){return{schemeId:"smithy.api#noAuth"}}var fpe=t=>{let e=[];switch(t.operation){case"GetCredentialsForIdentity":{e.push(mm(t));break}case"GetId":{e.push(mm(t));break}case"GetOpenIdToken":{e.push(mm(t));break}case"UnlinkIdentity":{e.push(mm(t));break}default:e.push(mpe(t))}return e};ji.defaultCognitoIdentityHttpAuthSchemeProvider=fpe;var hpe=t=>{let e=(0,upe.resolveAwsSdkSigV4Config)(t);return Object.assign(e,{authSchemePreference:(0,R_.normalizeProvider)(t.authSchemePreference??[])})};ji.resolveHttpAuthSchemeConfig=hpe});var z$=E((WIe,ype)=>{ype.exports={name:"@aws-sdk/client-cognito-identity",description:"AWS SDK for JavaScript Cognito Identity Client for Node.js, Browser and React Native",version:"3.803.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"node ../../scripts/compilation/inline client-cognito-identity","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo cognito-identity","test:e2e":"yarn g:vitest run -c vitest.config.e2e.ts --mode development","test:e2e:watch":"yarn g:vitest watch -c vitest.config.e2e.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"5.2.0","@aws-crypto/sha256-js":"5.2.0","@aws-sdk/core":"3.799.0","@aws-sdk/credential-provider-node":"3.803.0","@aws-sdk/middleware-host-header":"3.775.0","@aws-sdk/middleware-logger":"3.775.0","@aws-sdk/middleware-recursion-detection":"3.775.0","@aws-sdk/middleware-user-agent":"3.799.0","@aws-sdk/region-config-resolver":"3.775.0","@aws-sdk/types":"3.775.0","@aws-sdk/util-endpoints":"3.787.0","@aws-sdk/util-user-agent-browser":"3.775.0","@aws-sdk/util-user-agent-node":"3.799.0","@smithy/config-resolver":"^4.1.0","@smithy/core":"^3.3.0","@smithy/fetch-http-handler":"^5.0.2","@smithy/hash-node":"^4.0.2","@smithy/invalid-dependency":"^4.0.2","@smithy/middleware-content-length":"^4.0.2","@smithy/middleware-endpoint":"^4.1.1","@smithy/middleware-retry":"^4.1.2","@smithy/middleware-serde":"^4.0.3","@smithy/middleware-stack":"^4.0.2","@smithy/node-config-provider":"^4.0.2","@smithy/node-http-handler":"^4.0.4","@smithy/protocol-http":"^5.1.0","@smithy/smithy-client":"^4.2.1","@smithy/types":"^4.2.0","@smithy/url-parser":"^4.0.2","@smithy/util-base64":"^4.0.0","@smithy/util-body-length-browser":"^4.0.0","@smithy/util-body-length-node":"^4.0.0","@smithy/util-defaults-mode-browser":"^4.0.9","@smithy/util-defaults-mode-node":"^4.0.9","@smithy/util-endpoints":"^3.0.2","@smithy/util-middleware":"^4.0.2","@smithy/util-retry":"^4.0.3","@smithy/util-utf8":"^4.0.0",tslib:"^2.6.2"},devDependencies:{"@aws-sdk/client-iam":"3.803.0","@tsconfig/node18":"18.2.4","@types/chai":"^4.2.11","@types/node":"^18.19.69",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typescript:"~5.2.2"},engines:{node:">=18.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-cognito-identity",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-cognito-identity"}}});var c1=E(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.ruleSet=void 0;var i1="required",Nt="fn",kt="argv",ea="ref",W$=!0,J$="isSet",$c="booleanEquals",Xo="error",mn="endpoint",zn="tree",k_="PartitionResult",D_="getAttr",jc="stringEquals",Y$={[i1]:!1,type:"String"},Z$={[i1]:!0,default:!1,type:"Boolean"},Q$={[ea]:"Endpoint"},s1={[Nt]:$c,[kt]:[{[ea]:"UseFIPS"},!0]},o1={[Nt]:$c,[kt]:[{[ea]:"UseDualStack"},!0]},ft={},Lc={[ea]:"Region"},X$={[Nt]:D_,[kt]:[{[ea]:k_},"supportsFIPS"]},a1={[ea]:k_},e1={[Nt]:$c,[kt]:[!0,{[Nt]:D_,[kt]:[a1,"supportsDualStack"]}]},t1=[s1],r1=[o1],n1=[Lc],gpe={version:"1.0",parameters:{Region:Y$,UseDualStack:Z$,UseFIPS:Z$,Endpoint:Y$},rules:[{conditions:[{[Nt]:J$,[kt]:[Q$]}],rules:[{conditions:t1,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Xo},{conditions:r1,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Xo},{endpoint:{url:Q$,properties:ft,headers:ft},type:mn}],type:zn},{conditions:[{[Nt]:J$,[kt]:n1}],rules:[{conditions:[{[Nt]:"aws.partition",[kt]:n1,assign:k_}],rules:[{conditions:[s1,o1],rules:[{conditions:[{[Nt]:$c,[kt]:[W$,X$]},e1],rules:[{conditions:[{[Nt]:jc,[kt]:[Lc,"us-east-1"]}],endpoint:{url:"https://cognito-identity-fips.us-east-1.amazonaws.com",properties:ft,headers:ft},type:mn},{conditions:[{[Nt]:jc,[kt]:[Lc,"us-east-2"]}],endpoint:{url:"https://cognito-identity-fips.us-east-2.amazonaws.com",properties:ft,headers:ft},type:mn},{conditions:[{[Nt]:jc,[kt]:[Lc,"us-west-1"]}],endpoint:{url:"https://cognito-identity-fips.us-west-1.amazonaws.com",properties:ft,headers:ft},type:mn},{conditions:[{[Nt]:jc,[kt]:[Lc,"us-west-2"]}],endpoint:{url:"https://cognito-identity-fips.us-west-2.amazonaws.com",properties:ft,headers:ft},type:mn},{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},type:mn}],type:zn},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Xo}],type:zn},{conditions:t1,rules:[{conditions:[{[Nt]:$c,[kt]:[X$,W$]}],rules:[{endpoint:{url:"https://cognito-identity-fips.{Region}.{PartitionResult#dnsSuffix}",properties:ft,headers:ft},type:mn}],type:zn},{error:"FIPS is enabled but this partition does not support FIPS",type:Xo}],type:zn},{conditions:r1,rules:[{conditions:[e1],rules:[{conditions:[{[Nt]:jc,[kt]:["aws",{[Nt]:D_,[kt]:[a1,"name"]}]}],endpoint:{url:"https://cognito-identity.{Region}.amazonaws.com",properties:ft,headers:ft},type:mn},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:ft,headers:ft},type:mn}],type:zn},{error:"DualStack is enabled but this partition does not support DualStack",type:Xo}],type:zn},{endpoint:{url:"https://cognito-identity.{Region}.{PartitionResult#dnsSuffix}",properties:ft,headers:ft},type:mn}],type:zn}],type:zn},{error:"Invalid Configuration: Missing Region",type:Xo}]};fm.ruleSet=gpe});var l1=E(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.defaultEndpointResolver=void 0;var vpe=ds(),M_=ls(),_pe=c1(),bpe=new M_.EndpointCache({size:50,params:["Endpoint","Region","UseDualStack","UseFIPS"]}),Epe=(t,e={})=>bpe.get(t,()=>(0,M_.resolveEndpoint)(_pe.ruleSet,{endpointParams:t,logger:e.logger}));hm.defaultEndpointResolver=Epe;M_.customEndpointFunctions.aws=vpe.awsEndpointFunctions});var p1=E(ym=>{"use strict";Object.defineProperty(ym,"__esModule",{value:!0});ym.getRuntimeConfig=void 0;var Spe=(Ge(),X($t)),Cpe=(Le(),X(bt)),xpe=me(),wpe=mi(),d1=Pr(),u1=jt(),Ipe=N_(),Tpe=l1(),Ppe=t=>({apiVersion:"2014-06-30",base64Decoder:t?.base64Decoder??d1.fromBase64,base64Encoder:t?.base64Encoder??d1.toBase64,disableHostPrefix:t?.disableHostPrefix??!1,endpointProvider:t?.endpointProvider??Tpe.defaultEndpointResolver,extensions:t?.extensions??[],httpAuthSchemeProvider:t?.httpAuthSchemeProvider??Ipe.defaultCognitoIdentityHttpAuthSchemeProvider,httpAuthSchemes:t?.httpAuthSchemes??[{schemeId:"aws.auth#sigv4",identityProvider:e=>e.getIdentityProvider("aws.auth#sigv4"),signer:new Spe.AwsSdkSigV4Signer},{schemeId:"smithy.api#noAuth",identityProvider:e=>e.getIdentityProvider("smithy.api#noAuth")||(async()=>({})),signer:new Cpe.NoAuthSigner}],logger:t?.logger??new xpe.NoOpLogger,serviceId:t?.serviceId??"Cognito Identity",urlParser:t?.urlParser??wpe.parseUrl,utf8Decoder:t?.utf8Decoder??u1.fromUtf8,utf8Encoder:t?.utf8Encoder??u1.toUtf8});ym.getRuntimeConfig=Ppe});var g1=E(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.getRuntimeConfig=void 0;var Ape=(Eo(),X(bo)),Ope=Ape.__importDefault(z$()),m1=(Ge(),X($t)),Rpe=Dp(),f1=xo(),gm=rr(),Npe=wo(),h1=Nr(),Ns=nn(),y1=ti(),kpe=Io(),Dpe=vs(),Mpe=p1(),Fpe=me(),jpe=Oo(),Lpe=me(),$pe=t=>{(0,Lpe.emitWarningIfUnsupportedVersion)(process.version);let e=(0,jpe.resolveDefaultsModeConfig)(t),r=()=>e().then(Fpe.loadConfigsForDefaultMode),n=(0,Mpe.getRuntimeConfig)(t);(0,m1.emitWarningIfUnsupportedVersion)(process.version);let i={profile:t?.profile};return{...n,...t,runtime:"node",defaultsMode:e,authSchemePreference:t?.authSchemePreference??(0,Ns.loadConfig)(m1.NODE_AUTH_SCHEME_PREFERENCE_OPTIONS,i),bodyLengthChecker:t?.bodyLengthChecker??kpe.calculateBodyLength,credentialDefaultProvider:t?.credentialDefaultProvider??Rpe.defaultProvider,defaultUserAgentProvider:t?.defaultUserAgentProvider??(0,f1.createDefaultUserAgentProvider)({serviceId:n.serviceId,clientVersion:Ope.default.version}),maxAttempts:t?.maxAttempts??(0,Ns.loadConfig)(h1.NODE_MAX_ATTEMPT_CONFIG_OPTIONS,t),region:t?.region??(0,Ns.loadConfig)(gm.NODE_REGION_CONFIG_OPTIONS,{...gm.NODE_REGION_CONFIG_FILE_OPTIONS,...i}),requestHandler:y1.NodeHttpHandler.create(t?.requestHandler??r),retryMode:t?.retryMode??(0,Ns.loadConfig)({...h1.NODE_RETRY_MODE_CONFIG_OPTIONS,default:async()=>(await r()).retryMode||Dpe.DEFAULT_RETRY_MODE},t),sha256:t?.sha256??Npe.Hash.bind(null,"sha256"),streamCollector:t?.streamCollector??y1.streamCollector,useDualstackEndpoint:t?.useDualstackEndpoint??(0,Ns.loadConfig)(gm.NODE_USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS,i),useFipsEndpoint:t?.useFipsEndpoint??(0,Ns.loadConfig)(gm.NODE_USE_FIPS_ENDPOINT_CONFIG_OPTIONS,i),userAgentAppId:t?.userAgentAppId??(0,Ns.loadConfig)(f1.NODE_APP_ID_CONFIG_OPTIONS,i)}};vm.getRuntimeConfig=$pe});var TB=E((XIe,IB)=>{"use strict";var bm=Object.defineProperty,Bpe=Object.getOwnPropertyDescriptor,Upe=Object.getOwnPropertyNames,qpe=Object.prototype.hasOwnProperty,I=(t,e)=>bm(t,"name",{value:e,configurable:!0}),Vpe=(t,e)=>{for(var r in e)bm(t,r,{get:e[r],enumerable:!0})},Gpe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Upe(e))!qpe.call(t,i)&&i!==r&&bm(t,i,{get:()=>e[i],enumerable:!(n=Bpe(e,i))||n.enumerable});return t},Hpe=t=>Gpe(bm({},"__esModule",{value:!0}),t),C1={};Vpe(C1,{AmbiguousRoleResolutionType:()=>tme,CognitoIdentity:()=>wB,CognitoIdentityClient:()=>j_,CognitoIdentityServiceException:()=>or,ConcurrentModificationException:()=>H1,CreateIdentityPoolCommand:()=>nB,CredentialsFilterSensitiveLog:()=>W1,DeleteIdentitiesCommand:()=>iB,DeleteIdentityPoolCommand:()=>sB,DescribeIdentityCommand:()=>oB,DescribeIdentityPoolCommand:()=>aB,DeveloperUserAlreadyRegisteredException:()=>V1,ErrorCode:()=>rme,ExternalServiceException:()=>$1,GetCredentialsForIdentityCommand:()=>cB,GetCredentialsForIdentityInputFilterSensitiveLog:()=>z1,GetCredentialsForIdentityResponseFilterSensitiveLog:()=>J1,GetIdCommand:()=>lB,GetIdInputFilterSensitiveLog:()=>Y1,GetIdentityPoolRolesCommand:()=>dB,GetOpenIdTokenCommand:()=>uB,GetOpenIdTokenForDeveloperIdentityCommand:()=>pB,GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog:()=>X1,GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog:()=>eB,GetOpenIdTokenInputFilterSensitiveLog:()=>Z1,GetOpenIdTokenResponseFilterSensitiveLog:()=>Q1,GetPrincipalTagAttributeMapCommand:()=>mB,InternalErrorException:()=>w1,InvalidIdentityPoolConfigurationException:()=>U1,InvalidParameterException:()=>T1,LimitExceededException:()=>A1,ListIdentitiesCommand:()=>fB,ListIdentityPoolsCommand:()=>L_,ListTagsForResourceCommand:()=>hB,LookupDeveloperIdentityCommand:()=>yB,MappingRuleMatchType:()=>nme,MergeDeveloperIdentitiesCommand:()=>gB,NotAuthorizedException:()=>R1,ResourceConflictException:()=>k1,ResourceNotFoundException:()=>j1,RoleMappingType:()=>ime,SetIdentityPoolRolesCommand:()=>vB,SetPrincipalTagAttributeMapCommand:()=>_B,TagResourceCommand:()=>bB,TooManyRequestsException:()=>M1,UnlinkDeveloperIdentityCommand:()=>EB,UnlinkIdentityCommand:()=>SB,UnlinkIdentityInputFilterSensitiveLog:()=>tB,UntagResourceCommand:()=>CB,UpdateIdentityPoolCommand:()=>xB,__Client:()=>w.Client,paginateListIdentityPools:()=>ffe});IB.exports=Hpe(C1);var v1=eo(),Kpe=to(),zpe=ro(),_1=hs(),Wpe=rr(),_m=(Le(),X(bt)),Jpe=ho(),Ue=Fn(),b1=Nr(),E1=N_(),Ype=I(t=>Object.assign(t,{useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"cognito-identity"}),"resolveClientEndpointParameters"),ze={UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}},Zpe=g1(),S1=Ro(),F_=$e(),w=me(),Qpe=I(t=>{let e=t.httpAuthSchemes,r=t.httpAuthSchemeProvider,n=t.credentials;return{setHttpAuthScheme(i){let s=e.findIndex(o=>o.schemeId===i.schemeId);s===-1?e.push(i):e.splice(s,1,i)},httpAuthSchemes(){return e},setHttpAuthSchemeProvider(i){r=i},httpAuthSchemeProvider(){return r},setCredentials(i){n=i},credentials(){return n}}},"getHttpAuthExtensionConfiguration"),Xpe=I(t=>({httpAuthSchemes:t.httpAuthSchemes(),httpAuthSchemeProvider:t.httpAuthSchemeProvider(),credentials:t.credentials()}),"resolveHttpAuthRuntimeConfig"),eme=I((t,e)=>{let r=Object.assign((0,S1.getAwsRegionExtensionConfiguration)(t),(0,w.getDefaultExtensionConfiguration)(t),(0,F_.getHttpHandlerExtensionConfiguration)(t),Qpe(t));return e.forEach(n=>n.configure(r)),Object.assign(t,(0,S1.resolveAwsRegionExtensionConfiguration)(r),(0,w.resolveDefaultRuntimeConfig)(r),(0,F_.resolveHttpHandlerRuntimeConfig)(r),Xpe(r))},"resolveRuntimeExtensions"),j_=class extends w.Client{static{I(this,"CognitoIdentityClient")}config;constructor(...[t]){let e=(0,Zpe.getRuntimeConfig)(t||{});super(e),this.initConfig=e;let r=Ype(e),n=(0,_1.resolveUserAgentConfig)(r),i=(0,b1.resolveRetryConfig)(n),s=(0,Wpe.resolveRegionConfig)(i),o=(0,v1.resolveHostHeaderConfig)(s),a=(0,Ue.resolveEndpointConfig)(o),c=(0,E1.resolveHttpAuthSchemeConfig)(a),l=eme(c,t?.extensions||[]);this.config=l,this.middlewareStack.use((0,_1.getUserAgentPlugin)(this.config)),this.middlewareStack.use((0,b1.getRetryPlugin)(this.config)),this.middlewareStack.use((0,Jpe.getContentLengthPlugin)(this.config)),this.middlewareStack.use((0,v1.getHostHeaderPlugin)(this.config)),this.middlewareStack.use((0,Kpe.getLoggerPlugin)(this.config)),this.middlewareStack.use((0,zpe.getRecursionDetectionPlugin)(this.config)),this.middlewareStack.use((0,_m.getHttpAuthSchemeEndpointRuleSetPlugin)(this.config,{httpAuthSchemeParametersProvider:E1.defaultCognitoIdentityHttpAuthSchemeParametersProvider,identityProviderConfigProvider:I(async d=>new _m.DefaultIdentityProviderConfig({"aws.auth#sigv4":d.credentials}),"identityProviderConfigProvider")})),this.middlewareStack.use((0,_m.getHttpSigningPlugin)(this.config))}destroy(){super.destroy()}},We=On(),nt=(Ge(),X($t)),or=class x1 extends w.ServiceException{static{I(this,"CognitoIdentityServiceException")}constructor(e){super(e),Object.setPrototypeOf(this,x1.prototype)}},tme={AUTHENTICATED_ROLE:"AuthenticatedRole",DENY:"Deny"},w1=class I1 extends or{static{I(this,"InternalErrorException")}name="InternalErrorException";$fault="server";constructor(e){super({name:"InternalErrorException",$fault:"server",...e}),Object.setPrototypeOf(this,I1.prototype)}},T1=class P1 extends or{static{I(this,"InvalidParameterException")}name="InvalidParameterException";$fault="client";constructor(e){super({name:"InvalidParameterException",$fault:"client",...e}),Object.setPrototypeOf(this,P1.prototype)}},A1=class O1 extends or{static{I(this,"LimitExceededException")}name="LimitExceededException";$fault="client";constructor(e){super({name:"LimitExceededException",$fault:"client",...e}),Object.setPrototypeOf(this,O1.prototype)}},R1=class N1 extends or{static{I(this,"NotAuthorizedException")}name="NotAuthorizedException";$fault="client";constructor(e){super({name:"NotAuthorizedException",$fault:"client",...e}),Object.setPrototypeOf(this,N1.prototype)}},k1=class D1 extends or{static{I(this,"ResourceConflictException")}name="ResourceConflictException";$fault="client";constructor(e){super({name:"ResourceConflictException",$fault:"client",...e}),Object.setPrototypeOf(this,D1.prototype)}},M1=class F1 extends or{static{I(this,"TooManyRequestsException")}name="TooManyRequestsException";$fault="client";constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),Object.setPrototypeOf(this,F1.prototype)}},rme={ACCESS_DENIED:"AccessDenied",INTERNAL_SERVER_ERROR:"InternalServerError"},j1=class L1 extends or{static{I(this,"ResourceNotFoundException")}name="ResourceNotFoundException";$fault="client";constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),Object.setPrototypeOf(this,L1.prototype)}},$1=class B1 extends or{static{I(this,"ExternalServiceException")}name="ExternalServiceException";$fault="client";constructor(e){super({name:"ExternalServiceException",$fault:"client",...e}),Object.setPrototypeOf(this,B1.prototype)}},U1=class q1 extends or{static{I(this,"InvalidIdentityPoolConfigurationException")}name="InvalidIdentityPoolConfigurationException";$fault="client";constructor(e){super({name:"InvalidIdentityPoolConfigurationException",$fault:"client",...e}),Object.setPrototypeOf(this,q1.prototype)}},nme={CONTAINS:"Contains",EQUALS:"Equals",NOT_EQUAL:"NotEqual",STARTS_WITH:"StartsWith"},ime={RULES:"Rules",TOKEN:"Token"},V1=class G1 extends or{static{I(this,"DeveloperUserAlreadyRegisteredException")}name="DeveloperUserAlreadyRegisteredException";$fault="client";constructor(e){super({name:"DeveloperUserAlreadyRegisteredException",$fault:"client",...e}),Object.setPrototypeOf(this,G1.prototype)}},H1=class K1 extends or{static{I(this,"ConcurrentModificationException")}name="ConcurrentModificationException";$fault="client";constructor(e){super({name:"ConcurrentModificationException",$fault:"client",...e}),Object.setPrototypeOf(this,K1.prototype)}},z1=I(t=>({...t,...t.Logins&&{Logins:w.SENSITIVE_STRING}}),"GetCredentialsForIdentityInputFilterSensitiveLog"),W1=I(t=>({...t,...t.SecretKey&&{SecretKey:w.SENSITIVE_STRING}}),"CredentialsFilterSensitiveLog"),J1=I(t=>({...t,...t.Credentials&&{Credentials:W1(t.Credentials)}}),"GetCredentialsForIdentityResponseFilterSensitiveLog"),Y1=I(t=>({...t,...t.Logins&&{Logins:w.SENSITIVE_STRING}}),"GetIdInputFilterSensitiveLog"),Z1=I(t=>({...t,...t.Logins&&{Logins:w.SENSITIVE_STRING}}),"GetOpenIdTokenInputFilterSensitiveLog"),Q1=I(t=>({...t,...t.Token&&{Token:w.SENSITIVE_STRING}}),"GetOpenIdTokenResponseFilterSensitiveLog"),X1=I(t=>({...t,...t.Logins&&{Logins:w.SENSITIVE_STRING}}),"GetOpenIdTokenForDeveloperIdentityInputFilterSensitiveLog"),eB=I(t=>({...t,...t.Token&&{Token:w.SENSITIVE_STRING}}),"GetOpenIdTokenForDeveloperIdentityResponseFilterSensitiveLog"),tB=I(t=>({...t,...t.Logins&&{Logins:w.SENSITIVE_STRING}}),"UnlinkIdentityInputFilterSensitiveLog"),sme=I(async(t,e)=>{let r=qe("CreateIdentityPool"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_CreateIdentityPoolCommand"),ome=I(async(t,e)=>{let r=qe("DeleteIdentities"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_DeleteIdentitiesCommand"),ame=I(async(t,e)=>{let r=qe("DeleteIdentityPool"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_DeleteIdentityPoolCommand"),cme=I(async(t,e)=>{let r=qe("DescribeIdentity"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_DescribeIdentityCommand"),lme=I(async(t,e)=>{let r=qe("DescribeIdentityPool"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_DescribeIdentityPoolCommand"),dme=I(async(t,e)=>{let r=qe("GetCredentialsForIdentity"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_GetCredentialsForIdentityCommand"),ume=I(async(t,e)=>{let r=qe("GetId"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_GetIdCommand"),pme=I(async(t,e)=>{let r=qe("GetIdentityPoolRoles"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_GetIdentityPoolRolesCommand"),mme=I(async(t,e)=>{let r=qe("GetOpenIdToken"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_GetOpenIdTokenCommand"),fme=I(async(t,e)=>{let r=qe("GetOpenIdTokenForDeveloperIdentity"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_GetOpenIdTokenForDeveloperIdentityCommand"),hme=I(async(t,e)=>{let r=qe("GetPrincipalTagAttributeMap"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_GetPrincipalTagAttributeMapCommand"),yme=I(async(t,e)=>{let r=qe("ListIdentities"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_ListIdentitiesCommand"),gme=I(async(t,e)=>{let r=qe("ListIdentityPools"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_ListIdentityPoolsCommand"),vme=I(async(t,e)=>{let r=qe("ListTagsForResource"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_ListTagsForResourceCommand"),_me=I(async(t,e)=>{let r=qe("LookupDeveloperIdentity"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_LookupDeveloperIdentityCommand"),bme=I(async(t,e)=>{let r=qe("MergeDeveloperIdentities"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_MergeDeveloperIdentitiesCommand"),Eme=I(async(t,e)=>{let r=qe("SetIdentityPoolRoles"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_SetIdentityPoolRolesCommand"),Sme=I(async(t,e)=>{let r=qe("SetPrincipalTagAttributeMap"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_SetPrincipalTagAttributeMapCommand"),Cme=I(async(t,e)=>{let r=qe("TagResource"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_TagResourceCommand"),xme=I(async(t,e)=>{let r=qe("UnlinkDeveloperIdentity"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_UnlinkDeveloperIdentityCommand"),wme=I(async(t,e)=>{let r=qe("UnlinkIdentity"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_UnlinkIdentityCommand"),Ime=I(async(t,e)=>{let r=qe("UntagResource"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_UntagResourceCommand"),Tme=I(async(t,e)=>{let r=qe("UpdateIdentityPool"),n;return n=JSON.stringify((0,w._json)(t)),Ye(e,r,"/",void 0,n)},"se_UpdateIdentityPoolCommand"),Pme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_CreateIdentityPoolCommand"),Ame=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_DeleteIdentitiesCommand"),Ome=I(async(t,e)=>t.statusCode>=300?Je(t,e):(await(0,w.collectBody)(t.body,e),{$metadata:Se(t)}),"de_DeleteIdentityPoolCommand"),Rme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=rB(r,e),{$metadata:Se(t),...n}},"de_DescribeIdentityCommand"),Nme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_DescribeIdentityPoolCommand"),kme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=lfe(r,e),{$metadata:Se(t),...n}},"de_GetCredentialsForIdentityCommand"),Dme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_GetIdCommand"),Mme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_GetIdentityPoolRolesCommand"),Fme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_GetOpenIdTokenCommand"),jme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_GetOpenIdTokenForDeveloperIdentityCommand"),Lme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_GetPrincipalTagAttributeMapCommand"),$me=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=ufe(r,e),{$metadata:Se(t),...n}},"de_ListIdentitiesCommand"),Bme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_ListIdentityPoolsCommand"),Ume=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_ListTagsForResourceCommand"),qme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_LookupDeveloperIdentityCommand"),Vme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_MergeDeveloperIdentitiesCommand"),Gme=I(async(t,e)=>t.statusCode>=300?Je(t,e):(await(0,w.collectBody)(t.body,e),{$metadata:Se(t)}),"de_SetIdentityPoolRolesCommand"),Hme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_SetPrincipalTagAttributeMapCommand"),Kme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_TagResourceCommand"),zme=I(async(t,e)=>t.statusCode>=300?Je(t,e):(await(0,w.collectBody)(t.body,e),{$metadata:Se(t)}),"de_UnlinkDeveloperIdentityCommand"),Wme=I(async(t,e)=>t.statusCode>=300?Je(t,e):(await(0,w.collectBody)(t.body,e),{$metadata:Se(t)}),"de_UnlinkIdentityCommand"),Jme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_UntagResourceCommand"),Yme=I(async(t,e)=>{if(t.statusCode>=300)return Je(t,e);let r=await(0,nt.parseJsonBody)(t.body,e),n={};return n=(0,w._json)(r),{$metadata:Se(t),...n}},"de_UpdateIdentityPoolCommand"),Je=I(async(t,e)=>{let r={...t,body:await(0,nt.parseJsonErrorBody)(t.body,e)},n=(0,nt.loadRestJsonErrorCode)(t,r.body);switch(n){case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":throw await efe(r,e);case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":throw await rfe(r,e);case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":throw await nfe(r,e);case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":throw await ife(r,e);case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":throw await sfe(r,e);case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":throw await afe(r,e);case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":throw await ofe(r,e);case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":throw await Xme(r,e);case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":throw await tfe(r,e);case"DeveloperUserAlreadyRegisteredException":case"com.amazonaws.cognitoidentity#DeveloperUserAlreadyRegisteredException":throw await Qme(r,e);case"ConcurrentModificationException":case"com.amazonaws.cognitoidentity#ConcurrentModificationException":throw await Zme(r,e);default:let i=r.body;return pfe({output:t,parsedBody:i,errorCode:n})}},"de_CommandError"),Zme=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new H1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_ConcurrentModificationExceptionRes"),Qme=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new V1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_DeveloperUserAlreadyRegisteredExceptionRes"),Xme=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new $1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_ExternalServiceExceptionRes"),efe=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new w1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_InternalErrorExceptionRes"),tfe=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new U1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_InvalidIdentityPoolConfigurationExceptionRes"),rfe=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new T1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_InvalidParameterExceptionRes"),nfe=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new A1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_LimitExceededExceptionRes"),ife=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new R1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_NotAuthorizedExceptionRes"),sfe=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new k1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_ResourceConflictExceptionRes"),ofe=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new j1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_ResourceNotFoundExceptionRes"),afe=I(async(t,e)=>{let r=t.body,n=(0,w._json)(r),i=new M1({$metadata:Se(t),...n});return(0,w.decorateServiceException)(i,r)},"de_TooManyRequestsExceptionRes"),cfe=I((t,e)=>(0,w.take)(t,{AccessKeyId:w.expectString,Expiration:I(r=>(0,w.expectNonNull)((0,w.parseEpochTimestamp)((0,w.expectNumber)(r))),"Expiration"),SecretKey:w.expectString,SessionToken:w.expectString}),"de_Credentials"),lfe=I((t,e)=>(0,w.take)(t,{Credentials:I(r=>cfe(r,e),"Credentials"),IdentityId:w.expectString}),"de_GetCredentialsForIdentityResponse"),dfe=I((t,e)=>(t||[]).filter(n=>n!=null).map(n=>rB(n,e)),"de_IdentitiesList"),rB=I((t,e)=>(0,w.take)(t,{CreationDate:I(r=>(0,w.expectNonNull)((0,w.parseEpochTimestamp)((0,w.expectNumber)(r))),"CreationDate"),IdentityId:w.expectString,LastModifiedDate:I(r=>(0,w.expectNonNull)((0,w.parseEpochTimestamp)((0,w.expectNumber)(r))),"LastModifiedDate"),Logins:w._json}),"de_IdentityDescription"),ufe=I((t,e)=>(0,w.take)(t,{Identities:I(r=>dfe(r,e),"Identities"),IdentityPoolId:w.expectString,NextToken:w.expectString}),"de_ListIdentitiesResponse"),Se=I(t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),"deserializeMetadata"),pfe=(0,w.withBaseException)(or),Ye=I(async(t,e,r,n,i)=>{let{hostname:s,protocol:o="https",port:a,path:c}=await t.endpoint(),l={protocol:o,hostname:s,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(l.hostname=n),i!==void 0&&(l.body=i),new F_.HttpRequest(l)},"buildHttpRpcRequest");function qe(t){return{"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${t}`}}I(qe,"sharedHeaders");var nB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","CreateIdentityPool",{}).n("CognitoIdentityClient","CreateIdentityPoolCommand").f(void 0,void 0).ser(sme).de(Pme).build(){static{I(this,"CreateIdentityPoolCommand")}},iB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DeleteIdentities",{}).n("CognitoIdentityClient","DeleteIdentitiesCommand").f(void 0,void 0).ser(ome).de(Ame).build(){static{I(this,"DeleteIdentitiesCommand")}},sB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DeleteIdentityPool",{}).n("CognitoIdentityClient","DeleteIdentityPoolCommand").f(void 0,void 0).ser(ame).de(Ome).build(){static{I(this,"DeleteIdentityPoolCommand")}},oB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DescribeIdentity",{}).n("CognitoIdentityClient","DescribeIdentityCommand").f(void 0,void 0).ser(cme).de(Rme).build(){static{I(this,"DescribeIdentityCommand")}},aB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","DescribeIdentityPool",{}).n("CognitoIdentityClient","DescribeIdentityPoolCommand").f(void 0,void 0).ser(lme).de(Nme).build(){static{I(this,"DescribeIdentityPoolCommand")}},cB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetCredentialsForIdentity",{}).n("CognitoIdentityClient","GetCredentialsForIdentityCommand").f(z1,J1).ser(dme).de(kme).build(){static{I(this,"GetCredentialsForIdentityCommand")}},lB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetId",{}).n("CognitoIdentityClient","GetIdCommand").f(Y1,void 0).ser(ume).de(Dme).build(){static{I(this,"GetIdCommand")}},dB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetIdentityPoolRoles",{}).n("CognitoIdentityClient","GetIdentityPoolRolesCommand").f(void 0,void 0).ser(pme).de(Mme).build(){static{I(this,"GetIdentityPoolRolesCommand")}},uB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetOpenIdToken",{}).n("CognitoIdentityClient","GetOpenIdTokenCommand").f(Z1,Q1).ser(mme).de(Fme).build(){static{I(this,"GetOpenIdTokenCommand")}},pB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetOpenIdTokenForDeveloperIdentity",{}).n("CognitoIdentityClient","GetOpenIdTokenForDeveloperIdentityCommand").f(X1,eB).ser(fme).de(jme).build(){static{I(this,"GetOpenIdTokenForDeveloperIdentityCommand")}},mB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","GetPrincipalTagAttributeMap",{}).n("CognitoIdentityClient","GetPrincipalTagAttributeMapCommand").f(void 0,void 0).ser(hme).de(Lme).build(){static{I(this,"GetPrincipalTagAttributeMapCommand")}},fB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListIdentities",{}).n("CognitoIdentityClient","ListIdentitiesCommand").f(void 0,void 0).ser(yme).de($me).build(){static{I(this,"ListIdentitiesCommand")}},L_=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListIdentityPools",{}).n("CognitoIdentityClient","ListIdentityPoolsCommand").f(void 0,void 0).ser(gme).de(Bme).build(){static{I(this,"ListIdentityPoolsCommand")}},hB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","ListTagsForResource",{}).n("CognitoIdentityClient","ListTagsForResourceCommand").f(void 0,void 0).ser(vme).de(Ume).build(){static{I(this,"ListTagsForResourceCommand")}},yB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","LookupDeveloperIdentity",{}).n("CognitoIdentityClient","LookupDeveloperIdentityCommand").f(void 0,void 0).ser(_me).de(qme).build(){static{I(this,"LookupDeveloperIdentityCommand")}},gB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","MergeDeveloperIdentities",{}).n("CognitoIdentityClient","MergeDeveloperIdentitiesCommand").f(void 0,void 0).ser(bme).de(Vme).build(){static{I(this,"MergeDeveloperIdentitiesCommand")}},vB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","SetIdentityPoolRoles",{}).n("CognitoIdentityClient","SetIdentityPoolRolesCommand").f(void 0,void 0).ser(Eme).de(Gme).build(){static{I(this,"SetIdentityPoolRolesCommand")}},_B=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","SetPrincipalTagAttributeMap",{}).n("CognitoIdentityClient","SetPrincipalTagAttributeMapCommand").f(void 0,void 0).ser(Sme).de(Hme).build(){static{I(this,"SetPrincipalTagAttributeMapCommand")}},bB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","TagResource",{}).n("CognitoIdentityClient","TagResourceCommand").f(void 0,void 0).ser(Cme).de(Kme).build(){static{I(this,"TagResourceCommand")}},EB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UnlinkDeveloperIdentity",{}).n("CognitoIdentityClient","UnlinkDeveloperIdentityCommand").f(void 0,void 0).ser(xme).de(zme).build(){static{I(this,"UnlinkDeveloperIdentityCommand")}},SB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UnlinkIdentity",{}).n("CognitoIdentityClient","UnlinkIdentityCommand").f(tB,void 0).ser(wme).de(Wme).build(){static{I(this,"UnlinkIdentityCommand")}},CB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UntagResource",{}).n("CognitoIdentityClient","UntagResourceCommand").f(void 0,void 0).ser(Ime).de(Jme).build(){static{I(this,"UntagResourceCommand")}},xB=class extends w.Command.classBuilder().ep(ze).m(function(t,e,r,n){return[(0,We.getSerdePlugin)(r,this.serialize,this.deserialize),(0,Ue.getEndpointPlugin)(r,t.getEndpointParameterInstructions())]}).s("AWSCognitoIdentityService","UpdateIdentityPool",{}).n("CognitoIdentityClient","UpdateIdentityPoolCommand").f(void 0,void 0).ser(Tme).de(Yme).build(){static{I(this,"UpdateIdentityPoolCommand")}},mfe={CreateIdentityPoolCommand:nB,DeleteIdentitiesCommand:iB,DeleteIdentityPoolCommand:sB,DescribeIdentityCommand:oB,DescribeIdentityPoolCommand:aB,GetCredentialsForIdentityCommand:cB,GetIdCommand:lB,GetIdentityPoolRolesCommand:dB,GetOpenIdTokenCommand:uB,GetOpenIdTokenForDeveloperIdentityCommand:pB,GetPrincipalTagAttributeMapCommand:mB,ListIdentitiesCommand:fB,ListIdentityPoolsCommand:L_,ListTagsForResourceCommand:hB,LookupDeveloperIdentityCommand:yB,MergeDeveloperIdentitiesCommand:gB,SetIdentityPoolRolesCommand:vB,SetPrincipalTagAttributeMapCommand:_B,TagResourceCommand:bB,UnlinkDeveloperIdentityCommand:EB,UnlinkIdentityCommand:SB,UntagResourceCommand:CB,UpdateIdentityPoolCommand:xB},wB=class extends j_{static{I(this,"CognitoIdentity")}};(0,w.createAggregatedClient)(mfe,wB);var ffe=(0,_m.createPaginator)(j_,L_,"NextToken","NextToken","MaxResults")});var V_=E((wTe,LB)=>{"use strict";var Sm=Object.defineProperty,hfe=Object.getOwnPropertyDescriptor,PB=Object.getOwnPropertyNames,yfe=Object.prototype.hasOwnProperty,ar=(t,e)=>Sm(t,"name",{value:e,configurable:!0}),gfe=(t,e)=>function(){return t&&(e=(0,t[PB(t)[0]])(t=0)),e},AB=(t,e)=>{for(var r in e)Sm(t,r,{get:e[r],enumerable:!0})},vfe=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of PB(e))!yfe.call(t,i)&&i!==r&&Sm(t,i,{get:()=>e[i],enumerable:!(n=hfe(e,i))||n.enumerable});return t},_fe=t=>vfe(Sm({},"__esModule",{value:!0}),t),B_={};AB(B_,{CognitoIdentityClient:()=>Em.CognitoIdentityClient,GetCredentialsForIdentityCommand:()=>Em.GetCredentialsForIdentityCommand,GetIdCommand:()=>Em.GetIdCommand});var Em,OB=gfe({"src/loadCognitoIdentity.ts"(){"use strict";Em=TB()}}),RB={};AB(RB,{fromCognitoIdentity:()=>q_,fromCognitoIdentityPool:()=>FB});LB.exports=_fe(RB);var Cm=gt();function U_(t){return Promise.all(Object.keys(t).reduce((e,r)=>{let n=t[r];return typeof n=="string"?e.push([r,n]):e.push(n().then(i=>[r,i])),e},[])).then(e=>e.reduce((r,[n,i])=>(r[n]=i,r),{}))}ar(U_,"resolveLogins");function q_(t){return async e=>{t.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let{GetCredentialsForIdentityCommand:r,CognitoIdentityClient:n}=await Promise.resolve().then(()=>(OB(),B_)),i=ar(l=>t.clientConfig?.[l]??t.parentClientConfig?.[l]??e?.callerClientConfig?.[l],"fromConfigs"),{Credentials:{AccessKeyId:s=NB(t.logger),Expiration:o,SecretKey:a=DB(t.logger),SessionToken:c}=kB(t.logger)}=await(t.client??new n(Object.assign({},t.clientConfig??{},{region:i("region"),profile:i("profile")}))).send(new r({CustomRoleArn:t.customRoleArn,IdentityId:t.identityId,Logins:t.logins?await U_(t.logins):void 0}));return{identityId:t.identityId,accessKeyId:s,secretAccessKey:a,sessionToken:c,expiration:o}}}ar(q_,"fromCognitoIdentity");function NB(t){throw new Cm.CredentialsProviderError("Response from Amazon Cognito contained no access key ID",{logger:t})}ar(NB,"throwOnMissingAccessKeyId");function kB(t){throw new Cm.CredentialsProviderError("Response from Amazon Cognito contained no credentials",{logger:t})}ar(kB,"throwOnMissingCredentials");function DB(t){throw new Cm.CredentialsProviderError("Response from Amazon Cognito contained no secret key",{logger:t})}ar(DB,"throwOnMissingSecretKey");var $_="IdentityIds",bfe=class{constructor(t="aws:cognito-identity-ids"){this.dbName=t}static{ar(this,"IndexedDbStorage")}getItem(t){return this.withObjectStore("readonly",e=>{let r=e.get(t);return new Promise(n=>{r.onerror=()=>n(null),r.onsuccess=()=>n(r.result?r.result.value:null)})}).catch(()=>null)}removeItem(t){return this.withObjectStore("readwrite",e=>{let r=e.delete(t);return new Promise((n,i)=>{r.onerror=()=>i(r.error),r.onsuccess=()=>n()})})}setItem(t,e){return this.withObjectStore("readwrite",r=>{let n=r.put({id:t,value:e});return new Promise((i,s)=>{n.onerror=()=>s(n.error),n.onsuccess=()=>i()})})}getDb(){let t=self.indexedDB.open(this.dbName,1);return new Promise((e,r)=>{t.onsuccess=()=>{e(t.result)},t.onerror=()=>{r(t.error)},t.onblocked=()=>{r(new Error("Unable to access DB"))},t.onupgradeneeded=()=>{let n=t.result;n.onerror=()=>{r(new Error("Failed to create object store"))},n.createObjectStore($_,{keyPath:"id"})}})}withObjectStore(t,e){return this.getDb().then(r=>{let n=r.transaction($_,t);return n.oncomplete=()=>r.close(),new Promise((i,s)=>{n.onerror=()=>s(n.error),i(e(n.objectStore($_)))}).catch(i=>{throw r.close(),i})})}},Efe=class{constructor(t={}){this.store=t}static{ar(this,"InMemoryStorage")}getItem(t){return t in this.store?this.store[t]:null}removeItem(t){delete this.store[t]}setItem(t,e){this.store[t]=e}},Sfe=new Efe;function MB(){return typeof self=="object"&&self.indexedDB?new bfe:typeof window=="object"&&window.localStorage?window.localStorage:Sfe}ar(MB,"localStorage");function FB({accountId:t,cache:e=MB(),client:r,clientConfig:n,customRoleArn:i,identityPoolId:s,logins:o,userIdentifier:a=!o||Object.keys(o).length===0?"ANONYMOUS":void 0,logger:c,parentClientConfig:l}){c?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let d=a?`aws:cognito-identity-credentials:${s}:${a}`:void 0,m=ar(async f=>{let{GetIdCommand:h,CognitoIdentityClient:y}=await Promise.resolve().then(()=>(OB(),B_)),v=ar(b=>n?.[b]??l?.[b]??f?.callerClientConfig?.[b],"fromConfigs"),g=r??new y(Object.assign({},n??{},{region:v("region"),profile:v("profile")})),_=d&&await e.getItem(d);if(!_){let{IdentityId:b=jB(c)}=await g.send(new h({AccountId:t,IdentityPoolId:s,Logins:o?await U_(o):void 0}));_=b,d&&Promise.resolve(e.setItem(d,_)).catch(()=>{})}return m=q_({client:g,customRoleArn:i,logins:o,identityId:_}),m(f)},"provider");return f=>m(f).catch(async h=>{throw d&&Promise.resolve(e.removeItem(d)).catch(()=>{}),h})}ar(FB,"fromCognitoIdentityPool");function jB(t){throw new Cm.CredentialsProviderError("Response from Amazon Cognito contained no identity ID",{logger:t})}ar(jB,"throwOnMissingId")});var $B=E(xm=>{"use strict";Object.defineProperty(xm,"__esModule",{value:!0});xm.fromCognitoIdentity=void 0;var Cfe=V_(),xfe=t=>(0,Cfe.fromCognitoIdentity)({...t});xm.fromCognitoIdentity=xfe});var BB=E(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.fromCognitoIdentityPool=void 0;var wfe=V_(),Ife=t=>(0,wfe.fromCognitoIdentityPool)({...t});wm.fromCognitoIdentityPool=Ife});var UB=E(Im=>{"use strict";Object.defineProperty(Im,"__esModule",{value:!0});Im.fromContainerMetadata=void 0;var Tfe=bs(),Pfe=t=>(t?.logger?.debug("@smithy/credential-provider-imds","fromContainerMetadata"),(0,Tfe.fromContainerMetadata)(t));Im.fromContainerMetadata=Pfe});var qB=E(Tm=>{"use strict";Object.defineProperty(Tm,"__esModule",{value:!0});Tm.fromEnv=void 0;var Afe=vu(),Ofe=t=>(0,Afe.fromEnv)(t);Tm.fromEnv=Ofe});var VB=E(Pm=>{"use strict";Object.defineProperty(Pm,"__esModule",{value:!0});Pm.fromIni=void 0;var Rfe=Bv(),Nfe=(t={})=>(0,Rfe.fromIni)({...t});Pm.fromIni=Nfe});var GB=E(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.fromInstanceMetadata=void 0;var kfe=(Ar(),X(ii)),Dfe=bs(),Mfe=t=>(t?.logger?.debug("@smithy/credential-provider-imds","fromInstanceMetadata"),async()=>(0,Dfe.fromInstanceMetadata)(t)().then(e=>(0,kfe.setCredentialFeature)(e,"CREDENTIALS_IMDS","0")));Am.fromInstanceMetadata=Mfe});var G_=E(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.fromNodeProviderChain=void 0;var Ffe=Dp(),jfe=(t={})=>(0,Ffe.defaultProvider)({...t});Om.fromNodeProviderChain=jfe});var HB=E(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.fromProcess=void 0;var Lfe=Op(),$fe=t=>(0,Lfe.fromProcess)(t);Rm.fromProcess=$fe});var KB=E(Nm=>{"use strict";Object.defineProperty(Nm,"__esModule",{value:!0});Nm.fromSSO=void 0;var Bfe=lp(),Ufe=(t={})=>(0,Bfe.fromSSO)({...t});Nm.fromSSO=Ufe});var WB=E(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.STSClient=ta.AssumeRoleCommand=void 0;var zB=(Pp(),X(Tp));Object.defineProperty(ta,"AssumeRoleCommand",{enumerable:!0,get:function(){return zB.AssumeRoleCommand}});Object.defineProperty(ta,"STSClient",{enumerable:!0,get:function(){return zB.STSClient}})});var ZB=E(fn=>{"use strict";var qfe=fn&&fn.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Vfe=fn&&fn.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Gfe=fn&&fn.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&qfe(e,t,r);return Vfe(e,t),e};Object.defineProperty(fn,"__esModule",{value:!0});fn.fromTemporaryCredentials=void 0;var Hfe=(Le(),X(bt)),JB=gt(),Kfe="us-east-1",zfe=(t,e,r)=>{let n;return async(i={})=>{let{callerClientConfig:s}=i,o=t.clientConfig?.profile??s?.profile,a=t.logger??s?.logger;a?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");let c={...t.params,RoleSessionName:t.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(c?.SerialNumber){if(!t.mfaCodeProvider)throw new JB.CredentialsProviderError("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:a});c.TokenCode=await t.mfaCodeProvider(c?.SerialNumber)}let{AssumeRoleCommand:l,STSClient:d}=await Promise.resolve().then(()=>Gfe(WB()));if(!n){let f=typeof e=="function"?e():void 0,h=[t.masterCredentials,t.clientConfig?.credentials,void s?.credentials,s?.credentialDefaultProvider?.(),f],y="STS client default credentials";if(h[0])y="options.masterCredentials";else if(h[1])y="options.clientConfig.credentials";else{if(h[2])throw y="caller client's credentials",new Error("fromTemporaryCredentials recursion in callerClientConfig.credentials");h[3]?y="caller client's credentialDefaultProvider":h[4]&&(y="AWS SDK default credentials")}let v=[t.clientConfig?.region,s?.region,await r?.({profile:o}),Kfe],g="default partition's default region";v[0]?g="options.clientConfig.region":v[1]?g="caller client's region":v[2]&&(g="file or env region");let _=[YB(t.clientConfig?.requestHandler),YB(s?.requestHandler)],b="STS default requestHandler";_[0]?b="options.clientConfig.requestHandler":_[1]&&(b="caller client's requestHandler"),a?.debug?.(`@aws-sdk/credential-providers - fromTemporaryCredentials STS client init with ${g}=${await(0,Hfe.normalizeProvider)(km(v))()}, ${y}, ${b}.`),n=new d({...t.clientConfig,credentials:km(h),logger:a,profile:o,region:km(v),requestHandler:km(_)})}if(t.clientPlugins)for(let f of t.clientPlugins)n.middlewareStack.use(f);let{Credentials:m}=await n.send(new l(c));if(!m||!m.AccessKeyId||!m.SecretAccessKey)throw new JB.CredentialsProviderError(`Invalid response from STS.assumeRole call with role ${c.RoleArn}`,{logger:a});return{accessKeyId:m.AccessKeyId,secretAccessKey:m.SecretAccessKey,sessionToken:m.SessionToken,expiration:m.Expiration,credentialScope:m.CredentialScope}}};fn.fromTemporaryCredentials=zfe;var YB=t=>t?.metadata?.handlerProtocol==="h2"?void 0:t,km=t=>{for(let e of t)if(e!==void 0)return e}});var QB=E(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.fromTemporaryCredentials=void 0;var Wfe=rr(),Jfe=nn(),Yfe=G_(),Zfe=ZB(),Qfe=t=>(0,Zfe.fromTemporaryCredentials)(t,Yfe.fromNodeProviderChain,async({profile:e=process.env.AWS_PROFILE})=>(0,Jfe.loadConfig)({environmentVariableSelector:r=>r.AWS_REGION,configFileSelector:r=>r.region,default:()=>{}},{...Wfe.NODE_REGION_CONFIG_FILE_OPTIONS,profile:e})());Dm.fromTemporaryCredentials=Qfe});var XB=E(Mm=>{"use strict";Object.defineProperty(Mm,"__esModule",{value:!0});Mm.fromTokenFile=void 0;var Xfe=xc(),ehe=(t={})=>(0,Xfe.fromTokenFile)({...t});Mm.fromTokenFile=ehe});var eU=E(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.fromWebToken=void 0;var the=xc(),rhe=t=>(0,the.fromWebToken)({...t});Fm.fromWebToken=rhe});var tU=E(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.fromHttp=void 0;var cr=(Eo(),X(bo));cr.__exportStar(K$(),It);cr.__exportStar($B(),It);cr.__exportStar(BB(),It);cr.__exportStar(UB(),It);var nhe=Iu();Object.defineProperty(It,"fromHttp",{enumerable:!0,get:function(){return nhe.fromHttp}});cr.__exportStar(qB(),It);cr.__exportStar(VB(),It);cr.__exportStar(GB(),It);cr.__exportStar(G_(),It);cr.__exportStar(HB(),It);cr.__exportStar(KB(),It);cr.__exportStar(QB(),It);cr.__exportStar(XB(),It);cr.__exportStar(eU(),It)});var khe={};$r(khe,{default:()=>Nhe,handler:()=>Rhe});module.exports=X(khe);var Bm=t=>{let e="",r=new Uint8Array(t);for(let n=0,i=r.length;n<i;n++)e+=String.fromCharCode(r[n]);return btoa(e)},z_=t=>{let e=atob(t),r=new Uint8Array(new ArrayBuffer(e.length)),n=e.length/2;for(let i=0,s=e.length-1;i<=n;i++,s--)r[i]=e.charCodeAt(i),r[s]=e.charCodeAt(s);return r};var bU=t=>t.requestContext;var Um=t=>async(e,r)=>{let n=TU(e),i=n.createRequest(e),s=bU(e),o=await t.fetch(i,{event:e,requestContext:s,lambdaContext:r});return n.createResult(e,o)},qm=class{createRequest(t){let e=this.getQueryString(t),r=t.requestContext&&"domainName"in t.requestContext?t.requestContext.domainName:t.headers?.host??t.multiValueHeaders?.host?.[0],n=this.getPath(t),i=`https://${r}${n}`,s=e?`${i}?${e}`:i,o=this.getHeaders(t),a=this.getMethod(t),c={headers:o,method:a};return t.body&&(c.body=t.isBase64Encoded?z_(t.body):t.body),new Request(s,c)}async createResult(t,e){let r=e.headers.get("content-type"),n=!!(r&&OU(r));if(!n){let o=e.headers.get("content-encoding");n=RU(o)}let s={body:n?Bm(await e.arrayBuffer()):await e.text(),statusCode:e.status,isBase64Encoded:n,...t.multiValueHeaders?{multiValueHeaders:{}}:{headers:{}}};return this.setCookies(t,e,s),s.multiValueHeaders?e.headers.forEach((o,a)=>{s.multiValueHeaders[a]=[o]}):e.headers.forEach((o,a)=>{s.headers[a]=o}),s}setCookies(t,e,r){if(e.headers.has("set-cookie")){let n=e.headers.getSetCookie?e.headers.getSetCookie():Array.from(e.headers.entries()).filter(([i])=>i==="set-cookie").map(([,i])=>i);Array.isArray(n)&&(this.setCookiesToResult(r,n),e.headers.delete("set-cookie"))}}},EU=class extends qm{getPath(t){return t.rawPath}getMethod(t){return t.requestContext.http.method}getQueryString(t){return t.rawQueryString}getCookies(t,e){Array.isArray(t.cookies)&&e.set("Cookie",t.cookies.join("; "))}setCookiesToResult(t,e){t.cookies=e}getHeaders(t){let e=new Headers;if(this.getCookies(t,e),t.headers)for(let[r,n]of Object.entries(t.headers))n&&e.set(r,n);return e}},SU=new EU,CU=class extends qm{getPath(t){return t.path}getMethod(t){return t.httpMethod}getQueryString(t){return t.multiValueQueryStringParameters?Object.entries(t.multiValueQueryStringParameters||{}).filter(([,e])=>e).map(([e,r])=>`${e}=${r.join(`&${e}=`)}`).join("&"):Object.entries(t.queryStringParameters||{}).filter(([,e])=>e).map(([e,r])=>`${e}=${r}`).join("&")}getCookies(t,e){}getHeaders(t){let e=new Headers;if(this.getCookies(t,e),t.headers)for(let[r,n]of Object.entries(t.headers))n&&e.set(r,n);if(t.multiValueHeaders){for(let[r,n]of Object.entries(t.multiValueHeaders))if(n){let i=e.get(r);n.forEach(s=>(!i||!i.includes(s))&&e.append(r,s))}}return e}setCookiesToResult(t,e){t.multiValueHeaders={"set-cookie":e}}},xU=new CU,wU=class extends qm{getHeaders(t){let e=new Headers;if(t.multiValueHeaders)for(let[r,n]of Object.entries(t.multiValueHeaders))n&&Array.isArray(n)&&e.set(r,n.join("; "));else for(let[r,n]of Object.entries(t.headers??{}))n&&e.set(r,n);return e}getPath(t){return t.path}getMethod(t){return t.httpMethod}getQueryString(t){return t.multiValueQueryStringParameters?Object.entries(t.multiValueQueryStringParameters||{}).filter(([,e])=>e).map(([e,r])=>`${e}=${r.join(`&${e}=`)}`).join("&"):Object.entries(t.queryStringParameters||{}).filter(([,e])=>e).map(([e,r])=>`${e}=${r}`).join("&")}getCookies(t,e){let r;t.multiValueHeaders?r=t.multiValueHeaders.cookie?.join("; "):r=t.headers?t.headers.cookie:void 0,r&&e.append("Cookie",r)}setCookiesToResult(t,e){t.multiValueHeaders?t.multiValueHeaders["set-cookie"]=e:t.headers["set-cookie"]=e.join(", ")}},IU=new wU,TU=t=>PU(t)?IU:AU(t)?SU:xU,PU=t=>t.requestContext?Object.hasOwn(t.requestContext,"elb"):!1,AU=t=>Object.hasOwn(t,"rawPath"),OU=t=>!/^(text\/(plain|html|css|javascript|csv).*|application\/(.*json|.*xml).*|image\/svg\+xml.*)$/.test(t),RU=t=>t===null?!1:/^(gzip|deflate|compress|br)/.test(t);var Vm={Stringify:1,BeforeStream:2,Stream:3},ks=(t,e)=>{let r=new String(t);return r.isEscaped=!0,r.callbacks=e,r},NU=/[&<>'"]/,W_=async(t,e)=>{let r="";e||=[];let n=await Promise.all(t);for(let i=n.length-1;r+=n[i],i--,!(i<0);i--){let s=n[i];typeof s=="object"&&e.push(...s.callbacks||[]);let o=s.isEscaped;if(s=await(typeof s=="object"?s.toString():s),typeof s=="object"&&e.push(...s.callbacks||[]),s.isEscaped??o)r+=s;else{let a=[r];Gc(s,a),r=a[0]}}return ks(r,e)},Gc=(t,e)=>{let r=t.search(NU);if(r===-1){e[0]+=t;return}let n,i,s=0;for(i=r;i<t.length;i++){switch(t.charCodeAt(i)){case 34:n="&quot;";break;case 39:n="&#39;";break;case 38:n="&amp;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}e[0]+=t.substring(s,i)+n,s=i+1}e[0]+=t.substring(s,i)},J_=t=>{let e=t.callbacks;if(!e?.length)return t;let r=[t],n={};return e.forEach(i=>i({phase:Vm.Stringify,buffer:r,context:n})),r[0]},Gm=async(t,e,r,n,i)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));let s=t.callbacks;if(!s?.length)return Promise.resolve(t);i?i[0]+=t:i=[t];let o=Promise.all(s.map(a=>a({phase:e,buffer:i,context:n}))).then(a=>Promise.all(a.filter(Boolean).map(c=>Gm(c,e,!1,n,i))).then(()=>i[0]));return r?ks(await o,s):o};var Hm=(t,...e)=>{let r=[""];for(let n=0,i=t.length-1;n<i;n++){r[0]+=t[n];let s=Array.isArray(e[n])?e[n].flat(1/0):[e[n]];for(let o=0,a=s.length;o<a;o++){let c=s[o];if(typeof c=="string")Gc(c,r);else if(typeof c=="number")r[0]+=c;else{if(typeof c=="boolean"||c===null||c===void 0)continue;if(typeof c=="object"&&c.isEscaped)if(c.callbacks)r.unshift("",c);else{let l=c.toString();l instanceof Promise?r.unshift("",l):r[0]+=l}else c instanceof Promise?r.unshift("",c):Gc(c.toString(),r)}}}return r[0]+=t.at(-1),r.length===1?"callbacks"in r?ks(J_(ks(r[0],r.callbacks))):ks(r[0]):W_(r,r.callbacks)};var ue={STRING_ARRAY:"string_array",STRING:"string",JSON_STRING:"json_string",RAW:"raw"},Y_={configUrl:ue.STRING,deepLinking:ue.RAW,presets:ue.STRING_ARRAY,plugins:ue.STRING_ARRAY,spec:ue.JSON_STRING,url:ue.STRING,urls:ue.JSON_STRING,layout:ue.STRING,docExpansion:ue.STRING,maxDisplayedTags:ue.RAW,operationsSorter:ue.RAW,requestInterceptor:ue.RAW,responseInterceptor:ue.RAW,persistAuthorization:ue.RAW,defaultModelsExpandDepth:ue.RAW,defaultModelExpandDepth:ue.RAW,defaultModelRendering:ue.STRING,displayRequestDuration:ue.RAW,filter:ue.RAW,showExtensions:ue.RAW,showCommonExtensions:ue.RAW,queryConfigEnabled:ue.RAW,displayOperationId:ue.RAW,tagsSorter:ue.RAW,onComplete:ue.RAW,syntaxHighlight:ue.JSON_STRING,tryItOutEnabled:ue.RAW,requestSnippetsEnabled:ue.RAW,requestSnippets:ue.JSON_STRING,oauth2RedirectUrl:ue.STRING,showMutabledRequest:ue.RAW,request:ue.JSON_STRING,supportedSubmitMethods:ue.JSON_STRING,validatorUrl:ue.STRING,withCredentials:ue.RAW,modelPropertyMacro:ue.RAW,parameterMacro:ue.RAW},kU=t=>Object.entries(t).map(([r,n])=>{let i=r;if(!Y_[i]||n===void 0)return"";switch(Y_[i]){case ue.STRING:return`${i}: '${n}'`;case ue.STRING_ARRAY:return Array.isArray(n)?`${i}: [${n.map(s=>`${s}`).join(",")}]`:"";case ue.JSON_STRING:return`${i}: ${JSON.stringify(n)}`;case ue.RAW:return`${i}: ${n}`;default:return""}}).filter(r=>r!=="").join(","),DU=({version:t})=>{let e=`https://cdn.jsdelivr.net/npm/swagger-ui-dist${t!==void 0?`@${t}`:""}`;return{css:[`${e}/swagger-ui.css`],js:[`${e}/swagger-ui-bundle.js`]}},MU=t=>{let e=DU({version:t?.version});if(delete t.version,t.manuallySwaggerUIHtml)return t.manuallySwaggerUIHtml(e);let r=kU(t);return`
    <div>
      <div id="swagger-ui"></div>
      ${e.css.map(n=>Hm`<link rel="stylesheet" href="${n}" />`)}
      ${e.js.map(n=>Hm`<script src="${n}" crossorigin="anonymous"></script>`)}
      <script>
        window.onload = () => {
          window.ui = SwaggerUIBundle({
            dom_id: '#swagger-ui',${r},
          })
        }
      </script>
    </div>
  `},Z_=t=>async e=>{let r=t?.title??"SwaggerUI";return e.html(`
      <html lang="en">
        <head>
          <meta charset="utf-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1" />
          <meta name="description" content="SwaggerUI" />
          <title>${r}</title>
        </head>
        <body>
          ${MU(t)}
        </body>
      </html>
    `)};var Km=(t,e,r)=>(n,i)=>{let s=-1;return o(0);async function o(a){if(a<=s)throw new Error("next() called multiple times");s=a;let c,l=!1,d;if(t[a]?(d=t[a][0][0],n.req.routeIndex=a):d=a===t.length&&i||void 0,d)try{c=await d(n,()=>o(a+1))}catch(m){if(m instanceof Error&&e)n.error=m,c=await e(m,n),l=!0;else throw m}else n.finalized===!1&&r&&(c=await r(n));return c&&(n.finalized===!1||l)&&(n.res=c),n}};var Q_=async(t,e=Object.create(null))=>{let{all:r=!1,dot:n=!1}=e,s=(t instanceof Hc?t.raw.headers:t.headers).get("Content-Type");return s?.startsWith("multipart/form-data")||s?.startsWith("application/x-www-form-urlencoded")?FU(t,{all:r,dot:n}):{}};async function FU(t,e){let r=await t.formData();return r?jU(r,e):{}}function jU(t,e){let r=Object.create(null);return t.forEach((n,i)=>{e.all||i.endsWith("[]")?LU(r,i,n):r[i]=n}),e.dot&&Object.entries(r).forEach(([n,i])=>{n.includes(".")&&($U(r,n,i),delete r[n])}),r}var LU=(t,e,r)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:t[e]=r},$U=(t,e,r)=>{let n=t,i=e.split(".");i.forEach((s,o)=>{o===i.length-1?n[s]=r:((!n[s]||typeof n[s]!="object"||Array.isArray(n[s])||n[s]instanceof File)&&(n[s]=Object.create(null)),n=n[s])})};var Wm=t=>{let e=t.split("/");return e[0]===""&&e.shift(),e},X_=t=>{let{groups:e,path:r}=BU(t),n=Wm(r);return UU(n,e)},BU=t=>{let e=[];return t=t.replace(/\{[^}]+\}/g,(r,n)=>{let i=`@${n}`;return e.push([i,r]),i}),{groups:e,path:t}},UU=(t,e)=>{for(let r=e.length-1;r>=0;r--){let[n]=e[r];for(let i=t.length-1;i>=0;i--)if(t[i].includes(n)){t[i]=t[i].replace(n,e[r][1]);break}}return t},Kc={},Jm=(t,e)=>{if(t==="*")return"*";let r=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){let n=`${t}#${e}`;return Kc[n]||(r[2]?Kc[n]=e&&e[0]!==":"&&e[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${e})`)]:[t,r[1],new RegExp(`^${r[2]}$`)]:Kc[n]=[t,r[1],!0]),Kc[n]}return null},Ym=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return e(r)}catch{return r}})}},qU=t=>Ym(t,decodeURI),Zm=t=>{let e=t.url,r=e.indexOf("/",8),n=r;for(;n<e.length;n++){let i=e.charCodeAt(n);if(i===37){let s=e.indexOf("?",n),o=e.slice(r,s===-1?void 0:s);return qU(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(i===63)break}return e.slice(r,n)};var eb=t=>{let e=Zm(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},Li=(t,e,...r)=>(r.length&&(e=Li(e,...r)),`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),zc=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;let e=t.split("/"),r=[],n="";return e.forEach(i=>{if(i!==""&&!/\:/.test(i))n+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){r.length===0&&n===""?r.push("/"):r.push(n);let s=i.replace("?","");n+="/"+s,r.push(n)}else n+="/"+i}),r.filter((i,s,o)=>o.indexOf(i)===s)},zm=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?ra(t):t):t,tb=(t,e,r)=>{let n;if(!r&&e&&!/[%+]/.test(e)){let o=t.indexOf(`?${e}`,8);for(o===-1&&(o=t.indexOf(`&${e}`,8));o!==-1;){let a=t.charCodeAt(o+e.length+1);if(a===61){let c=o+e.length+2,l=t.indexOf("&",c);return zm(t.slice(c,l===-1?void 0:l))}else if(a==38||isNaN(a))return"";o=t.indexOf(`&${e}`,o+1)}if(n=/[%+]/.test(t),!n)return}let i={};n??=/[%+]/.test(t);let s=t.indexOf("?",8);for(;s!==-1;){let o=t.indexOf("&",s+1),a=t.indexOf("=",s);a>o&&o!==-1&&(a=-1);let c=t.slice(s+1,a===-1?o===-1?void 0:o:a);if(n&&(c=zm(c)),s=o,c==="")continue;let l;a===-1?l="":(l=t.slice(a+1,o===-1?void 0:o),n&&(l=zm(l))),r?(i[c]&&Array.isArray(i[c])||(i[c]=[]),i[c].push(l)):i[c]??=l}return e?i[e]:i},rb=tb,nb=(t,e)=>tb(t,e,!0),ra=decodeURIComponent;var ib=t=>Ym(t,ra),Hc=class{raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(t,e="/",r=[[]]){this.raw=t,this.path=e,this.#e=r,this.#t={}}param(t){return t?this.#n(t):this.#s()}#n(t){let e=this.#e[0][this.routeIndex][1][t],r=this.#i(e);return r?/\%/.test(r)?ib(r):r:void 0}#s(){let t={},e=Object.keys(this.#e[0][this.routeIndex][1]);for(let r of e){let n=this.#i(this.#e[0][this.routeIndex][1][r]);n&&typeof n=="string"&&(t[r]=/\%/.test(n)?ib(n):n)}return t}#i(t){return this.#e[1]?this.#e[1][t]:t}query(t){return rb(this.url,t)}queries(t){return nb(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;let e={};return this.raw.headers.forEach((r,n)=>{e[n]=r}),e}async parseBody(t){return this.bodyCache.parsedBody??=await Q_(this,t)}#r=t=>{let{bodyCache:e,raw:r}=this,n=e[t];if(n)return n;let i=Object.keys(e)[0];return i?e[i].then(s=>(i==="json"&&(s=JSON.stringify(s)),new Response(s)[t]())):e[t]=r[t]()};json(){return this.#r("json")}text(){return this.#r("text")}arrayBuffer(){return this.#r("arrayBuffer")}blob(){return this.#r("blob")}formData(){return this.#r("formData")}addValidatedData(t,e){this.#t[t]=e}valid(t){return this.#t[t]}get url(){return this.raw.url}get method(){return this.raw.method}get matchedRoutes(){return this.#e[0].map(([[,t]])=>t)}get routePath(){return this.#e[0].map(([[,t]])=>t)[this.routeIndex].path}};var VU="text/plain; charset=UTF-8",Qm=(t,e={})=>{for(let r of Object.keys(e))t.set(r,e[r]);return t},sb=class{#t;#e;env={};#n;finalized=!1;error;#s=200;#i;#r;#o;#c;#l=!0;#p;#d;#u;#m;#f;constructor(t,e){this.#t=t,e&&(this.#i=e.executionCtx,this.env=e.env,this.#u=e.notFoundHandler,this.#f=e.path,this.#m=e.matchResult)}get req(){return this.#e??=new Hc(this.#t,this.#f,this.#m),this.#e}get event(){if(this.#i&&"respondWith"in this.#i)return this.#i;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#i)return this.#i;throw Error("This context has no ExecutionContext")}get res(){return this.#l=!1,this.#c||=new Response("404 Not Found",{status:404})}set res(t){if(this.#l=!1,this.#c&&t){t=new Response(t.body,t);for(let[e,r]of this.#c.headers.entries())if(e!=="content-type")if(e==="set-cookie"){let n=this.#c.headers.getSetCookie();t.headers.delete("set-cookie");for(let i of n)t.headers.append("set-cookie",i)}else t.headers.set(e,r)}this.#c=t,this.finalized=!0}render=(...t)=>(this.#d??=e=>this.html(e),this.#d(...t));setLayout=t=>this.#p=t;getLayout=()=>this.#p;setRenderer=t=>{this.#d=t};header=(t,e,r)=>{if(this.finalized&&(this.#c=new Response(this.#c.body,this.#c)),e===void 0){this.#r?this.#r.delete(t):this.#o&&delete this.#o[t.toLocaleLowerCase()],this.finalized&&this.res.headers.delete(t);return}r?.append?(this.#r||(this.#l=!1,this.#r=new Headers(this.#o),this.#o={}),this.#r.append(t,e)):this.#r?this.#r.set(t,e):(this.#o??={},this.#o[t.toLowerCase()]=e),this.finalized&&(r?.append?this.res.headers.append(t,e):this.res.headers.set(t,e))};status=t=>{this.#l=!1,this.#s=t};set=(t,e)=>{this.#n??=new Map,this.#n.set(t,e)};get=t=>this.#n?this.#n.get(t):void 0;get var(){return this.#n?Object.fromEntries(this.#n):{}}#a(t,e,r){if(this.#l&&!r&&!e&&this.#s===200)return new Response(t,{headers:this.#o});if(e&&typeof e!="number"){let i=new Headers(e.headers);this.#r&&this.#r.forEach((o,a)=>{a==="set-cookie"?i.append(a,o):i.set(a,o)});let s=Qm(i,this.#o);return new Response(t,{headers:s,status:e.status??this.#s})}let n=typeof e=="number"?e:this.#s;this.#o??={},this.#r??=new Headers,Qm(this.#r,this.#o),this.#c&&(this.#c.headers.forEach((i,s)=>{s==="set-cookie"?this.#r?.append(s,i):this.#r?.set(s,i)}),Qm(this.#r,this.#o)),r??={};for(let[i,s]of Object.entries(r))if(typeof s=="string")this.#r.set(i,s);else{this.#r.delete(i);for(let o of s)this.#r.append(i,o)}return new Response(t,{status:n,headers:this.#r})}newResponse=(...t)=>this.#a(...t);body=(t,e,r)=>typeof e=="number"?this.#a(t,e,r):this.#a(t,e);text=(t,e,r)=>{if(!this.#o){if(this.#l&&!r&&!e)return new Response(t);this.#o={}}return this.#o["content-type"]=VU,typeof e=="number"?this.#a(t,e,r):this.#a(t,e)};json=(t,e,r)=>{let n=JSON.stringify(t);return this.#o??={},this.#o["content-type"]="application/json",typeof e=="number"?this.#a(n,e,r):this.#a(n,e)};html=(t,e,r)=>(this.#o??={},this.#o["content-type"]="text/html; charset=UTF-8",typeof t=="object"?Gm(t,Vm.Stringify,!1,{}).then(n=>typeof e=="number"?this.#a(n,e,r):this.#a(n,e)):typeof e=="number"?this.#a(t,e,r):this.#a(t,e));redirect=(t,e)=>(this.#r??=new Headers,this.#r.set("Location",String(t)),this.newResponse(null,e??302));notFound=()=>(this.#u??=()=>new Response,this.#u(this))};var Ze="ALL",ob="all",ab=["get","post","put","delete","options","patch"],Wc="Can not add a route since the matcher is already built.",Jc=class extends Error{};var cb="__COMPOSED_HANDLER";var GU=t=>t.text("404 Not Found",404),lb=(t,e)=>"getResponse"in t?t.getResponse():(console.error(t),e.text("Internal Server Error",500)),Xm=class{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(t={}){[...ab,ob].forEach(i=>{this[i]=(s,...o)=>(typeof s=="string"?this.#t=s:this.#s(i,this.#t,s),o.forEach(a=>{this.#s(i,this.#t,a)}),this)}),this.on=(i,s,...o)=>{for(let a of[s].flat()){this.#t=a;for(let c of[i].flat())o.map(l=>{this.#s(c.toUpperCase(),this.#t,l)})}return this},this.use=(i,...s)=>(typeof i=="string"?this.#t=i:(this.#t="*",s.unshift(i)),s.forEach(o=>{this.#s(Ze,this.#t,o)}),this);let{strict:r,...n}=t;Object.assign(this,n),this.getPath=r??!0?t.getPath??Zm:eb}#e(){let t=new Xm({router:this.router,getPath:this.getPath});return t.routes=this.routes,t}#n=GU;errorHandler=lb;route(t,e){let r=this.basePath(t);return e.routes.map(n=>{let i;e.errorHandler===lb?i=n.handler:(i=async(s,o)=>(await Km([],e.errorHandler)(s,()=>n.handler(s,o))).res,i[cb]=n.handler),r.#s(n.method,n.path,i)}),this}basePath(t){let e=this.#e();return e._basePath=Li(this._basePath,t),e}onError=t=>(this.errorHandler=t,this);notFound=t=>(this.#n=t,this);mount(t,e,r){let n,i;r&&(typeof r=="function"?i=r:(i=r.optionHandler,r.replaceRequest===!1?n=a=>a:n=r.replaceRequest));let s=i?a=>{let c=i(a);return Array.isArray(c)?c:[c]}:a=>{let c;try{c=a.executionCtx}catch{}return[a.env,c]};n||=(()=>{let a=Li(this._basePath,t),c=a==="/"?0:a.length;return l=>{let d=new URL(l.url);return d.pathname=d.pathname.slice(c)||"/",new Request(d,l)}})();let o=async(a,c)=>{let l=await e(n(a.req.raw),...s(a));if(l)return l;await c()};return this.#s(Ze,Li(t,"*"),o),this}#s(t,e,r){t=t.toUpperCase(),e=Li(this._basePath,e);let n={path:e,method:t,handler:r};this.router.add(t,e,[r,n]),this.routes.push(n)}#i(t,e){if(t instanceof Error)return this.errorHandler(t,e);throw t}#r(t,e,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#r(t,e,r,"GET")))();let i=this.getPath(t,{env:r}),s=this.router.match(n,i),o=new sb(t,{path:i,matchResult:s,env:r,executionCtx:e,notFoundHandler:this.#n});if(s[0].length===1){let c;try{c=s[0][0][0][0](o,async()=>{o.res=await this.#n(o)})}catch(l){return this.#i(l,o)}return c instanceof Promise?c.then(l=>l||(o.finalized?o.res:this.#n(o))).catch(l=>this.#i(l,o)):c??this.#n(o)}let a=Km(s[0],this.errorHandler,this.#n);return(async()=>{try{let c=await a(o);if(!c.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return c.res}catch(c){return this.#i(c,o)}})()}fetch=(t,...e)=>this.#r(t,e[1],e[0],t.method);request=(t,e,r,n)=>t instanceof Request?this.fetch(e?new Request(t,e):t,r,n):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${Li("/",t)}`,e),r,n));fire=()=>{addEventListener("fetch",t=>{t.respondWith(this.#r(t.request,t,void 0,t.request.method))})}};var Yc="[^/]+",na=".*",ia="(?:|/.*)",Ds=Symbol(),HU=new Set(".\\+*[^]$()");function KU(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===na||t===ia?1:e===na||e===ia?-1:t===Yc?1:e===Yc?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var Zc=class{#t;#e;#n=Object.create(null);insert(t,e,r,n,i){if(t.length===0){if(this.#t!==void 0)throw Ds;if(i)return;this.#t=e;return}let[s,...o]=t,a=s==="*"?o.length===0?["","",na]:["","",Yc]:s==="/*"?["","",ia]:s.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),c;if(a){let l=a[1],d=a[2]||Yc;if(l&&a[2]&&(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d)))throw Ds;if(c=this.#n[d],!c){if(Object.keys(this.#n).some(m=>m!==na&&m!==ia))throw Ds;if(i)return;c=this.#n[d]=new Zc,l!==""&&(c.#e=n.varIndex++)}!i&&l!==""&&r.push([l,c.#e])}else if(c=this.#n[s],!c){if(Object.keys(this.#n).some(l=>l.length>1&&l!==na&&l!==ia))throw Ds;if(i)return;c=this.#n[s]=new Zc}c.insert(o,e,r,n,i)}buildRegExpStr(){let e=Object.keys(this.#n).sort(KU).map(r=>{let n=this.#n[r];return(typeof n.#e=="number"?`(${r})@${n.#e}`:HU.has(r)?`\\${r}`:r)+n.buildRegExpStr()});return typeof this.#t=="number"&&e.unshift(`#${this.#t}`),e.length===0?"":e.length===1?e[0]:"(?:"+e.join("|")+")"}};var db=class{#t={varIndex:0};#e=new Zc;insert(t,e,r){let n=[],i=[];for(let o=0;;){let a=!1;if(t=t.replace(/\{[^}]+\}/g,c=>{let l=`@\\${o}`;return i[o]=[l,c],o++,a=!0,l}),!a)break}let s=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let o=i.length-1;o>=0;o--){let[a]=i[o];for(let c=s.length-1;c>=0;c--)if(s[c].indexOf(a)!==-1){s[c]=s[c].replace(a,i[o][1]);break}}return this.#e.insert(s,e,n,this.#t,r),n}buildRegExp(){let t=this.#e.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0,r=[],n=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,s,o)=>s!==void 0?(r[++e]=Number(s),"$()"):(o!==void 0&&(n[Number(o)]=++e),"")),[new RegExp(`^${t}`),r,n]}};var ub=[],zU=[/^$/,[],Object.create(null)],pb=Object.create(null);function mb(t){return pb[t]??=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}function WU(){pb=Object.create(null)}function JU(t){let e=new db,r=[];if(t.length===0)return zU;let n=t.map(l=>[!/\*|\/:/.test(l[0]),...l]).sort(([l,d],[m,f])=>l?1:m?-1:d.length-f.length),i=Object.create(null);for(let l=0,d=-1,m=n.length;l<m;l++){let[f,h,y]=n[l];f?i[h]=[y.map(([g])=>[g,Object.create(null)]),ub]:d++;let v;try{v=e.insert(h,d,f)}catch(g){throw g===Ds?new Jc(h):g}f||(r[d]=y.map(([g,_])=>{let b=Object.create(null);for(_-=1;_>=0;_--){let[S,N]=v[_];b[S]=N}return[g,b]}))}let[s,o,a]=e.buildRegExp();for(let l=0,d=r.length;l<d;l++)for(let m=0,f=r[l].length;m<f;m++){let h=r[l][m]?.[1];if(!h)continue;let y=Object.keys(h);for(let v=0,g=y.length;v<g;v++)h[y[v]]=a[h[y[v]]]}let c=[];for(let l in o)c[l]=r[o[l]];return[s,c,i]}function Ms(t,e){if(t){for(let r of Object.keys(t).sort((n,i)=>i.length-n.length))if(mb(r).test(e))return[...t[r]]}}var ef=class{name="RegExpRouter";#t;#e;constructor(){this.#t={[Ze]:Object.create(null)},this.#e={[Ze]:Object.create(null)}}add(t,e,r){let n=this.#t,i=this.#e;if(!n||!i)throw new Error(Wc);n[t]||[n,i].forEach(a=>{a[t]=Object.create(null),Object.keys(a[Ze]).forEach(c=>{a[t][c]=[...a[Ze][c]]})}),e==="/*"&&(e="*");let s=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){let a=mb(e);t===Ze?Object.keys(n).forEach(c=>{n[c][e]||=Ms(n[c],e)||Ms(n[Ze],e)||[]}):n[t][e]||=Ms(n[t],e)||Ms(n[Ze],e)||[],Object.keys(n).forEach(c=>{(t===Ze||t===c)&&Object.keys(n[c]).forEach(l=>{a.test(l)&&n[c][l].push([r,s])})}),Object.keys(i).forEach(c=>{(t===Ze||t===c)&&Object.keys(i[c]).forEach(l=>a.test(l)&&i[c][l].push([r,s]))});return}let o=zc(e)||[e];for(let a=0,c=o.length;a<c;a++){let l=o[a];Object.keys(i).forEach(d=>{(t===Ze||t===d)&&(i[d][l]||=[...Ms(n[d],l)||Ms(n[Ze],l)||[]],i[d][l].push([r,s-c+a+1]))})}}match(t,e){WU();let r=this.#n();return this.match=(n,i)=>{let s=r[n]||r[Ze],o=s[2][i];if(o)return o;let a=i.match(s[0]);if(!a)return[[],ub];let c=a.indexOf("",1);return[s[1][c],a]},this.match(t,e)}#n(){let t=Object.create(null);return Object.keys(this.#e).concat(Object.keys(this.#t)).forEach(e=>{t[e]||=this.#s(e)}),this.#t=this.#e=void 0,t}#s(t){let e=[],r=t===Ze;return[this.#t,this.#e].forEach(n=>{let i=n[t]?Object.keys(n[t]).map(s=>[s,n[t][s]]):[];i.length!==0?(r||=!0,e.push(...i)):t!==Ze&&e.push(...Object.keys(n[Ze]).map(s=>[s,n[Ze][s]]))}),r?JU(e):null}};var tf=class{name="SmartRouter";#t=[];#e=[];constructor(t){this.#t=t.routers}add(t,e,r){if(!this.#e)throw new Error(Wc);this.#e.push([t,e,r])}match(t,e){if(!this.#e)throw new Error("Fatal error");let r=this.#t,n=this.#e,i=r.length,s=0,o;for(;s<i;s++){let a=r[s];try{for(let c=0,l=n.length;c<l;c++)a.add(...n[c]);o=a.match(t,e)}catch(c){if(c instanceof Jc)continue;throw c}this.match=a.match.bind(a),this.#t=[a],this.#e=void 0;break}if(s===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,o}get activeRouter(){if(this.#e||this.#t.length!==1)throw new Error("No active router has been determined yet.");return this.#t[0]}};var sa=Object.create(null),rf=class{#t;#e;#n;#s=0;#i=sa;constructor(t,e,r){if(this.#e=r||Object.create(null),this.#t=[],t&&e){let n=Object.create(null);n[t]={handler:e,possibleKeys:[],score:0},this.#t=[n]}this.#n=[]}insert(t,e,r){this.#s=++this.#s;let n=this,i=X_(e),s=[];for(let c=0,l=i.length;c<l;c++){let d=i[c],m=i[c+1],f=Jm(d,m),h=Array.isArray(f)?f[0]:d;if(Object.keys(n.#e).includes(h)){n=n.#e[h];let y=Jm(d,m);y&&s.push(y[1]);continue}n.#e[h]=new rf,f&&(n.#n.push(f),s.push(f[1])),n=n.#e[h]}let o=Object.create(null),a={handler:r,possibleKeys:s.filter((c,l,d)=>d.indexOf(c)===l),score:this.#s};return o[t]=a,n.#t.push(o),n}#r(t,e,r,n){let i=[];for(let s=0,o=t.#t.length;s<o;s++){let a=t.#t[s],c=a[e]||a[Ze],l={};if(c!==void 0&&(c.params=Object.create(null),i.push(c),r!==sa||n&&n!==sa))for(let d=0,m=c.possibleKeys.length;d<m;d++){let f=c.possibleKeys[d],h=l[c.score];c.params[f]=n?.[f]&&!h?n[f]:r[f]??n?.[f],l[c.score]=!0}}return i}search(t,e){let r=[];this.#i=sa;let i=[this],s=Wm(e),o=[];for(let a=0,c=s.length;a<c;a++){let l=s[a],d=a===c-1,m=[];for(let f=0,h=i.length;f<h;f++){let y=i[f],v=y.#e[l];v&&(v.#i=y.#i,d?(v.#e["*"]&&r.push(...this.#r(v.#e["*"],t,y.#i)),r.push(...this.#r(v,t,y.#i))):m.push(v));for(let g=0,_=y.#n.length;g<_;g++){let b=y.#n[g],S=y.#i===sa?{}:{...y.#i};if(b==="*"){let U=y.#e["*"];U&&(r.push(...this.#r(U,t,y.#i)),U.#i=S,m.push(U));continue}if(l==="")continue;let[N,Q,D]=b,C=y.#e[N],O=s.slice(a).join("/");if(D instanceof RegExp){let U=D.exec(O);if(U){if(S[Q]=U[0],r.push(...this.#r(C,t,y.#i,S)),Object.keys(C.#e).length){C.#i=S;let Oe=U[0].match(/\//)?.length??0;(o[Oe]||=[]).push(C)}continue}}(D===!0||D.test(l))&&(S[Q]=l,d?(r.push(...this.#r(C,t,S,y.#i)),C.#e["*"]&&r.push(...this.#r(C.#e["*"],t,S,y.#i))):(C.#i=S,m.push(C)))}}i=m.concat(o.shift()??[])}return r.length>1&&r.sort((a,c)=>a.score-c.score),[r.map(({handler:a,params:c})=>[a,c])]}};var nf=class{name="TrieRouter";#t;constructor(){this.#t=new rf}add(t,e,r){let n=zc(e);if(n){for(let i=0,s=n.length;i<s;i++)this.#t.insert(t,n[i],r);return}this.#t.insert(t,e,r)}match(t,e){return this.#t.search(t,e)}};var $i=class extends Xm{constructor(t={}){super(t),this.router=t.router??new tf({routers:[new ef,new nf]})}};var Fs=Symbol("openapi");async function sf(t,e){let r=await e,n={};if(t==="form"||t==="json"){let i=t==="json"?"application/json":"multipart/form-data";n.requestBody&&"content"in n.requestBody&&n.requestBody.content?n.requestBody.content[i]={schema:r.schema}:n.requestBody={content:{[i]:{schema:r.schema}}}}else{let i=[];if("$ref"in r.schema)i.push({in:t,name:r.schema.$ref,schema:r.schema});else for(let[s,o]of Object.entries(r.schema.properties??{}))i.push({in:t,name:s,schema:o,required:r.schema.required?.includes(s)});n.parameters=i}return{docs:n,components:r.components}}var Bi=class extends Error{res;status;constructor(t=500,e){super(e?.message,{cause:e?.cause}),this.res=e?.res,this.status=t}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}};var YU=["GET","PUT","POST","DELETE","OPTIONS","HEAD","PATCH","TRACE"],fb=t=>t.charAt(0).toUpperCase()+t.slice(1),of=new Map,ZU=(t,e)=>{let r=`${t}:${e}`;if(of.has(r))return of.get(r);let n=t;if(e==="/")return`${n}Index`;for(let i of e.split("/"))i.charCodeAt(0)===123?n+=`By${fb(i.slice(1,-1))}`:n+=fb(i);return of.set(r,n),n},js=new Map;function Qc(t,e,r){return t&&e in t?t[e]??r:r}function hb(...t){return t.reduce((e,r)=>{if(!r)return e;let n;return("tags"in e&&e.tags||"tags"in r&&r.tags)&&(n=Array.from(new Set([...Qc(e,"tags",[]),...Qc(r,"tags",[])]))),{...e,...r,tags:n,responses:{...Qc(e,"responses",{}),...Qc(r,"responses",{})},parameters:_b(e.parameters,r.parameters)}},{})}function yb({path:t,method:e,data:r,schema:n}){t=(s=>s.split("/").map(o=>{let a=o;if(a.startsWith(":")){let c=a.match(/^:([^{?]+)(?:{(.+)})?(\?)?$/);c?a=`{${c[1]}}`:(a=a.slice(1,a.length),a.endsWith("?")&&(a=a.slice(0,-1)),a=`{${a}}`)}return a}).join("/"))(t);let i=e.toLowerCase();if(i==="all"){if(!r)return;if(js.has(t)){let s=js.get(t)??{};js.set(t,{...s,...r,parameters:_b(s.parameters,r.parameters)})}else js.set(t,r)}else{let s=function(o){let a=Array.from(js.keys()),c={};for(let l of a)o.match(l)&&(c=hb(c,js.get(l)??{}));return c}(t);n[t]={...n[t]?n[t]:{},[i]:{responses:{},operationId:ZU(i,t),...hb(s,n[t]?.[i],r)}}}}var QU=t=>"$ref"in t?t.$ref:`${t.in} ${t.name}`;function _b(...t){let e=t.flatMap(r=>r??[]).reduce((r,n)=>(r.set(QU(n),n),r),new Map);return Array.from(e.values())}function XU(t,{excludeStaticFile:e=!0,exclude:r=[]}){let n={},i=Array.isArray(r)?r:[r];for(let[s,o]of Object.entries(t))if(!i.some(a=>typeof a=="string"?s===a:a.test(s))&&(!s.includes("*")||s.includes("{"))&&(!e||!s.includes(".")||s.includes("{"))){for(let a of Object.keys(o)){let c=o[a];if(s.includes("{")){c.parameters||(c.parameters=[]);let l=s.split("/").filter(d=>d.startsWith("{")&&!c.parameters.find(m=>m.in==="path"&&m.name===d.slice(1,d.length-1)));for(let d of l){let m=d.slice(1,d.length-1),f=c.parameters.findIndex(h=>h.in==="param"&&h.name===m);f!==-1?c.parameters[f].in="path":c.parameters.push({schema:{type:"string"},in:"path",name:m,required:!0})}}c.responses||(c.responses={200:{}})}n[s]=o}return n}var gb={documentation:{},excludeStaticFile:!0,exclude:[],excludeMethods:["OPTIONS"],excludeTags:[]},vb={version:"3.1.0",components:{}};function bb(t,e){let r={version:"3.1.0",components:{}},n;return async i=>(n||(n=await eq(t,e,r,i)),i.json(n))}async function eq(t,e=gb,r=vb,n){let i={...gb,...e},s={...vb,...r},o=i.documentation??{},a=await async function(c,l,d){let m={};for(let f of c.routes){if(!(Fs in f.handler)){l.includeEmptyPaths&&yb({method:f.method,path:f.path,schema:m});continue}if(l.excludeMethods.includes(f.method)||YU.includes(f.method)===!1&&f.method!=="ALL")continue;let{resolver:h,metadata:y={}}=f.handler[Fs],v=l.defaultOptions?.[f.method],{docs:g,components:_}=await h({...d,...y},v);d.components={...d.components,..._??{}},yb({method:f.method,path:f.path,data:g,schema:m})}return m}(t,i,s);for(let c in a)for(let l in a[c]){let d=a[c][l]?.hide;if(d){let m=!1;typeof d=="boolean"?m=d:typeof d=="function"&&(n?m=d(n):console.warn(`'c' is not defined, cannot evaluate hide function for ${l} ${c}`)),m&&delete a[c][l]}}return{openapi:s.version,...o,tags:o.tags?.filter(c=>!i.excludeTags?.includes(c?.name)),info:{title:"Hono Documentation",description:"Development documentation",version:"0.0.0",...o.info},paths:{...XU(a,i),...o.paths},components:{...o.components,schemas:{...s.components,...o.components?.schemas}}}}function Xc(t){let{validateResponse:e,...r}=t;return Object.assign(async(n,i)=>{if(await i(),e&&t.responses){let s=n.res.status,o=n.res.headers.get("content-type");if(s&&o){let a=t.responses[s];if(a&&"content"in a&&a.content){let c=o.split(";")[0],l=a.content[c];if(l?.schema&&"validator"in l.schema)try{let d,m=n.res.clone();if(c==="application/json"?d=await m.json():c==="text/plain"&&(d=await m.text()),!d)throw new Error("No data to validate!");await l.schema.validator(d)}catch(d){let m={status:500,message:"Response validation failed!"};throw typeof e=="object"&&(m={...m,...e}),new Bi(m.status,{message:m.message,cause:d})}}}}},{[Fs]:{resolver:(n,i)=>tq(n,r,i)}})}async function tq(t,e,r={}){let n={},i={...r,...e,responses:{...r?.responses,...e.responses}};if(i.responses)for(let s of Object.keys(i.responses)){let o=i.responses[s];if(o&&"content"in o)for(let a of Object.keys(o.content??{})){let c=o.content?.[a];if(c&&c.schema&&"builder"in c.schema){let l=await c.schema.builder(t);c.schema=l.schema,l.components&&(n={...n,...l.components})}}}return{docs:i,components:n}}function Eb(){let{process:t,Deno:e}=globalThis;return!(typeof e?.noColor=="boolean"?e.noColor:t!==void 0?"NO_COLOR"in t?.env:!1)}var rq=t=>{let[e,r]=[",","."];return t.map(i=>i.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+e)).join(r)},nq=t=>{let e=Date.now()-t;return rq([e<1e3?e+"ms":Math.round(e/1e3)+"s"])},iq=t=>{if(Eb())switch(t/100|0){case 5:return`\x1B[31m${t}\x1B[0m`;case 4:return`\x1B[33m${t}\x1B[0m`;case 3:return`\x1B[36m${t}\x1B[0m`;case 2:return`\x1B[32m${t}\x1B[0m`}return`${t}`};function Sb(t,e,r,n,i=0,s){let o=e==="<--"?`${e} ${r} ${n}`:`${e} ${r} ${n} ${iq(i)} ${s}`;t(o)}var Cb=(t=console.log)=>async function(r,n){let{method:i,url:s}=r.req,o=s.slice(s.indexOf("/",8));Sb(t,"<--",i,o);let a=Date.now();await n(),Sb(t,"-->",i,o,r.res.status,nq(a))};var sq={crossOriginEmbedderPolicy:["Cross-Origin-Embedder-Policy","require-corp"],crossOriginResourcePolicy:["Cross-Origin-Resource-Policy","same-origin"],crossOriginOpenerPolicy:["Cross-Origin-Opener-Policy","same-origin"],originAgentCluster:["Origin-Agent-Cluster","?1"],referrerPolicy:["Referrer-Policy","no-referrer"],strictTransportSecurity:["Strict-Transport-Security","max-age=15552000; includeSubDomains"],xContentTypeOptions:["X-Content-Type-Options","nosniff"],xDnsPrefetchControl:["X-DNS-Prefetch-Control","off"],xDownloadOptions:["X-Download-Options","noopen"],xFrameOptions:["X-Frame-Options","SAMEORIGIN"],xPermittedCrossDomainPolicies:["X-Permitted-Cross-Domain-Policies","none"],xXssProtection:["X-XSS-Protection","0"]},oq={crossOriginEmbedderPolicy:!1,crossOriginResourcePolicy:!0,crossOriginOpenerPolicy:!0,originAgentCluster:!0,referrerPolicy:!0,strictTransportSecurity:!0,xContentTypeOptions:!0,xDnsPrefetchControl:!0,xDownloadOptions:!0,xFrameOptions:!0,xPermittedCrossDomainPolicies:!0,xXssProtection:!0,removePoweredBy:!0,permissionsPolicy:{}};var af=t=>{let e={...oq,...t},r=aq(e),n=[];if(e.contentSecurityPolicy){let[i,s]=xb(e.contentSecurityPolicy);i&&n.push(i),r.push(["Content-Security-Policy",s])}if(e.contentSecurityPolicyReportOnly){let[i,s]=xb(e.contentSecurityPolicyReportOnly);i&&n.push(i),r.push(["Content-Security-Policy-Report-Only",s])}return e.permissionsPolicy&&Object.keys(e.permissionsPolicy).length>0&&r.push(["Permissions-Policy",cq(e.permissionsPolicy)]),e.reportingEndpoints&&r.push(["Reporting-Endpoints",dq(e.reportingEndpoints)]),e.reportTo&&r.push(["Report-To",uq(e.reportTo)]),async function(s,o){let a=n.length===0?r:n.reduce((c,l)=>l(s,c),r);await o(),pq(s,a),e?.removePoweredBy&&s.res.headers.delete("X-Powered-By")}};function aq(t){return Object.entries(sq).filter(([e])=>t[e]).map(([e,r])=>{let n=t[e];return typeof n=="string"?[r[0],n]:r})}function xb(t){let e=[],r=[];for(let[n,i]of Object.entries(t)){let s=Array.isArray(i)?i:[i];s.forEach((o,a)=>{if(typeof o=="function"){let c=a*2+2+r.length;e.push((l,d)=>{d[c]=o(l,n)})}}),r.push(n.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(o,a)=>a?"-"+o.toLowerCase():o.toLowerCase()),...s.flatMap(o=>[" ",o]),"; ")}return r.pop(),e.length===0?[void 0,r.join("")]:[(n,i)=>i.map(s=>{if(s[0]==="Content-Security-Policy"||s[0]==="Content-Security-Policy-Report-Only"){let o=s[1].slice();return e.forEach(a=>{a(n,o)}),[s[0],o.join("")]}else return s}),r]}function cq(t){return Object.entries(t).map(([e,r])=>{let n=lq(e);if(typeof r=="boolean")return`${n}=${r?"*":"none"}`;if(Array.isArray(r)){if(r.length===0)return`${n}=()`;if(r.length===1&&(r[0]==="*"||r[0]==="none"))return`${n}=${r[0]}`;let i=r.map(s=>["self","src"].includes(s)?s:`"${s}"`);return`${n}=(${i.join(" ")})`}return""}).filter(Boolean).join(", ")}function lq(t){return t.replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase()}function dq(t=[]){return t.map(e=>`${e.name}="${e.url}"`).join(", ")}function uq(t=[]){return t.map(e=>JSON.stringify(e)).join(", ")}function pq(t,e){e.forEach(([r,n])=>{t.res.headers.set(r,n)})}var wb="1.4.2";var Ui=new $i;Ui.use("*",Cb());Ui.use(af());Ui.onError((t,e)=>t instanceof Bi?e.json({success:!1,error:{name:"HTTPException",issues:[{code:`HTTP_${t.status}`,path:[],message:t.message||`HTTP ${t.status} \uC5D0\uB7EC\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4.`}]}},t.status):(console.error("Unhandled error:",t),e.json({success:!1,error:{name:"InternalServerError",issues:[{code:"INTERNAL_SERVER_ERROR",path:[],message:"\uC608\uC0C1\uCE58 \uBABB\uD55C \uC11C\uBC84 \uC624\uB958\uAC00 \uBC1C\uC0DD\uD588\uC2B5\uB2C8\uB2E4."}]}},500)));Ui.get("/",Z_({url:"/docs"}));Ui.get("/docs",bb(Ui,{documentation:{info:{version:wb,title:"Doctor Guide Api"}}}));var oa=Ui;(function(){Rb().config(Object.assign({},kb(),Mb()(process.argv)))})();var Ee;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{let s={};for(let o of i)s[o]=o;return s},t.getValidEnumValues=i=>{let s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(let a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let s=[];for(let o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(let o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ee||(Ee={}));var uf;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(uf||(uf={}));var L=Ee.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),vn=t=>{switch(typeof t){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(t)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(t)?L.array:t===null?L.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?L.promise:typeof Map<"u"&&t instanceof Map?L.map:typeof Set<"u"&&t instanceof Set?L.set:typeof Date<"u"&&t instanceof Date?L.date:L.object;default:return L.unknown}},R=Ee.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Aq=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),Yt=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(let o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){let l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ee.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Yt.create=t=>new Yt(t);var Us=(t,e)=>{let r;switch(t.code){case R.invalid_type:t.received===L.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ee.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ee.joinValues(t.keys,", ")}`;break;case R.invalid_union:r="Invalid input";break;case R.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ee.joinValues(t.options)}`;break;case R.invalid_enum_value:r=`Invalid enum value. Expected ${Ee.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:r="Invalid function arguments";break;case R.invalid_return_type:r="Invalid function return type";break;case R.invalid_date:r="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ee.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case R.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case R.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case R.custom:r="Invalid input";break;case R.invalid_intersection_types:r="Intersection results could not be merged";break;case R.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ee.assertNever(t)}return{message:r}},$b=Us;function Oq(t){$b=t}function el(){return $b}var tl=t=>{let{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="",c=n.filter(l=>!!l).slice().reverse();for(let l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}},Rq=[];function j(t,e){let r=el(),n=tl({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===Us?void 0:Us].filter(i=>!!i)});t.common.issues.push(n)}var Pt=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let n=[];for(let i of r){if(i.status==="aborted")return re;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){let n=[];for(let i of r){let s=await i.key,o=await i.value;n.push({key:s,value:o})}return t.mergeObjectSync(e,n)}static mergeObjectSync(e,r){let n={};for(let i of r){let{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return re;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}},re=Object.freeze({status:"aborted"}),Bs=t=>({status:"dirty",value:t}),Mt=t=>({status:"valid",value:t}),pf=t=>t.status==="aborted",mf=t=>t.status==="dirty",qi=t=>t.status==="valid",da=t=>typeof Promise<"u"&&t instanceof Promise;function rl(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Bb(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}var H;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(H||(H={}));var ca,la,dr=class{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Fb=(t,e)=>{if(qi(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Yt(t.common.issues);return this._error=r,this._error}}};function le(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{var c,l;let{message:d}=t;return o.code==="invalid_enum_value"?{message:d??a.defaultError}:typeof a.data>"u"?{message:(c=d??n)!==null&&c!==void 0?c:a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:(l=d??r)!==null&&l!==void 0?l:a.defaultError}},description:i}}var de=class{get description(){return this._def.description}_getType(e){return vn(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:vn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Pt,ctx:{common:e.parent.common,data:e.data,parsedType:vn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(da(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;let i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vn(e)},s=this._parseSync({data:e,path:i.path,parent:i});return Fb(i,s)}"~validate"(e){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vn(e)};if(!this["~standard"].async)try{let s=this._parseSync({data:e,path:[],parent:i});return qi(s)?{value:s.value}:{issues:i.common.issues}}catch(s){!((n=(r=s?.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(s=>qi(s)?{value:s.value}:{issues:i.common.issues})}async parseAsync(e,r){let n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){let n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:vn(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(da(i)?i:Promise.resolve(i));return Fb(n,s)}refine(e,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{let o=e(i),a=()=>s.addIssue({code:R.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Zt({schema:this,typeName:ee.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Dt.create(this,this._def)}nullable(){return qr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Sn.create(this)}promise(){return Jn.create(this,this._def)}or(e){return zi.create([this,e],this._def)}and(e){return Wi.create(this,e,this._def)}transform(e){return new Zt({...le(this._def),schema:this,typeName:ee.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new wn({...le(this._def),innerType:this,defaultValue:r,typeName:ee.ZodDefault})}brand(){return new ua({typeName:ee.ZodBranded,type:this,...le(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Zi({...le(this._def),innerType:this,catchValue:r,typeName:ee.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return pa.create(this,e)}readonly(){return Qi.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},Nq=/^c[^\s-]{8,}$/i,kq=/^[0-9a-z]+$/,Dq=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Mq=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fq=/^[a-z0-9_-]{21}$/i,jq=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Lq=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,$q=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Bq="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",df,Uq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,qq=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Vq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gq=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Hq=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Kq=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Ub="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",zq=new RegExp(`^${Ub}$`);function qb(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Wq(t){return new RegExp(`^${qb(t)}$`)}function Vb(t){let e=`${Ub}T${qb(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Jq(t,e){return!!((e==="v4"||!e)&&Uq.test(t)||(e==="v6"||!e)&&Vq.test(t))}function Yq(t,e){if(!jq.test(t))return!1;try{let[r]=t.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Zq(t,e){return!!((e==="v4"||!e)&&qq.test(t)||(e==="v6"||!e)&&Gq.test(t))}var Br=class t extends de{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==L.string){let s=this._getOrReturnCtx(e);return j(s,{code:R.invalid_type,expected:L.string,received:s.parsedType}),re}let n=new Pt,i;for(let s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),j(i,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),j(i,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){let o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?j(i,{code:R.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&j(i,{code:R.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")$q.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"email",code:R.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")df||(df=new RegExp(Bq,"u")),df.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"emoji",code:R.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")Mq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"uuid",code:R.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")Fq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"nanoid",code:R.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")Nq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"cuid",code:R.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")kq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"cuid2",code:R.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")Dq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"ulid",code:R.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),j(i,{validation:"url",code:R.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"regex",code:R.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),j(i,{code:R.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),j(i,{code:R.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),j(i,{code:R.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?Vb(s).test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{code:R.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?zq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{code:R.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?Wq(s).test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{code:R.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?Lq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"duration",code:R.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?Jq(e.data,s.version)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"ip",code:R.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?Yq(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"jwt",code:R.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?Zq(e.data,s.version)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"cidr",code:R.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?Hq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"base64",code:R.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?Kq.test(e.data)||(i=this._getOrReturnCtx(e,i),j(i,{validation:"base64url",code:R.invalid_string,message:s.message}),n.dirty()):Ee.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:R.invalid_string,...H.errToObj(n)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...H.errToObj(e)})}url(e){return this._addCheck({kind:"url",...H.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...H.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...H.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...H.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...H.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...H.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...H.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...H.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...H.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...H.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...H.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...H.errToObj(e)})}datetime(e){var r,n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,local:(n=e?.local)!==null&&n!==void 0?n:!1,...H.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...H.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...H.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...H.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...H.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...H.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...H.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...H.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...H.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...H.errToObj(r)})}nonempty(e){return this.min(1,H.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Br.create=t=>{var e;return new Br({checks:[],typeName:ee.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...le(t)})};function Qq(t,e){let r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}var bn=class t extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==L.number){let s=this._getOrReturnCtx(e);return j(s,{code:R.invalid_type,expected:L.number,received:s.parsedType}),re}let n,i=new Pt;for(let s of this._def.checks)s.kind==="int"?Ee.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),j(n,{code:R.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),j(n,{code:R.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),j(n,{code:R.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Qq(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),j(n,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),j(n,{code:R.not_finite,message:s.message}),i.dirty()):Ee.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,H.toString(r))}gt(e,r){return this.setLimit("min",e,!1,H.toString(r))}lte(e,r){return this.setLimit("max",e,!0,H.toString(r))}lt(e,r){return this.setLimit("max",e,!1,H.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:H.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:H.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:H.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:H.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:H.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:H.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ee.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}};bn.create=t=>new bn({checks:[],typeName:ee.ZodNumber,coerce:t?.coerce||!1,...le(t)});var Vi=class t extends de{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==L.bigint)return this._getInvalidInput(e);let n,i=new Pt;for(let s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),j(n,{code:R.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),j(n,{code:R.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),j(n,{code:R.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ee.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return j(r,{code:R.invalid_type,expected:L.bigint,received:r.parsedType}),re}gte(e,r){return this.setLimit("min",e,!0,H.toString(r))}gt(e,r){return this.setLimit("min",e,!1,H.toString(r))}lte(e,r){return this.setLimit("max",e,!0,H.toString(r))}lt(e,r){return this.setLimit("max",e,!1,H.toString(r))}setLimit(e,r,n,i){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:H.toString(i)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:H.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:H.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:H.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:H.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:H.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Vi.create=t=>{var e;return new Vi({checks:[],typeName:ee.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...le(t)})};var En=class extends de{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==L.boolean){let n=this._getOrReturnCtx(e);return j(n,{code:R.invalid_type,expected:L.boolean,received:n.parsedType}),re}return Mt(e.data)}};En.create=t=>new En({typeName:ee.ZodBoolean,coerce:t?.coerce||!1,...le(t)});var Gi=class t extends de{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==L.date){let s=this._getOrReturnCtx(e);return j(s,{code:R.invalid_type,expected:L.date,received:s.parsedType}),re}if(isNaN(e.data.getTime())){let s=this._getOrReturnCtx(e);return j(s,{code:R.invalid_date}),re}let n=new Pt,i;for(let s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),j(i,{code:R.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),j(i,{code:R.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ee.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:H.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:H.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Gi.create=t=>new Gi({checks:[],coerce:t?.coerce||!1,typeName:ee.ZodDate,...le(t)});var qs=class extends de{_parse(e){if(this._getType(e)!==L.symbol){let n=this._getOrReturnCtx(e);return j(n,{code:R.invalid_type,expected:L.symbol,received:n.parsedType}),re}return Mt(e.data)}};qs.create=t=>new qs({typeName:ee.ZodSymbol,...le(t)});var Hi=class extends de{_parse(e){if(this._getType(e)!==L.undefined){let n=this._getOrReturnCtx(e);return j(n,{code:R.invalid_type,expected:L.undefined,received:n.parsedType}),re}return Mt(e.data)}};Hi.create=t=>new Hi({typeName:ee.ZodUndefined,...le(t)});var Ki=class extends de{_parse(e){if(this._getType(e)!==L.null){let n=this._getOrReturnCtx(e);return j(n,{code:R.invalid_type,expected:L.null,received:n.parsedType}),re}return Mt(e.data)}};Ki.create=t=>new Ki({typeName:ee.ZodNull,...le(t)});var Wn=class extends de{constructor(){super(...arguments),this._any=!0}_parse(e){return Mt(e.data)}};Wn.create=t=>new Wn({typeName:ee.ZodAny,...le(t)});var _n=class extends de{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Mt(e.data)}};_n.create=t=>new _n({typeName:ee.ZodUnknown,...le(t)});var wr=class extends de{_parse(e){let r=this._getOrReturnCtx(e);return j(r,{code:R.invalid_type,expected:L.never,received:r.parsedType}),re}};wr.create=t=>new wr({typeName:ee.ZodNever,...le(t)});var Vs=class extends de{_parse(e){if(this._getType(e)!==L.undefined){let n=this._getOrReturnCtx(e);return j(n,{code:R.invalid_type,expected:L.void,received:n.parsedType}),re}return Mt(e.data)}};Vs.create=t=>new Vs({typeName:ee.ZodVoid,...le(t)});var Sn=class t extends de{_parse(e){let{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==L.array)return j(r,{code:R.invalid_type,expected:L.array,received:r.parsedType}),re;if(i.exactLength!==null){let o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(j(r,{code:o?R.too_big:R.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(j(r,{code:R.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(j(r,{code:R.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new dr(r,o,r.path,a)))).then(o=>Pt.mergeArray(n,o));let s=[...r.data].map((o,a)=>i.type._parseSync(new dr(r,o,r.path,a)));return Pt.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:H.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:H.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:H.toString(r)}})}nonempty(e){return this.min(1,e)}};Sn.create=(t,e)=>new Sn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:ee.ZodArray,...le(e)});function $s(t){if(t instanceof At){let e={};for(let r in t.shape){let n=t.shape[r];e[r]=Dt.create($s(n))}return new At({...t._def,shape:()=>e})}else return t instanceof Sn?new Sn({...t._def,type:$s(t.element)}):t instanceof Dt?Dt.create($s(t.unwrap())):t instanceof qr?qr.create($s(t.unwrap())):t instanceof Ur?Ur.create(t.items.map(e=>$s(e))):t}var At=class t extends de{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=Ee.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==L.object){let l=this._getOrReturnCtx(e);return j(l,{code:R.invalid_type,expected:L.object,received:l.parsedType}),re}let{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof wr&&this._def.unknownKeys==="strip"))for(let l in i.data)o.includes(l)||a.push(l);let c=[];for(let l of o){let d=s[l],m=i.data[l];c.push({key:{status:"valid",value:l},value:d._parse(new dr(i,m,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof wr){let l=this._def.unknownKeys;if(l==="passthrough")for(let d of a)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(l==="strict")a.length>0&&(j(i,{code:R.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let l=this._def.catchall;for(let d of a){let m=i.data[d];c.push({key:{status:"valid",value:d},value:l._parse(new dr(i,m,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let l=[];for(let d of c){let m=await d.key,f=await d.value;l.push({key:m,value:f,alwaysSet:d.alwaysSet})}return l}).then(l=>Pt.mergeObjectSync(n,l)):Pt.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return H.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;let c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=H.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ee.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};return Ee.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}omit(e){let r={};return Ee.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new t({...this._def,shape:()=>r})}deepPartial(){return $s(this)}partial(e){let r={};return Ee.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new t({...this._def,shape:()=>r})}required(e){let r={};return Ee.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Dt;)s=s._def.innerType;r[n]=s}}),new t({...this._def,shape:()=>r})}keyof(){return Gb(Ee.objectKeys(this.shape))}};At.create=(t,e)=>new At({shape:()=>t,unknownKeys:"strip",catchall:wr.create(),typeName:ee.ZodObject,...le(e)});At.strictCreate=(t,e)=>new At({shape:()=>t,unknownKeys:"strict",catchall:wr.create(),typeName:ee.ZodObject,...le(e)});At.lazycreate=(t,e)=>new At({shape:t,unknownKeys:"strip",catchall:wr.create(),typeName:ee.ZodObject,...le(e)});var zi=class extends de{_parse(e){let{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(let a of s)if(a.result.status==="valid")return a.result;for(let a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;let o=s.map(a=>new Yt(a.ctx.common.issues));return j(r,{code:R.invalid_union,unionErrors:o}),re}if(r.common.async)return Promise.all(n.map(async s=>{let o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s,o=[];for(let c of n){let l={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:l});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;let a=o.map(c=>new Yt(c));return j(r,{code:R.invalid_union,unionErrors:a}),re}}get options(){return this._def.options}};zi.create=(t,e)=>new zi({options:t,typeName:ee.ZodUnion,...le(e)});var gn=t=>t instanceof Ji?gn(t.schema):t instanceof Zt?gn(t.innerType()):t instanceof Cn?[t.value]:t instanceof xn?t.options:t instanceof Yi?Ee.objectValues(t.enum):t instanceof wn?gn(t._def.innerType):t instanceof Hi?[void 0]:t instanceof Ki?[null]:t instanceof Dt?[void 0,...gn(t.unwrap())]:t instanceof qr?[null,...gn(t.unwrap())]:t instanceof ua||t instanceof Qi?gn(t.unwrap()):t instanceof Zi?gn(t._def.innerType):[],nl=class t extends de{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==L.object)return j(r,{code:R.invalid_type,expected:L.object,received:r.parsedType}),re;let n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(j(r,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),re)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){let i=new Map;for(let s of r){let o=gn(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new t({typeName:ee.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...le(n)})}};function ff(t,e){let r=vn(t),n=vn(e);if(t===e)return{valid:!0,data:t};if(r===L.object&&n===L.object){let i=Ee.objectKeys(e),s=Ee.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(let a of s){let c=ff(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===L.array&&n===L.array){if(t.length!==e.length)return{valid:!1};let i=[];for(let s=0;s<t.length;s++){let o=t[s],a=e[s],c=ff(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===L.date&&n===L.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Wi=class extends de{_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(pf(s)||pf(o))return re;let a=ff(s.value,o.value);return a.valid?((mf(s)||mf(o))&&r.dirty(),{status:r.value,value:a.data}):(j(n,{code:R.invalid_intersection_types}),re)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Wi.create=(t,e,r)=>new Wi({left:t,right:e,typeName:ee.ZodIntersection,...le(r)});var Ur=class t extends de{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==L.array)return j(n,{code:R.invalid_type,expected:L.array,received:n.parsedType}),re;if(n.data.length<this._def.items.length)return j(n,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),re;!this._def.rest&&n.data.length>this._def.items.length&&(j(n,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let s=[...n.data].map((o,a)=>{let c=this._def.items[a]||this._def.rest;return c?c._parse(new dr(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Pt.mergeArray(r,o)):Pt.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};Ur.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ur({items:t,typeName:ee.ZodTuple,rest:null,...le(e)})};var il=class t extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==L.object)return j(n,{code:R.invalid_type,expected:L.object,received:n.parsedType}),re;let i=[],s=this._def.keyType,o=this._def.valueType;for(let a in n.data)i.push({key:s._parse(new dr(n,a,n.path,a)),value:o._parse(new dr(n,n.data[a],n.path,a)),alwaysSet:a in n.data});return n.common.async?Pt.mergeObjectAsync(r,i):Pt.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof de?new t({keyType:e,valueType:r,typeName:ee.ZodRecord,...le(n)}):new t({keyType:Br.create(),valueType:e,typeName:ee.ZodRecord,...le(r)})}},Gs=class extends de{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==L.map)return j(n,{code:R.invalid_type,expected:L.map,received:n.parsedType}),re;let i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new dr(n,a,n.path,[l,"key"])),value:s._parse(new dr(n,c,n.path,[l,"value"]))}));if(n.common.async){let a=new Map;return Promise.resolve().then(async()=>{for(let c of o){let l=await c.key,d=await c.value;if(l.status==="aborted"||d.status==="aborted")return re;(l.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(l.value,d.value)}return{status:r.value,value:a}})}else{let a=new Map;for(let c of o){let l=c.key,d=c.value;if(l.status==="aborted"||d.status==="aborted")return re;(l.status==="dirty"||d.status==="dirty")&&r.dirty(),a.set(l.value,d.value)}return{status:r.value,value:a}}}};Gs.create=(t,e,r)=>new Gs({valueType:e,keyType:t,typeName:ee.ZodMap,...le(r)});var Hs=class t extends de{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==L.set)return j(n,{code:R.invalid_type,expected:L.set,received:n.parsedType}),re;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(j(n,{code:R.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(j(n,{code:R.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let s=this._def.valueType;function o(c){let l=new Set;for(let d of c){if(d.status==="aborted")return re;d.status==="dirty"&&r.dirty(),l.add(d.value)}return{status:r.value,value:l}}let a=[...n.data.values()].map((c,l)=>s._parse(new dr(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new t({...this._def,minSize:{value:e,message:H.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:H.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};Hs.create=(t,e)=>new Hs({valueType:t,minSize:null,maxSize:null,typeName:ee.ZodSet,...le(e)});var sl=class t extends de{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==L.function)return j(r,{code:R.invalid_type,expected:L.function,received:r.parsedType}),re;function n(a,c){return tl({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,el(),Us].filter(l=>!!l),issueData:{code:R.invalid_arguments,argumentsError:c}})}function i(a,c){return tl({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,el(),Us].filter(l=>!!l),issueData:{code:R.invalid_return_type,returnTypeError:c}})}let s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof Jn){let a=this;return Mt(async function(...c){let l=new Yt([]),d=await a._def.args.parseAsync(c,s).catch(h=>{throw l.addIssue(n(c,h)),l}),m=await Reflect.apply(o,this,d);return await a._def.returns._def.type.parseAsync(m,s).catch(h=>{throw l.addIssue(i(m,h)),l})})}else{let a=this;return Mt(function(...c){let l=a._def.args.safeParse(c,s);if(!l.success)throw new Yt([n(c,l.error)]);let d=Reflect.apply(o,this,l.data),m=a._def.returns.safeParse(d,s);if(!m.success)throw new Yt([i(d,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:Ur.create(e).rest(_n.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new t({args:e||Ur.create([]).rest(_n.create()),returns:r||_n.create(),typeName:ee.ZodFunction,...le(n)})}},Ji=class extends de{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ji.create=(t,e)=>new Ji({getter:t,typeName:ee.ZodLazy,...le(e)});var Cn=class extends de{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return j(r,{received:r.data,code:R.invalid_literal,expected:this._def.value}),re}return{status:"valid",value:e.data}}get value(){return this._def.value}};Cn.create=(t,e)=>new Cn({value:t,typeName:ee.ZodLiteral,...le(e)});function Gb(t,e){return new xn({values:t,typeName:ee.ZodEnum,...le(e)})}var xn=class t extends de{constructor(){super(...arguments),ca.set(this,void 0)}_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),n=this._def.values;return j(r,{expected:Ee.joinValues(n),received:r.parsedType,code:R.invalid_type}),re}if(rl(this,ca,"f")||Bb(this,ca,new Set(this._def.values),"f"),!rl(this,ca,"f").has(e.data)){let r=this._getOrReturnCtx(e),n=this._def.values;return j(r,{received:r.data,code:R.invalid_enum_value,options:n}),re}return Mt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}};ca=new WeakMap;xn.create=Gb;var Yi=class extends de{constructor(){super(...arguments),la.set(this,void 0)}_parse(e){let r=Ee.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==L.string&&n.parsedType!==L.number){let i=Ee.objectValues(r);return j(n,{expected:Ee.joinValues(i),received:n.parsedType,code:R.invalid_type}),re}if(rl(this,la,"f")||Bb(this,la,new Set(Ee.getValidEnumValues(this._def.values)),"f"),!rl(this,la,"f").has(e.data)){let i=Ee.objectValues(r);return j(n,{received:n.data,code:R.invalid_enum_value,options:i}),re}return Mt(e.data)}get enum(){return this._def.values}};la=new WeakMap;Yi.create=(t,e)=>new Yi({values:t,typeName:ee.ZodNativeEnum,...le(e)});var Jn=class extends de{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==L.promise&&r.common.async===!1)return j(r,{code:R.invalid_type,expected:L.promise,received:r.parsedType}),re;let n=r.parsedType===L.promise?r.data:Promise.resolve(r.data);return Mt(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Jn.create=(t,e)=>new Jn({type:t,typeName:ee.ZodPromise,...le(e)});var Zt=class extends de{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ee.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{j(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){let o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async a=>{if(r.value==="aborted")return re;let c=await this._def.schema._parseAsync({data:a,path:n.path,parent:n});return c.status==="aborted"?re:c.status==="dirty"||r.value==="dirty"?Bs(c.value):c});{if(r.value==="aborted")return re;let a=this._def.schema._parseSync({data:o,path:n.path,parent:n});return a.status==="aborted"?re:a.status==="dirty"||r.value==="dirty"?Bs(a.value):a}}if(i.type==="refinement"){let o=a=>{let c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){let a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?re:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?re:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){let o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qi(o))return o;let a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>qi(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);Ee.assertNever(i)}};Zt.create=(t,e,r)=>new Zt({schema:t,typeName:ee.ZodEffects,effect:e,...le(r)});Zt.createWithPreprocess=(t,e,r)=>new Zt({schema:e,effect:{type:"preprocess",transform:t},typeName:ee.ZodEffects,...le(r)});var Dt=class extends de{_parse(e){return this._getType(e)===L.undefined?Mt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};Dt.create=(t,e)=>new Dt({innerType:t,typeName:ee.ZodOptional,...le(e)});var qr=class extends de{_parse(e){return this._getType(e)===L.null?Mt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};qr.create=(t,e)=>new qr({innerType:t,typeName:ee.ZodNullable,...le(e)});var wn=class extends de{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return r.parsedType===L.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};wn.create=(t,e)=>new wn({innerType:t,typeName:ee.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...le(e)});var Zi=class extends de{_parse(e){let{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return da(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Yt(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Yt(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Zi.create=(t,e)=>new Zi({innerType:t,typeName:ee.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...le(e)});var Ks=class extends de{_parse(e){if(this._getType(e)!==L.nan){let n=this._getOrReturnCtx(e);return j(n,{code:R.invalid_type,expected:L.nan,received:n.parsedType}),re}return{status:"valid",value:e.data}}};Ks.create=t=>new Ks({typeName:ee.ZodNaN,...le(t)});var Xq=Symbol("zod_brand"),ua=class extends de{_parse(e){let{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},pa=class t extends de{_parse(e){let{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{let s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?re:s.status==="dirty"?(r.dirty(),Bs(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?re:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new t({in:e,out:r,typeName:ee.ZodPipeline})}},Qi=class extends de{_parse(e){let r=this._def.innerType._parse(e),n=i=>(qi(i)&&(i.value=Object.freeze(i.value)),i);return da(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Qi.create=(t,e)=>new Qi({innerType:t,typeName:ee.ZodReadonly,...le(e)});function jb(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function Hb(t,e={},r){return t?Wn.create().superRefine((n,i)=>{var s,o;let a=t(n);if(a instanceof Promise)return a.then(c=>{var l,d;if(!c){let m=jb(e,n),f=(d=(l=m.fatal)!==null&&l!==void 0?l:r)!==null&&d!==void 0?d:!0;i.addIssue({code:"custom",...m,fatal:f})}});if(!a){let c=jb(e,n),l=(o=(s=c.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0;i.addIssue({code:"custom",...c,fatal:l})}}):Wn.create()}var eV={object:At.lazycreate},ee;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(ee||(ee={}));var tV=(t,e={message:`Input not instance of ${t.name}`})=>Hb(r=>r instanceof t,e),Kb=Br.create,zb=bn.create,rV=Ks.create,nV=Vi.create,Wb=En.create,iV=Gi.create,sV=qs.create,oV=Hi.create,aV=Ki.create,cV=Wn.create,lV=_n.create,dV=wr.create,uV=Vs.create,pV=Sn.create,mV=At.create,fV=At.strictCreate,hV=zi.create,yV=nl.create,gV=Wi.create,vV=Ur.create,_V=il.create,bV=Gs.create,EV=Hs.create,SV=sl.create,CV=Ji.create,xV=Cn.create,wV=xn.create,IV=Yi.create,TV=Jn.create,Lb=Zt.create,PV=Dt.create,AV=qr.create,OV=Zt.createWithPreprocess,RV=pa.create,NV=()=>Kb().optional(),kV=()=>zb().optional(),DV=()=>Wb().optional(),MV={string:t=>Br.create({...t,coerce:!0}),number:t=>bn.create({...t,coerce:!0}),boolean:t=>En.create({...t,coerce:!0}),bigint:t=>Vi.create({...t,coerce:!0}),date:t=>Gi.create({...t,coerce:!0})},FV=re,A=Object.freeze({__proto__:null,defaultErrorMap:Us,setErrorMap:Oq,getErrorMap:el,makeIssue:tl,EMPTY_PATH:Rq,addIssueToContext:j,ParseStatus:Pt,INVALID:re,DIRTY:Bs,OK:Mt,isAborted:pf,isDirty:mf,isValid:qi,isAsync:da,get util(){return Ee},get objectUtil(){return uf},ZodParsedType:L,getParsedType:vn,ZodType:de,datetimeRegex:Vb,ZodString:Br,ZodNumber:bn,ZodBigInt:Vi,ZodBoolean:En,ZodDate:Gi,ZodSymbol:qs,ZodUndefined:Hi,ZodNull:Ki,ZodAny:Wn,ZodUnknown:_n,ZodNever:wr,ZodVoid:Vs,ZodArray:Sn,ZodObject:At,ZodUnion:zi,ZodDiscriminatedUnion:nl,ZodIntersection:Wi,ZodTuple:Ur,ZodRecord:il,ZodMap:Gs,ZodSet:Hs,ZodFunction:sl,ZodLazy:Ji,ZodLiteral:Cn,ZodEnum:xn,ZodNativeEnum:Yi,ZodPromise:Jn,ZodEffects:Zt,ZodTransformer:Zt,ZodOptional:Dt,ZodNullable:qr,ZodDefault:wn,ZodCatch:Zi,ZodNaN:Ks,BRAND:Xq,ZodBranded:ua,ZodPipeline:pa,ZodReadonly:Qi,custom:Hb,Schema:de,ZodSchema:de,late:eV,get ZodFirstPartyTypeKind(){return ee},coerce:MV,any:cV,array:pV,bigint:nV,boolean:Wb,date:iV,discriminatedUnion:yV,effect:Lb,enum:wV,function:SV,instanceof:tV,intersection:gV,lazy:CV,literal:xV,map:bV,nan:rV,nativeEnum:IV,never:dV,null:aV,nullable:AV,number:zb,object:mV,oboolean:DV,onumber:kV,optional:PV,ostring:NV,pipeline:RV,preprocess:OV,promise:TV,record:_V,set:EV,strictObject:fV,string:Kb,symbol:sV,transformer:Lb,tuple:vV,undefined:oV,union:hV,unknown:lV,void:uV,NEVER:FV,ZodIssueCode:R,quotelessJson:Aq,ZodError:Yt});var Vr=Symbol("current"),Gr=Symbol("previous");var ma=(t,{ref:e,refType:r,param:n,header:i,...s}={})=>({...s,...t});function Jb(t){if(typeof t.ZodType.prototype.openapi<"u")return;t.ZodType.prototype.openapi=function(s){let{zodOpenApi:o,...a}=this._def,c=new this.constructor({...a,zodOpenApi:{openapi:ma(s,o?.openapi)}});return c._def.zodOpenApi[Vr]=c,o&&(c._def.zodOpenApi[Gr]=this),c};let e=t.ZodType.prototype.describe;t.ZodType.prototype.describe=function(...s){let o=e.apply(this,s),a=o._def;if(a.zodOpenApi){let c={...a.zodOpenApi};c.openapi=ma({description:s[0]},c.openapi),c[Gr]=this,c[Vr]=o,a.zodOpenApi=c}else a.zodOpenApi={openapi:{description:s[0]},[Vr]:o};return o};let r=t.ZodObject.prototype.extend;t.ZodObject.prototype.extend=function(...s){let o=r.apply(this,s),a=o._def.zodOpenApi;if(a){let c={...a};c.openapi=ma({},c.openapi),c[Gr]=this,o._def.zodOpenApi=c}else o._def.zodOpenApi={[Gr]:this};return o};let n=t.ZodObject.prototype.omit;t.ZodObject.prototype.omit=function(...s){let o=n.apply(this,s),a=o._def.zodOpenApi;if(a){let c={...a};c.openapi=ma({},c.openapi),delete c[Gr],delete c[Vr],o._def.zodOpenApi=c}return o};let i=t.ZodObject.prototype.pick;t.ZodObject.prototype.pick=function(...s){let o=i.apply(this,s),a=o._def.zodOpenApi;if(a){let c={...a};c.openapi=ma({},c.openapi),delete c[Gr],delete c[Vr],o._def.zodOpenApi=c}return o}}Jb(A);var jV=A.object({INST_EXPLN_DTL:A.string().nullable().openapi({description:"\uAE30\uAD00\uC124\uBA85\uC0C1\uC138"}),FIAI_MDLCR_INST_CD:A.string().nullable().openapi({description:"\uC751\uAE09\uC758\uB8CC\uAE30\uAD00\uCF54\uB4DC",example:"G006"}),EMRO_TLHN:A.string().nullable().openapi({description:"\uC751\uAE09\uC2E4\uC804\uD654\uBC88\uD638",example:"031-300-0119"}),MDEXM_HR_FRDY_C:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uAE08\uC694\uC77C",example:"1730"}),MDEXM_HR_WDDY_C:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uC218\uC694\uC77C",example:"1730"}),HSPTL_CLSF_NM:A.string().nullable().openapi({description:"\uBCD1\uC6D0\uBD84\uB958\uBA85",example:"\uC885\uD569\uBCD1\uC6D0"}),RPRS_TLHN_1:A.string().nullable().openapi({description:"\uB300\uD45C\uC804\uD654\uBC88\uD638",example:"031-300-0114"}),INST_ID:A.string().nullable().openapi({description:"\uAE30\uAD00\uC544\uC774\uB514",example:"A2100029"}),RMRK:A.string().nullable().openapi({description:"\uBE44\uACE0",example:"- \uC810\uC2EC\uC2DC\uAC04: 12\uC2DC 30\uBD84 ~ 13\uC2DC 30\uBD84"}),HSPTL_CLSF:A.string().nullable().openapi({description:"\uBCD1\uC6D0\uBD84\uB958",example:"A"}),MDEXM_HR_STDY_C:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uD1A0\uC694\uC77C",example:"1230"}),YCRD:A.number().nullable().openapi({description:"Y\uC9C0\uB3C4\uC88C\uD45C",example:4477337182e-3}),MDEXM_HR_MNDY_S:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uC6D4\uC694\uC77C",example:"830"}),MDEXM_HR_TSDY_C:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uD654\uC694\uC77C",example:"1730"}),MDEXM_HR_LHLDY_C:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uACF5\uD734\uC77C"}),FIAI_MDLCR_INST_CD_NM:A.string().nullable().openapi({description:"\uC751\uAE09\uC758\uB8CC\uAE30\uAD00\uCF54\uB4DC\uBA85",example:"\uC9C0\uC5ED\uC751\uAE09\uC758\uB8CC\uC13C\uD130"}),INST_NM:A.string().nullable().openapi({description:"\uAE30\uAD00\uBA85",example:"\uAC15\uB0A8\uBCD1\uC6D0"}),ZIP_2:A.string().nullable().openapi({description:"\uC6B0\uD3B8\uBC88\uD6382",example:"64"}),GID:A.string().nullable().openapi({description:"\uAE30\uAD00\uACE0\uC720\uBC88\uD638",example:"139"}),MDEXM_HR_THDY_S:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uBAA9\uC694\uC77C",example:"830"}),MDEXM_HR_STDY_S:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uD1A0\uC694\uC77C",example:"830"}),ZIP_1:A.string().nullable().openapi({description:"\uC6B0\uD3B8\uBC88\uD6381",example:"170"}),MDEXM_HR_MNDY_C:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uC6D4\uC694\uC77C",example:"1730"}),HSPTL_LOT:A.number().nullable().openapi({description:"\uBCD1\uC6D0\uACBD\uB3C4",example:127.1114072}),MDEXM_HR_TSDY_S:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uD654\uC694\uC77C",example:"830"}),ADDR:A.string().nullable().openapi({description:"\uC8FC\uC18C",example:"\uACBD\uAE30\uB3C4 \uC6A9\uC778\uC2DC \uAE30\uD765\uAD6C \uC911\uBD80\uB300\uB85C 411, \uAC15\uB0A8\uBCD1\uC6D0 (\uC2E0\uAC08\uB3D9)"}),MDEXM_HR_SNDY_S:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uC77C\uC694\uC77C"}),MDEXM_HR_LHLDY_S:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uACF5\uD734\uC77C"}),WKND_OPER_YN:A.string().nullable().openapi({description:"\uC8FC\uB9D0\uC6B4\uC601\uC5EC\uBD80",example:"N"}),MDEXM_HR_THDY_C:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uBAA9\uC694\uC77C",example:"1730"}),XCRD:A.number().nullable().openapi({description:"X\uC9C0\uB3C4\uC88C\uD45C",example:1414997712e-2}),MDEXM_HR_FRDY_S:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uAE08\uC694\uC77C",example:"830"}),ESNS_RGHMP:A.string().nullable().openapi({description:"\uAC04\uC774\uC57D\uB3C4"}),MDEXM_HR_WDDY_S:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uC218\uC694\uC77C",example:"830"}),HSPTL_LAT:A.number().nullable().openapi({description:"\uBCD1\uC6D0\uC704\uB3C4",example:37.27377984}),EMRO_OPER_YN_:A.string().nullable().openapi({description:"\uC751\uAE09\uC2E4\uC6B4\uC601\uC5EC\uBD80",example:"1"}),MDEXM_HR_SNDY_C:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uC77C\uC694\uC77C"}),ADDR_REGION:A.string().nullable().openapi({description:"\uC8FC\uC18C \uC9C0\uC5ED (\uAC80\uC0C9\uC6A9)",example:"\uACBD\uAE30\uB3C4"})}).openapi({ref:"HospitalPoiChema"}),ol=jV;var LV=/^[\w!#$%&'*.^`|~+-]+$/,$V=/^[ !#-:<-[\]-~]*$/,hf=(t,e)=>{if(e&&t.indexOf(e)===-1)return{};let r=t.trim().split(";"),n={};for(let i of r){i=i.trim();let s=i.indexOf("=");if(s===-1)continue;let o=i.substring(0,s).trim();if(e&&e!==o||!LV.test(o))continue;let a=i.substring(s+1).trim();if(a.startsWith('"')&&a.endsWith('"')&&(a=a.slice(1,-1)),$V.test(a)&&(n[o]=ra(a),e))break}return n};var Yb=(t,e,r)=>{let n=t.req.raw.headers.get("Cookie");if(typeof e=="string"){if(!n)return;let s=e;return r==="secure"?s="__Secure-"+e:r==="host"&&(s="__Host-"+e),hf(n,s)[s]}return n?hf(n):{}};var Zb=(t,e)=>new Response(t,{headers:{"Content-Type":e}}).formData();var BV=/^application\/([a-z-\.]+\+)?json(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,UV=/^multipart\/form-data(;\s?boundary=[a-zA-Z0-9'"()+_,\-./:=?]+)?$/,qV=/^application\/x-www-form-urlencoded(;\s*[a-zA-Z0-9\-]+\=([^;]+))*$/,yf=(t,e)=>async(r,n)=>{let i={},s=r.req.header("Content-Type");switch(t){case"json":if(!s||!BV.test(s))break;try{i=await r.req.json()}catch{let a="Malformed JSON in request body";throw new Bi(400,{message:a})}break;case"form":{if(!s||!(UV.test(s)||qV.test(s)))break;let a;if(r.req.bodyCache.formData)a=await r.req.bodyCache.formData;else try{let l=await r.req.arrayBuffer();a=await Zb(l,s),r.req.bodyCache.formData=a}catch(l){let d="Malformed FormData request.";throw d+=l instanceof Error?` ${l.message}`:` ${String(l)}`,new Bi(400,{message:d})}let c={};a.forEach((l,d)=>{d.endsWith("[]")?(c[d]??=[]).push(l):Array.isArray(c[d])?c[d].push(l):d in c?c[d]=[c[d],l]:c[d]=l}),i=c;break}case"query":i=Object.fromEntries(Object.entries(r.req.queries()).map(([a,c])=>c.length===1?[a,c[0]]:[a,c]));break;case"param":i=r.req.param();break;case"header":i=r.req.header();break;case"cookie":i=Yb(r);break}let o=await e(i,r);if(o instanceof Response)return o;r.req.addValidatedData(t,o),await n()};var Qb=(t,e,r,n)=>yf(t,async(i,s)=>{let o=i;if(t==="header"&&e instanceof At){let c=Object.keys(e.shape),l=Object.fromEntries(c.map(d=>[d.toLowerCase(),d]));o=Object.fromEntries(Object.entries(i).map(([d,m])=>[l[d]||d,m]))}let a=n&&n.validationFunction?await n.validationFunction(e,o):await e.safeParseAsync(o);if(r){let c=await r({data:o,...a,target:t},s);if(c){if(c instanceof Response)return c;if("response"in c)return c.response}}return a.success?a.data:s.json(a,400)});var ce=(t,e)=>{var r;return((r=t?._def)==null?void 0:r.typeName)===e},cl=t=>{var e;return!!((e=t?._def)!=null&&e.typeName)},Xb=["3.0.0","3.0.1","3.0.2","3.0.3","3.1.0"],Hr=(t,e)=>Xb.indexOf(t)>=Xb.indexOf(e),vf=(t,e,r)=>Hr(r.components.openapi,"3.1.0")?{type:"ref",schema:{$ref:t.schema.$ref,description:e},zodType:t.zodType,effects:t.effects,schemaObject:t.schemaObject}:{type:"schema",schema:{description:e,allOf:[t.schema]},effects:t.effects},_f=(t,e)=>{if(typeof t!=typeof e)return!1;if(typeof t=="string"||typeof t=="number"||typeof t=="boolean")return t===e;if(Array.isArray(t)&&Array.isArray(e)){let r=[...t].sort(),n=[...e].sort();return r.every((i,s)=>_f(i,n[s]))}return t===null||e===null?t===e:typeof t=="object"&&typeof e=="object"?Object.keys(t).every(n=>_f(t[n],e[n])):t===e},xf=(t,e,r,n)=>{let i=Object.entries(e).reduce((o,[a,c])=>(c===void 0||(o[a]=c),o),{}),s=Object.values(i).length;if(t.type==="ref")return s===0?t:s===1&&e.description?vf(t,e.description,r):{type:"schema",schema:{allOf:[t.schema],...e},effects:t.effects};if(n&&t.schema.type!=="object"){let o=Object.entries({...t.schema,...i}).reduce((c,[l,d])=>(n.schemaObject&&_f(n.schemaObject[l],d)||(c[l]=d),c),{}),a=Object.values(o).length;return a===0?{type:"ref",schema:{$ref:n.schema.$ref},effects:t.effects,schemaObject:n.schemaObject,zodType:n.zodType}:a===1&&typeof o.description=="string"?vf(n,o.description,r):{type:"schema",schema:{allOf:[n.schema],...o},effects:t.effects}}return{type:"schema",schema:{...t.schema,...e},effects:t.effects}},VV=(t,e)=>{var r,n,i,s;let o=t._def.type,a=((r=t._def.exactLength)==null?void 0:r.value)??((n=t._def.minLength)==null?void 0:n.value),c=((i=t._def.exactLength)==null?void 0:i.value)??((s=t._def.maxLength)==null?void 0:s.value),l=Te(o,e,["array items"]);return{type:"schema",schema:{type:"array",items:l.schema,...a!==void 0&&{minItems:a},...c!==void 0&&{maxItems:c}},effects:l.effects}},GV=t=>({type:"schema",schema:{type:"integer",format:"int64"}}),HV=t=>({type:"schema",schema:{type:"boolean"}}),KV=(t,e)=>Te(t._def.type,e,["brand"]),zV=(t,e,r)=>{let n=Te(t._def.innerType,e,["default"]),i=t.safeParse(void 0),s=i.success?{default:i.data}:{};return xf(n,s,e,r)},WV=(t,e)=>{var r;return{type:"schema",schema:((r=e.documentOptions)==null?void 0:r.defaultDateSchema)??{type:"string"}}},JV=(t,e,r)=>{let n=Te(t._def.innerType,e,["default"]);return xf(n,{default:t._def.defaultValue()},e,r)},bf=(t,e)=>{let r=YV(t._def.values),{numbers:n,strings:i}=ZV(r);return i.length&&n.length?Hr(e.components.openapi,"3.1.0")?{type:"schema",schema:{type:["string","number"],enum:[...i,...n]}}:{type:"schema",schema:{oneOf:[{type:"string",enum:i},{type:"number",enum:n}]}}:i.length?{type:"schema",schema:{type:"string",enum:i}}:{type:"schema",schema:{type:"number",enum:n}}},YV=t=>Object.keys(t).filter(r=>typeof t[t[r]]!="number").map(r=>t[r]),ZV=t=>({strings:t.filter(e=>typeof e=="string"),numbers:t.filter(e=>typeof e=="number")}),QV=(t,e)=>{var r,n,i,s,o,a;if(((n=(r=t._def.zodOpenApi)==null?void 0:r.openapi)==null?void 0:n.effectType)==="output")return{type:"schema",schema:eE(t,e)};if(((s=(i=t._def.zodOpenApi)==null?void 0:i.openapi)==null?void 0:s.effectType)==="input"||((a=(o=t._def.zodOpenApi)==null?void 0:o.openapi)==null?void 0:a.effectType)==="same")return Te(t._def.schema,e,["transform input"]);if(e.type==="output")return{type:"schema",schema:eE(t,e)};let c=Te(t._def.schema,e,["transform input"]);return{...c,effects:Ft([[{type:"schema",creationType:"input",zodType:t,path:[...e.path]}],c.effects])}},eE=(t,e)=>{var r,n,i;if(!((n=(r=t._def.zodOpenApi)==null?void 0:r.openapi)!=null&&n.type)){let o=`${t.constructor.name} - ${t._def.effect.type}`;throw new Error(`Failed to determine a type for ${o} at ${e.path.join(" > ")}. Please change the 'effectType' to 'same' or 'input', wrap it in a ZodPipeline or assign it a manual 'type'.`)}return{type:(i=t._def.zodOpenApi)==null?void 0:i.openapi.type}},tE=t=>ce(t,"ZodEffects")?`${t._def.typeName} - ${t._def.effect.type}`:t._def.typeName,iE=t=>{let e=tE(t.zodType),r=t.creationType,n=r==="input"?"output":"input";throw new Error(`The ${e} at ${t.path.join(" > ")} is used within a registered compoment schema${t.component?` (${t.component.ref})`:""} and contains an ${r} transformation${t.component?` (${tE(t.component.zodType)}) defined at ${t.component.path.join(" > ")}`:""} which is also used in an ${n} schema.

This may cause the schema to render incorrectly and is most likely a mistake. You can resolve this by:

1. Setting an \`effectType\` on one of the transformations to \`same\` (Not applicable for ZodDefault), \`input\` or \`output\` eg. \`.openapi({type: 'same'})\`
2. Wrapping the transformation in a ZodPipeline
3. Assigning a manual type to the transformation eg. \`.openapi({type: 'string'})\`
4. Removing the transformation
5. Deregister the component containing the transformation`)},XV=(t,e)=>{if(t.type==="schema")return{creationType:t.creationType,path:t.path,zodType:t.zodType};if(t.type==="component"){if(e.visited.has(t.zodType))return;let r=e.components.schemas.get(t.zodType);if(r?.type!=="complete")throw new Error("Something went wrong, component schema is not complete");if(r.resolvedEffect)return{creationType:r.resolvedEffect.creationType,path:t.path,zodType:t.zodType,component:{ref:r.ref,zodType:r.resolvedEffect.zodType,path:r.resolvedEffect.path}};if(!r.effects)return;e.visited.add(t.zodType);let n=sE(r.effects,e);return e.visited.delete(t.zodType),n?(r.resolvedEffect=n,n):void 0}},sE=(t,e)=>{let{input:r,output:n}=t.reduce((i,s)=>{let o=XV(s,e);return o?.creationType==="input"&&i.input.push(o),o?.creationType==="output"&&i.output.push(o),o&&i.input.length>1&&i.output.length>1&&iE(o),i},{input:[],output:[]});if(r.length>0)return r[0];if(n.length>0)return n[0]},eG=(t,e)=>{let r=sE(t,e);r?.creationType&&r.creationType!==e.type&&iE(r)},Ft=t=>{let e=t.reduce((r,n)=>n?r.concat(n):r,[]);return e.length?e:void 0},tG=(t,e)=>{let r=t.options,n=r.map((o,a)=>Te(o,e,[`discriminated union option ${a}`])),i=n.map(o=>o.schema),s=rG(i,r,t.discriminator,e);return{type:"schema",schema:{oneOf:i,...s&&{discriminator:s}},effects:Ft(n.map(o=>o.effects))}},al=(t,e)=>{if(ce(t,"ZodLiteral"))return typeof t._def.value!="string"?void 0:[t._def.value];if(ce(t,"ZodNativeEnum")){let r=bf(t,e);if(r.type==="schema"&&r.schema.type==="string")return r.schema.enum}if(ce(t,"ZodEnum"))return t._def.values;if(ce(t,"ZodBranded"))return al(t._def.type,e);if(ce(t,"ZodReadonly")||ce(t,"ZodCatch"))return al(t._def.innerType,e)},rG=(t,e,r,n)=>{var i;if(typeof r!="string")return;let s={};for(let[o,a]of e.entries()){let c=t[o],l="$ref"in c?c?.$ref:void 0;if(!l){if((i=n.documentOptions)!=null&&i.enforceDiscriminatedUnionComponents)throw new Error(`Discriminated Union member ${o} at ${n.path.join(" > ")} is not registered as a component`);return}let d=a.shape[r],m=al(d,n);if(!m)return;for(let f of m)s[f]=l}return{propertyName:r,mapping:s}},nG=t=>({type:"schema",schema:{type:"string",enum:t._def.values}}),iG=(t,e)=>{let n=Ef(t).map((i,s)=>Te(i,e,[`intersection ${s}`]));return{type:"schema",schema:{allOf:n.map(i=>i.schema)},effects:Ft(n.map(i=>i.effects))}},Ef=t=>{if(!ce(t,"ZodIntersection"))return[t];let e=Ef(t._def.left),r=Ef(t._def.right);return[...e,...r]},sG=(t,e)=>{let r=t._def.getter();return Te(r,e,["lazy schema"])},oE=()=>({type:"schema",schema:{type:"null"}}),oG=(t,e)=>t.value===null?oE():Hr(e.components.openapi,"3.1.0")?{type:"schema",schema:{type:typeof t.value,const:t.value}}:{type:"schema",schema:{type:typeof t.value,enum:[t.value]}},rE=(t,e)=>{var r,n,i;if(!((n=(r=t._def.zodOpenApi)==null?void 0:r.openapi)!=null&&n.type)){let s=t.constructor.name;throw new Error(`Unknown schema ${s} at ${e.path.join(" > ")}. Please assign it a manual 'type'.`)}return{type:"schema",schema:{type:(i=t._def.zodOpenApi)==null?void 0:i.openapi.type}}},aG=(t,e)=>{let r=Te(t.unwrap(),e,["nullable"]);if(Hr(e.components.openapi,"3.1.0")){if(r.type==="ref"||r.schema.allOf)return{type:"schema",schema:{oneOf:gf([r.schema],e.components.openapi)},effects:r.effects};if(r.schema.oneOf){let{oneOf:c,...l}=r.schema;return{type:"schema",schema:{oneOf:gf(c,e.components.openapi),...l},effects:r.effects}}if(r.schema.anyOf){let{anyOf:c,...l}=r.schema;return{type:"schema",schema:{anyOf:gf(c,e.components.openapi),...l},effects:r.effects}}let{type:s,const:o,...a}=r.schema;return o?{type:"schema",schema:{type:nE(s),enum:[o,null],...a},effects:r.effects}:{type:"schema",schema:{type:nE(s),...a,...a.enum&&{enum:[...a.enum,null]}},effects:r.effects}}if(r.type==="ref")return{type:"schema",schema:{allOf:[r.schema],nullable:!0},effects:r.effects};let{type:n,...i}=r.schema;return{type:"schema",schema:{...n&&{type:n},nullable:!0,...i,...i.enum&&{enum:[...i.enum,null]}},effects:r.effects}},nE=t=>t?Array.isArray(t)?[...t,"null"]:[t,"null"]:"null",gf=(t,e)=>Hr(e,"3.1.0")?[...t,{type:"null"}]:[...t,{nullable:!0}],cG=(t,e)=>{let r=pG(t),n=uG(r,e.components.openapi),i=dG(r,e.components.openapi),s=lG(r);return{type:"schema",schema:{type:mG(r),...s&&s,...n&&n,...i&&i}}},lG=t=>t.multipleOf?{multipleOf:t.multipleOf.value}:void 0,dG=(t,e)=>{if(!t.max)return;let r=t.max.value;return t.max.inclusive?{...r!==void 0&&{maximum:r}}:Hr(e,"3.1.0")?{exclusiveMaximum:r}:{maximum:r,exclusiveMaximum:!0}},uG=(t,e)=>{if(!t.min)return;let r=t.min.value;return t.min.inclusive?{...r!==void 0&&{minimum:r}}:Hr(e,"3.1.0")?{exclusiveMinimum:r}:{minimum:r,exclusiveMinimum:!0}},pG=t=>t._def.checks.reduce((e,r)=>(e[r.kind]=r,e),{}),mG=t=>t.int?"integer":"number",fG=(t,e)=>Te(t.unwrap(),e,["optional"]),aE=t=>ce(t,"ZodNever")||ce(t,"ZodUndefined")||ce(t,"ZodLiteral")&&t._def.value===void 0,hG=(t,e,r)=>{let n=yG(t,e?.zodType,r);return n||cE(t.shape,{unknownKeys:t._def.unknownKeys,catchAll:t._def.catchall},r)},yG=(t,e,r)=>{var n,i,s,o,a;if(!e)return;(r.components.schemas.get(e)??((i=(n=e._def.zodOpenApi)==null?void 0:n.openapi)==null?void 0:i.ref))&&Te(e,r,["extended schema"]);let l=r.components.schemas.get(e);if(!l)return;let d=gG({unknownKeys:e._def.unknownKeys,catchAll:e._def.catchall},{unknownKeys:t._def.unknownKeys,catchAll:t._def.catchall});if(!d)return;let m=vG(e._def.shape(),t._def.shape());if(!m)return;let f=cE(m,d,r,!0),h=Object.keys(f.schema).length,y=Ft([l.type==="complete"?l.effects:[],l.type==="in-progress"?[{type:"component",zodType:t,path:[...r.path]}]:[],f.effects]);return h===0?{type:"ref",schema:{$ref:zs(l.ref,(s=r.documentOptions)==null?void 0:s.componentRefPath)},schemaObject:l.type==="complete"?l.schemaObject:void 0,zodType:t,effects:y}:h===1&&f.schema.description?vf({type:"ref",schema:{$ref:zs(l.ref,(o=r.documentOptions)==null?void 0:o.componentRefPath)},schemaObject:l.type==="complete"?l.schemaObject:void 0,zodType:t,effects:y},f.schema.description,r):{type:"schema",schema:{allOf:[{$ref:zs(l.ref,(a=r.documentOptions)==null?void 0:a.componentRefPath)}],...f.schema},effects:Ft([l.type==="complete"?l.effects:[],l.type==="in-progress"?[{type:"component",zodType:t,path:[...r.path]}]:[],f.effects])}},gG=(t,e)=>{if(!(t.unknownKeys==="strict"||!ce(t.catchAll,"ZodNever")))return{catchAll:e.catchAll,unknownKeys:e.unknownKeys}},vG=(t,e)=>{let r={};for(let[n,i]of Object.entries(e)){let s=t[n];if(i!==s){if(s===void 0){r[n]=e[n];continue}return null}}return r},_G=({unknownKeys:t,catchAll:e},r)=>{if(!ce(e,"ZodNever"))return Te(e,r,["additional properties"]);if(t==="strict")return!1;if(t==="passthrough")return!0},cE=(t,{unknownKeys:e,catchAll:r},n,i)=>{let s=EG(t,n),o=bG(s,t,n),a=_G({catchAll:r,unknownKeys:e},n);return{type:"schema",schema:{...!i&&{type:"object"},...s&&{properties:s.properties},...o?.required.length&&{required:o.required},...a!==void 0&&{additionalProperties:typeof a=="object"?a.schema:a}},effects:Ft([...s?.effects??[],typeof a=="object"&&a?.effects,o?.effects])}},bG=(t,e,r)=>{if(!t)return;let{required:n,effects:i}=Object.entries(t.schemas).reduce((s,[o,a])=>{let c=e[o];if(!c)throw new Error("Property somehow doesn't exist in shape");let l=c.safeParse(void 0);if(!l.success)return s.required.push(o),s;if(l.data!==void 0){let d={zodType:c,path:[...r.path,`property: ${o}`]},m=a.type==="ref"?{...d,type:"component"}:{...d,type:"schema",creationType:r.type};s.effects.push(m),r.type==="output"&&s.required.push(o)}return s},{required:[],effects:[]});return{required:n,effects:i}},EG=(t,e)=>{let r=Object.entries(t);if(r.length)return r.reduce((n,[i,s])=>{if(aE(s))return n;let o=Te(s,e,[`property: ${i}`]);return n.schemas[i]=o,n.properties[i]=o.schema,n.effects.push(o.effects),n},{schemas:{},properties:{},effects:[]})},SG=(t,e)=>{var r,n,i,s,o,a;if(((n=(r=t._def.zodOpenApi)==null?void 0:r.openapi)==null?void 0:n.effectType)==="input"||((s=(i=t._def.zodOpenApi)==null?void 0:i.openapi)==null?void 0:s.effectType)==="same")return Te(t._def.in,e,["pipeline input"]);if(((a=(o=t._def.zodOpenApi)==null?void 0:o.openapi)==null?void 0:a.effectType)==="output")return Te(t._def.out,e,["pipeline output"]);if(e.type==="input"){let l=Te(t._def.in,e,["pipeline input"]);return{...l,effects:Ft([[{type:"schema",creationType:"input",path:[...e.path],zodType:t}],l.effects])}}let c=Te(t._def.out,e,["pipeline output"]);return{...c,effects:Ft([[{type:"schema",creationType:"output",path:[...e.path],zodType:t}],c.effects])}},CG=(t,e)=>Te(t._def.schema,e,["preprocess schema"]),xG=(t,e)=>Te(t._def.innerType,e,["readonly"]),wG=(t,e)=>{let r=Te(t.valueSchema,e,["record value"]),n=Te(t.keySchema,e,["record key"]),i=e.components.schemas.get(t.keySchema),s=i&&i.type==="complete",o=s&&i.schemaObject,a=s&&i.effects||void 0,c=o||n.schema;return"enum"in c&&c.enum?{type:"schema",schema:{type:"object",properties:c.enum.reduce((l,d)=>(l[d]=r.schema,l),{}),additionalProperties:!1},effects:Ft([n.effects,r.effects,a])}:Hr(e.components.openapi,"3.1.0")&&"type"in c&&c.type==="string"&&Object.keys(c).length>1?{type:"schema",schema:{type:"object",propertyNames:n.schema,additionalProperties:r.schema},effects:Ft([n.effects,r.effects])}:{type:"schema",schema:{type:"object",additionalProperties:r.schema},effects:r.effects}},IG=(t,e)=>Te(t._def.schema,e,["refine schema"]),TG=(t,e)=>{var r,n;let i=t._def.valueType,s=(r=t._def.minSize)==null?void 0:r.value,o=(n=t._def.maxSize)==null?void 0:n.value,a=Te(i,e,["set items"]);return{type:"schema",schema:{type:"array",items:a.schema,uniqueItems:!0,...s!==void 0&&{minItems:s},...o!==void 0&&{maxItems:o}},effects:a.effects}},PG=(t,e)=>{var r,n,i,s,o,a,c,l;let d=AG(t),m=MG(d),f=OG(d),h=((n=(r=d.length)==null?void 0:r[0])==null?void 0:n.value)??((s=(i=d.min)==null?void 0:i[0])==null?void 0:s.value),y=((a=(o=d.length)==null?void 0:o[0])==null?void 0:a.value)??((l=(c=d.max)==null?void 0:c[0])==null?void 0:l.value),v=Hr(e.components.openapi,"3.1.0")?FG(d):void 0;return f.length<=1?{type:"schema",schema:{type:"string",...m&&{format:m},...f[0]&&{pattern:f[0]},...h!==void 0&&{minLength:h},...y!==void 0&&{maxLength:y},...v&&{contentEncoding:v}}}:{type:"schema",schema:{allOf:[{type:"string",...m&&{format:m},...f[0]&&{pattern:f[0]},...h!==void 0&&{minLength:h},...y!==void 0&&{maxLength:y},...v&&{contentEncoding:v}},...f.slice(1).map(g=>({type:"string",pattern:g}))]}}},AG=t=>t._def.checks.reduce((e,r)=>{let n=e[r.kind];return n?(n.push(r),e):(e[r.kind]=[r],e)},{}),OG=t=>{let e=RG(t),r=NG(t),n=kG(t),i=DG(t);return[...n??[],...e?[e]:[],...r?[r]:[],...i??[]]},RG=t=>{var e,r;if((r=(e=t.startsWith)==null?void 0:e[0])!=null&&r.value)return`^${t.startsWith[0].value}`},NG=t=>{var e,r;if((r=(e=t.endsWith)==null?void 0:e[0])!=null&&r.value)return`${t.endsWith[0].value}$`},kG=t=>{var e;return(e=t.regex)==null?void 0:e.map(r=>r.regex.source)},DG=t=>{var e;return(e=t.includes)==null?void 0:e.map(r=>r.position===0?`^${r.value}`:r.position?`^.{${r.position}}${r.value}`:r.value)},MG=t=>{var e,r,n,i;if(t.uuid)return"uuid";if(t.datetime)return"date-time";if(t.date)return"date";if(t.time)return"time";if(t.duration)return"duration";if(t.email)return"email";if(t.url)return"uri";if((e=t.ip)!=null&&e.every(s=>s.version==="v4"))return"ipv4";if((r=t.ip)!=null&&r.every(s=>s.version==="v6"))return"ipv6";if((n=t.cidr)!=null&&n.every(s=>s.version==="v4"))return"ipv4";if((i=t.cidr)!=null&&i.every(s=>s.version==="v6"))return"ipv6"},FG=t=>{if(t.base64)return"base64"},jG=(t,e)=>{let r=t.items,n=t._def.rest,i=LG(r,e);if(Hr(e.components.openapi,"3.1.0")){if(!n)return{type:"schema",schema:{type:"array",maxItems:r.length,minItems:r.length,...i&&{prefixItems:i.schemas.map(o=>o.schema)}},effects:i?.effects};let s=Te(n,e,["tuple items"]);return{type:"schema",schema:{type:"array",items:s.schema,...i&&{prefixItems:i.schemas.map(o=>o.schema)}},effects:Ft([i?.effects,s.effects])}}if(!n)return{type:"schema",schema:{type:"array",maxItems:r.length,minItems:r.length,...i&&{items:{oneOf:i.schemas.map(s=>s.schema)}}},effects:i?.effects};if(i){let s=Te(n,e,["tuple items"]);return{type:"schema",schema:{type:"array",items:{oneOf:[...i.schemas.map(o=>o.schema),s.schema]}},effects:Ft([s.effects,i.effects])}}return{type:"schema",schema:{type:"array"}}},LG=(t,e)=>{if(t.length){let r=t.map((n,i)=>Te(n,e,[`tuple item ${i}`]));return{effects:Ft(r.map(n=>n.effects)),schemas:r}}},$G=(t,e)=>{var r,n,i;let s=t.options.reduce((o,a,c)=>(aE(a)||o.push(Te(a,e,[`union option ${c}`])),o),[]);return((n=(r=t._def.zodOpenApi)==null?void 0:r.openapi)==null?void 0:n.unionOneOf)??((i=e.documentOptions)==null?void 0:i.unionOneOf)?{type:"schema",schema:{oneOf:s.map(o=>o.schema)},effects:Ft(s.map(o=>o.effects))}:{type:"schema",schema:{anyOf:s.map(o=>o.schema)},effects:Ft(s.map(o=>o.effects))}},BG=t=>({type:"schema",schema:{}}),UG=(t,e,r)=>{var n,i;return(i=(n=t._def.zodOpenApi)==null?void 0:n.openapi)!=null&&i.type?rE(t,r):ce(t,"ZodString")?PG(t,r):ce(t,"ZodNumber")?cG(t,r):ce(t,"ZodBoolean")?HV():ce(t,"ZodEnum")?nG(t):ce(t,"ZodLiteral")?oG(t,r):ce(t,"ZodNativeEnum")?bf(t,r):ce(t,"ZodArray")?VV(t,r):ce(t,"ZodObject")?hG(t,e,r):ce(t,"ZodUnion")?$G(t,r):ce(t,"ZodDiscriminatedUnion")?tG(t,r):ce(t,"ZodNull")?oE():ce(t,"ZodNullable")?aG(t,r):ce(t,"ZodOptional")?fG(t,r):ce(t,"ZodReadonly")?xG(t,r):ce(t,"ZodDefault")?JV(t,r,e):ce(t,"ZodRecord")?wG(t,r):ce(t,"ZodTuple")?jG(t,r):ce(t,"ZodDate")?WV(t,r):ce(t,"ZodPipeline")?SG(t,r):ce(t,"ZodEffects")&&t._def.effect.type==="transform"?QV(t,r):ce(t,"ZodEffects")&&t._def.effect.type==="preprocess"?CG(t,r):ce(t,"ZodEffects")&&t._def.effect.type==="refinement"?IG(t,r):ce(t,"ZodNativeEnum")?bf(t,r):ce(t,"ZodIntersection")?iG(t,r):ce(t,"ZodCatch")?zV(t,r,e):ce(t,"ZodUnknown")||ce(t,"ZodAny")?BG():ce(t,"ZodLazy")?sG(t,r):ce(t,"ZodBranded")?KV(t,r):ce(t,"ZodSet")?TG(t,r):ce(t,"ZodBigInt")?GV():rE(t,r)},Sf=({zodSchema:t,previous:e,state:r})=>{var n;if(r.visited.has(t))throw new Error(`The schema at ${r.path.join(" > ")} needs to be registered because it's circularly referenced`);r.visited.add(t);let{effectType:i,param:s,header:o,ref:a,refType:c,unionOneOf:l,...d}=((n=t._def.zodOpenApi)==null?void 0:n.openapi)??{},m=UG(t,e,r),f=xf(m,d,r,e);return r.visited.delete(t),f},qG=({previous:t,ref:e,zodSchema:r,state:n})=>{var i;n.components.schemas.set(r,{type:"in-progress",ref:e});let s=Sf({zodSchema:r,previous:t,state:{...n,visited:new Set}});return n.components.schemas.set(r,{type:"complete",ref:e,schemaObject:s.schema,effects:s.effects}),{type:"ref",schema:{$ref:zs(e,(i=n.documentOptions)==null?void 0:i.componentRefPath)},schemaObject:s.schema,effects:s.effects?[{type:"component",zodType:r,path:[...n.path]}]:void 0,zodType:r}},VG=(t,e,r)=>{var n,i;if(e&&e.type==="complete")return{type:"ref",schema:{$ref:zs(e.ref,(n=r.documentOptions)==null?void 0:n.componentRefPath)},schemaObject:e.schemaObject,effects:e.effects?[{type:"component",zodType:t,path:[...r.path]}]:void 0,zodType:t};if(e&&e.type==="in-progress")return{type:"ref",schema:{$ref:zs(e.ref,(i=r.documentOptions)==null?void 0:i.componentRefPath)},schemaObject:void 0,effects:[{type:"component",zodType:t,path:[...r.path]}],zodType:t}},Cf=(t,e,r)=>{var n,i,s,o;let a=e.components.schemas.get(t),c=VG(t,a,e);if(c)return c;let l=(n=t._def.zodOpenApi)!=null&&n[Gr]?Cf(t._def.zodOpenApi[Gr],e,!0):void 0,d=(i=t._def.zodOpenApi)!=null&&i[Vr]&&t._def.zodOpenApi[Vr]!==t?Cf(t._def.zodOpenApi[Vr],e,!0):void 0,m=((o=(s=t._def.zodOpenApi)==null?void 0:s.openapi)==null?void 0:o.ref)??a?.ref;return m?d?Sf({zodSchema:t,previous:d,state:e}):qG({ref:m,zodSchema:t,previous:l,state:e}):r?l??d:Sf({zodSchema:t,previous:l??d,state:e})},Te=(t,e,r)=>{e.path.push(...r);let n=Cf(t,e);if(!n)throw new Error("Schema does not exist");return e.path.pop(),n},wf=(t,e,r)=>{let n=Te(t,e,r);return n.effects&&eG(n.effects,e),n.schema};var lE=(t,e="3.1.0")=>{let r={schemas:new Map,parameters:new Map,headers:new Map,requestBodies:new Map,responses:new Map,callbacks:new Map,openapi:e};return t&&(GG(t.schemas,r),HG(t.parameters,r),WG(t.requestBodies,r),KG(t.headers,r),zG(t.responses,r),JG(t.callbacks,r)),r},GG=(t,e)=>{t&&Object.entries(t).forEach(([r,n])=>{var i,s;if(cl(n)){if(e.schemas.has(n))throw new Error(`Schema ${JSON.stringify(n._def)} is already registered`);let o=((s=(i=n._def.zodOpenApi)==null?void 0:i.openapi)==null?void 0:s.ref)??r;e.schemas.set(n,{type:"manual",ref:o})}})},HG=(t,e)=>{t&&Object.entries(t).forEach(([r,n])=>{var i,s,o,a,c,l,d,m,f;if(cl(n)){if(e.parameters.has(n))throw new Error(`Parameter ${JSON.stringify(n._def)} is already registered`);let h=((o=(s=(i=n._def.zodOpenApi)==null?void 0:i.openapi)==null?void 0:s.param)==null?void 0:o.ref)??r,y=(l=(c=(a=n._def.zodOpenApi)==null?void 0:a.openapi)==null?void 0:c.param)==null?void 0:l.name,v=(f=(m=(d=n._def.zodOpenApi)==null?void 0:d.openapi)==null?void 0:m.param)==null?void 0:f.in;if(!y||!v)throw new Error("`name` or `in` missing in .openapi()");e.parameters.set(n,{type:"manual",ref:h,in:v,name:y})}})},KG=(t,e)=>{t&&Object.entries(t).forEach(([r,n])=>{var i,s,o;if(cl(n)){if(e.parameters.has(n))throw new Error(`Header ${JSON.stringify(n._def)} is already registered`);let a=((o=(s=(i=n._def.zodOpenApi)==null?void 0:i.openapi)==null?void 0:s.param)==null?void 0:o.ref)??r;e.headers.set(n,{type:"manual",ref:a})}})},zG=(t,e)=>{t&&Object.entries(t).forEach(([r,n])=>{if(e.responses.has(n))throw new Error(`Header ${JSON.stringify(n)} is already registered`);let i=n?.ref??r;e.responses.set(n,{type:"manual",ref:i})})},WG=(t,e)=>{t&&Object.entries(t).forEach(([r,n])=>{if(e.requestBodies.has(n))throw new Error(`Header ${JSON.stringify(n)} is already registered`);let i=n?.ref??r;e.requestBodies.set(n,{type:"manual",ref:i})})},JG=(t,e)=>{t&&Object.entries(t).forEach(([r,n])=>{if(e.callbacks.has(n))throw new Error(`Callback ${JSON.stringify(n)} is already registered`);let i=n?.ref??r;e.callbacks.set(n,{type:"manual",ref:i})})},zs=(t,e)=>`${e??"#/components/schemas/"}${t}`;var dE=(t,e,r)=>{Array.from(e.schemas).forEach(([s,{type:o}],a)=>{var c,l;if(o==="manual"){let d={components:e,type:((l=(c=s._def.zodOpenApi)==null?void 0:c.openapi)==null?void 0:l.refType)??"output",path:[],visited:new Set,documentOptions:r};wf(s,d,[`component schema index ${a}`])}});let n=Object.entries(t.schemas??{}).reduce((s,[o,a])=>{if(cl(a))return s;if(s[o])throw new Error(`Schema "${o}" is already registered`);return s[o]=a,s},{}),i=Array.from(e.schemas).reduce((s,[o,a])=>{if(a.type==="complete"){if(s[a.ref])throw new Error(`Schema "${a.ref}" is already registered`);s[a.ref]=a.schemaObject}return s},n);return Object.keys(i).length?i:void 0};var uE=(t,e)=>{let r=lE({schemas:e?.components},e?.openapi),n={components:r,type:e?.schemaType??"output",path:[],visited:new Set,documentOptions:e},i=wf(t,n,["createSchema"]),s=dE({},r);return{schema:i,components:s}};function ll(t){return{builder:e=>{let{version:r,...n}=e??{};return uE(t,e?{openapi:r,...n}:void 0)},validator:t.parse}}function dl(t,e,r){let n=Qb(t,e,r);return Object.assign(n,{[Fs]:{resolver:async i=>sf(t,await ll(e).builder(i)),metadata:{schemaType:"input"}}})}var YG=A.object({success:A.boolean().openapi({example:!1}),error:A.object({issues:A.array(A.object({code:A.string().openapi({example:"invalid_type"}),message:A.string().openapi({example:"Expected number, received string"}),path:A.array(A.string()).openapi({example:["count"]})})),name:A.string().openapi({example:"Error"})})}),ul=(t="\uC5D0\uB7EC\uC751\uB2F5")=>({description:t,content:{"application/json":{schema:ll(YG.openapi({ref:"ErrorResponse"}))}}}),pl=t=>A.object({success:A.boolean(),data:t}),ml=t=>A.object({list:t.array(),cursor:A.string().nullable()}),fl=({description:t="\uC131\uACF5\uC751\uB2F5",resSchema:e})=>({description:t,content:{"application/json":{schema:ll(e)}}}),hl=()=>A.preprocess(t=>typeof t=="string"?parseInt(t,10):t,A.number());var iU=P(O_(),1);var H_=P(u_(),1),rU=P(g_(),1),nU=P(tU(),1),ihe=new H_.DynamoDBClient({region:"ap-northeast-2",credentials:(0,nU.fromEnv)()}),she=new H_.DynamoDBClient({region:"local",endpoint:"http://localhost:8000",credentials:{accessKeyId:"dummy",secretAccessKey:"dummy"}}),ohe=({local:t})=>t?she:ihe,jm=rU.DynamoDBDocumentClient.from(ohe({local:!1}));var ahe=(t,e)=>t instanceof Dt?{schema:t._def.innerType,config:{...e,required:!1}}:{schema:t,config:{...e,required:!0}},che=(t,e)=>t instanceof wn?{schema:t._def.innerType,config:{...e,default:t._def.defaultValue()}}:{schema:t,config:e},lhe=t=>t instanceof Cn?{type:typeof t._def.value,value:t._def.value,required:!0}:null,dhe=t=>t instanceof xn?{type:"string",enum:t._def.values,required:!0}:null,uhe=t=>t?.find(r=>r?.kind==="regex")?.regex,Bc=t=>t instanceof Dt||t._def.typeName==="ZodNullable"?Bc(t._def.innerType):t,phe=(t,e)=>Bc(t)instanceof Br?{...e,type:"string",required:e.required??!0,...t._def.checks&&{regex:uhe(t._def.checks)}}:null,mhe=(t,e)=>Bc(t)instanceof bn?{...e,type:"number",required:e.required??!0}:null,fhe=(t,e)=>Bc(t)instanceof En?{...e,type:"boolean",required:e.required??!0}:null,hhe=(t,e,r)=>{let i=[phe,mhe,fhe].map(s=>s(t,e)).find(s=>s!==null);if(i)return i;throw new Error(`\uC9C0\uC6D0\uD558\uC9C0 \uC54A\uB294 Zod \uD0C0\uC785: "${r}"`)},yhe=(t,e)=>{let{schema:r,config:n}=ahe(e,{}),{schema:i,config:s}=che(r,n),o=lhe(i);if(o)return o;let a=dhe(i);return a||hhe(i,s,t)},ghe=t=>{let e=Object.entries(t.shape).map(([r,n])=>[r,yhe(r,n)]);return Object.fromEntries(e)},Lm=ghe;var vhe=Lm(ol),_he=new iU.Entity({model:{entity:"hospital",version:"1",service:"doctorGuide"},attributes:vhe,indexes:{primary:{pk:{field:"pk",composite:["INST_ID"]},sk:{field:"sk",composite:[]}},classification:{index:"hospital-classification-index",pk:{field:"HSPTL_CLSF_NM",composite:["HSPTL_CLSF_NM"]},sk:{field:"INST_NM",composite:["INST_NM"]}},name:{index:"hospital-name-index",pk:{field:"INST_NM",composite:["INST_NM"]}},emergency:{index:"emergency-room-index",pk:{field:"EMRO_OPER_YN_",composite:["EMRO_OPER_YN_"]},sk:{field:"HSPTL_CLSF_NM",composite:["HSPTL_CLSF_NM"]}},region:{index:"region-index",pk:{field:"ADDR_REGION",composite:["ADDR_REGION"]},sk:{field:"INST_NM",composite:["INST_NM"]}}}},{table:"Hospital-safetydata",client:jm}),sU=_he;var bhe=async t=>{let e=await sU.scan.where(({ADDR:r,FIAI_MDLCR_INST_CD_NM:n},{contains:i})=>{let s=[];return t.ADDR&&s.push(i(r,t.ADDR)),t.FIAI_MDLCR_INST_CD_NM&&s.push(i(n,t.FIAI_MDLCR_INST_CD_NM)),s.length>0?s.join(" AND "):""}).go({ignoreOwnership:!0,limit:t.limit,cursor:t.cursor});return{list:e.data,cursor:e.cursor}},oU=bhe;var Ehe=A.object({limit:hl().optional().openapi({description:"\uD398\uC774\uC9C0 \uB2F9 \uB808\uCF54\uB4DC \uAC1C\uC218",example:"10"}),cursor:A.string().optional().openapi({description:"\uB2E4\uC74C \uD398\uC774\uC9C0\uB97C \uC870\uD68C\uD558\uB294 \uCEE4\uC11C"}),ADDR:A.string().optional().openapi({description:"\uC8FC\uC18C",example:"\uC11C\uC6B8"}),FIAI_MDLCR_INST_CD_NM:A.string().optional().openapi({description:"\uC751\uAE09\uC758\uB8CC\uAE30\uAD00\uCF54\uB4DC\uBA85",example:"\uC751\uAE09"})}),She=ml(ol),Che=pl(She).openapi({ref:"HospitalResponse"}),aU=new $i;aU.get("/",Xc({description:"\uC7AC\uB09C\uC548\uC804\uB370\uC774\uD130 \uACF5\uC720\uD50C\uB7AB\uD3FC\uC774 \uC81C\uACF5\uD558\uB294 \uD589\uC815\uC548\uC804\uBD80 \uBCD1\uC758\uC6D0 POI \uBAA9\uB85D\uC744 \uBC18\uD658\uD558\uB294 get \uBA54\uC18C\uB4DC",responses:{200:fl({resSchema:Che}),400:ul()}}),dl("query",Ehe),async t=>{let e=t.req.valid("query"),n={success:!0,data:await oU(e)};return t.json(n)});var cU=aU;var xhe=A.object({MDEXM_END_HR_THDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uBAA9\uC694\uC77C",example:"2000"}),INST_EXPLN_DTL:A.string().nullable().openapi({description:"\uAE30\uAD00\uC124\uBA85\uC0C1\uC138"}),MDEXM_BGNG_HR_STDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uD1A0\uC694\uC77C",example:"1000"}),MDEXM_BGNG_HR_MNDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uC6D4\uC694\uC77C",example:"1000"}),MDEXM_BGNG_HR_SNDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uC77C\uC694\uC77C"}),INST_ID:A.string().nullable().openapi({description:"\uAE30\uAD00\uC544\uC774\uB514",example:"C2800751"}),MDEXM_END_HR_MNDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uC6D4\uC694\uC77C",example:"2000"}),RMRK:A.string().nullable().openapi({description:"\uBE44\uACE0"}),ESNS:A.string().nullable().openapi({description:"\uAC04\uC774",example:"\uC6C5\uC0C1\uC9C0\uAD6C\uB300"}),MDEXM_END_HR_STDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uD1A0\uC694\uC77C",example:"2000"}),MDEXM_END_HR_WDDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uC218\uC694\uC77C",example:"2000"}),SN:A.number().nullable().openapi({description:"\uC77C\uB828\uBC88\uD638",example:234}),MDEXM_END_HR_SNDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uC77C\uC694\uC77C"}),GEOM:A.string().nullable().openapi({description:"\uC9C0\uC624\uBA54\uD2B8\uB9AC",example:"POINT(14379397.96265367 4220567.7607631003)"}),MDEXM_BGNG_HR_THDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uBAA9\uC694\uC77C",example:"1000"}),INST_NM:A.string().nullable().openapi({description:"\uC57D\uAD6D\uC774\uB984",example:"\uBA85\uB3D9\uC57D\uAD6D"}),ZIP_2:A.string().nullable().openapi({description:"\uC6B0\uD3B8\uBC88\uD6382",example:"32"}),MDEXM_BGNG_HR_TSDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uD654\uC694\uC77C",example:"1000"}),WKND_MDEXM_YN:A.string().nullable().openapi({description:"\uC8FC\uB9D0\uC9C4\uB8CC\uC5EC\uBD80",example:"Y"}),ZIP_1:A.string().nullable().openapi({description:"\uC6B0\uD3B8\uBC88\uD6381",example:"505"}),MDEXM_BGNG_HR_LHLDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uACF5\uD734\uC77C",example:"1000"}),MDEXM_END_HR_FRDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uAE08\uC694\uC77C",example:"2000"}),ADDR:A.string().nullable().openapi({description:"\uC8FC\uC18C",example:"\uACBD\uC0C1\uB0A8\uB3C4 \uC591\uC0B0\uC2DC \uB300\uC6B4\uB85C 181, 1\uCE35 (\uBA85\uB3D9)"}),MDEXM_BGNG_HR_FRDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uAE08\uC694\uC77C",example:"1000"}),LOT:A.number().nullable().openapi({description:"\uACBD\uB3C4",example:129.1723296629}),YMAP_CRTS:A.number().nullable().openapi({description:"Y\uC9C0\uB3C4\uC88C\uD45C",example:42205677607631e-7}),RPRS_TELNO:A.string().nullable().openapi({description:"\uB300\uD45C\uC804\uD654\uBC88\uD638",example:"055-365-2584"}),MDEXM_END_HR_TSDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uD654\uC694\uC77C",example:"2000"}),MDEXM_END_HR_LHLDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC885\uB8CC\uC2DC\uAC04\uACF5\uD734\uC77C",example:"2000"}),MDEXM_BGNG_HR_WDDY:A.string().nullable().openapi({description:"\uC9C4\uB8CC\uC2DC\uC791\uC2DC\uAC04\uC218\uC694\uC77C",example:"1000"}),XMAP_CRTS:A.number().nullable().openapi({description:"X\uC9C0\uB3C4\uC88C\uD45C",example:14379397962653672e-9}),LAT:A.number().nullable().openapi({description:"\uC704\uB3C4",example:35.4160672505}),ADDR_REGION:A.string().nullable().openapi({description:"\uC8FC\uC18C \uC9C0\uC5ED (\uAC80\uC0C9\uC6A9)",example:"\uACBD\uC0C1\uB0A8\uB3C4"})}).openapi({ref:"PharmacyPoiSchema"}),$m=xhe;var lU=P(O_(),1);var whe=Lm($m),Ihe=new lU.Entity({model:{entity:"pharmacy",version:"1",service:"pharmacyService"},attributes:whe,indexes:{primary:{pk:{field:"pk",composite:["INST_ID"]},sk:{field:"sk",composite:[]}},name:{index:"pharmacy-name-index",pk:{field:"INST_NM",composite:["INST_NM"]}},region:{index:"pharmacy-region-index",pk:{field:"ADDR_REGION",composite:["ADDR_REGION"]},sk:{field:"INST_NM",composite:["INST_NM"]}},weekend:{index:"pharmacy-weekend-index",pk:{field:"WKND_MDEXM_YN",composite:["WKND_MDEXM_YN"]},sk:{field:"INST_NM",composite:["INST_NM"]}}}},{table:"Pharmacy-safetydata",client:jm}),dU=Ihe;var The=async t=>{let e=await dU.scan.where(({ADDR:r,INST_NM:n},{contains:i})=>{let s=[];return t.ADDR&&s.push(i(r,t.ADDR)),t.INST_NM&&s.push(i(n,t.INST_NM)),s.length>0?s.join(" AND "):""}).go({ignoreOwnership:!0,limit:t.limit,cursor:t.cursor});return{list:e.data,cursor:e.cursor}},uU=The;var Phe=A.object({limit:hl().optional().openapi({description:"\uD398\uC774\uC9C0 \uB2F9 \uB808\uCF54\uB4DC \uAC1C\uC218",example:"10"}),cursor:A.string().optional().openapi({description:"\uB2E4\uC74C \uD398\uC774\uC9C0\uB97C \uC870\uD68C\uD558\uB294 \uCEE4\uC11C"}),ADDR:A.string().optional().openapi({description:"\uC8FC\uC18C",example:"\uACBD\uAE30"}),INST_NM:A.string().optional().openapi({description:"\uC57D\uAD6D\uC774\uB984",example:"\uC5ED\uACE1"})}),Ahe=ml($m),Ohe=pl(Ahe).openapi({ref:"PharamacyResponse"}),pU=new $i;pU.get("/",Xc({description:"\uC7AC\uB09C\uC548\uC804\uB370\uC774\uD130 \uACF5\uC720\uD50C\uB7AB\uD3FC\uC774 \uC81C\uACF5\uD558\uB294 \uD589\uC815\uC548\uC804\uBD80 \uC57D\uAD6D POI \uBAA9\uB85D\uC744 \uBC18\uD658\uD558\uB294 get \uBA54\uC18C\uB4DC",responses:{200:fl({resSchema:Ohe}),400:ul()}}),dl("query",Phe),async t=>{let e=t.req.valid("query"),n={success:!0,data:await uU(e)};return t.json(n)});var mU=pU;oa.route("/hospital",cU);oa.route("/pharamacy",mU);var Rhe=Um(oa),Nhe=oa;0&&(module.exports={handler});
